[
    {
        "id": "4702b097.59f3b",
        "type": "tab",
        "label": "Link Outs",
        "disabled": false,
        "info": ""
    },
    {
        "id": "d06ad5d7.7d1a38",
        "type": "tab",
        "label": "KT - Motion Lighting",
        "disabled": true,
        "info": ""
    },
    {
        "id": "68ba5945.906288",
        "type": "tab",
        "label": "Light/Fan/Motion Control [Alexa]",
        "disabled": false,
        "info": "1) Turns lights on and off per the room you are in.\n2) Turns the fans on and off per the room you are in."
    },
    {
        "id": "73f998b9.8842a8",
        "type": "tab",
        "label": "GM,GN Routines [Alexa]",
        "disabled": false,
        "info": ""
    },
    {
        "id": "d61084e.39e0678",
        "type": "tab",
        "label": "Volume Fix [Alexa]",
        "disabled": false,
        "info": ""
    },
    {
        "id": "345f283.d5796d8",
        "type": "tab",
        "label": "Mode Change",
        "disabled": false,
        "info": ""
    },
    {
        "id": "f2fbef66.3730f",
        "type": "tab",
        "label": "Thermostat",
        "disabled": false,
        "info": ""
    },
    {
        "id": "7e547b10.f1db64",
        "type": "tab",
        "label": "Arlo Geofenced Schedule",
        "disabled": false,
        "info": ""
    },
    {
        "id": "a36e04ad.fc4098",
        "type": "tab",
        "label": "InfluxDB/Grafana Test",
        "disabled": false,
        "info": ""
    },
    {
        "id": "66eb8402.daa4fc",
        "type": "tab",
        "label": "Speed Test",
        "disabled": false,
        "info": ""
    },
    {
        "id": "f3e4e663.9ecbb8",
        "type": "tab",
        "label": "Automated Backups",
        "disabled": true,
        "info": ""
    },
    {
        "id": "e1557285.e3f86",
        "type": "tab",
        "label": "LF - Colin's Bedroom",
        "disabled": false,
        "info": ""
    },
    {
        "id": "993c3146.12722",
        "type": "tab",
        "label": "Intro Flows",
        "disabled": false,
        "info": ""
    },
    {
        "id": "cb4b5b0a.f09b68",
        "type": "subflow",
        "name": "Alexa Device Handler",
        "info": "This subflow takes a Alexa Device Activity payload and checks which Echo device it came from and directs the message accordingly.",
        "category": "alexa",
        "in": [
            {
                "x": 340,
                "y": 140,
                "wires": [
                    {
                        "id": "e67c4d69.4d19c"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 620,
                "y": 80,
                "wires": [
                    {
                        "id": "e67c4d69.4d19c",
                        "port": 0
                    }
                ]
            },
            {
                "x": 620,
                "y": 120,
                "wires": [
                    {
                        "id": "e67c4d69.4d19c",
                        "port": 1
                    }
                ]
            },
            {
                "x": 620,
                "y": 160,
                "wires": [
                    {
                        "id": "e67c4d69.4d19c",
                        "port": "2"
                    }
                ]
            },
            {
                "x": 620,
                "y": 200,
                "wires": [
                    {
                        "id": "e67c4d69.4d19c",
                        "port": "3"
                    },
                    {
                        "id": "e67c4d69.4d19c",
                        "port": 4
                    }
                ]
            }
        ],
        "env": [],
        "color": "#6FBAD8",
        "inputLabels": [
            "Alexa Device Activity Payload"
        ],
        "outputLabels": [
            "Great Room",
            "Downstairs Bedroom",
            "Kitchen",
            "Master Bedroom"
        ],
        "icon": "node-red-contrib-hubitat/device.svg"
    },
    {
        "id": "ac12c9d8.613d38",
        "type": "subflow",
        "name": "Mode Variables",
        "info": "This stores the data associated with each mode, each mode which contains data associated with each room.",
        "category": "hubitat",
        "in": [
            {
                "x": 60,
                "y": 60,
                "wires": [
                    {
                        "id": "be5a80cf.7fe59"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 680,
                "y": 40,
                "wires": [
                    {
                        "id": "98aa6dc5.7fb68",
                        "port": 0
                    }
                ]
            },
            {
                "x": 680,
                "y": 80,
                "wires": [
                    {
                        "id": "fbbbf44.f20c308",
                        "port": 0
                    }
                ]
            },
            {
                "x": 680,
                "y": 120,
                "wires": [
                    {
                        "id": "ee672932.b889f8",
                        "port": 0
                    }
                ]
            },
            {
                "x": 680,
                "y": 160,
                "wires": [
                    {
                        "id": "fa1db06f.77cad",
                        "port": 0
                    }
                ]
            },
            {
                "x": 680,
                "y": 200,
                "wires": [
                    {
                        "id": "f1d1cb2e.dcdff8",
                        "port": 0
                    }
                ]
            },
            {
                "x": 680,
                "y": 240,
                "wires": [
                    {
                        "id": "cbb6f5e3.a0c998",
                        "port": 0
                    }
                ]
            },
            {
                "x": 680,
                "y": 280,
                "wires": [
                    {
                        "id": "88d18988.5bf308",
                        "port": 0
                    }
                ]
            },
            {
                "x": 680,
                "y": 320,
                "wires": [
                    {
                        "id": "660dffb4.d7181",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "color": "#ACE043",
        "outputLabels": [
            "Day Args",
            "Day No Args",
            "Evening Args",
            "Evening No Args",
            "Night Args",
            "Night No Args",
            "Away Args",
            "Away No Args"
        ],
        "icon": "node-red/leveldb.png"
    },
    {
        "id": "5618f29.6116b0c",
        "type": "subflow",
        "name": "Get Echo Serials",
        "info": "This subflow gets the serial numbers and names for all echo devices",
        "category": "alexa",
        "in": [
            {
                "x": 100,
                "y": 320,
                "wires": [
                    {
                        "id": "d6bd2709.bb14a8"
                    }
                ]
            }
        ],
        "out": [],
        "env": [],
        "color": "#6FBAD8",
        "inputLabels": [
            "Trigger"
        ],
        "icon": "node-red/hash.svg"
    },
    {
        "id": "1ca15330.84243d",
        "type": "subflow",
        "name": "Raw Presence Backup",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 60,
                "y": 60,
                "wires": [
                    {
                        "id": "a12adaac.d9d4b8"
                    },
                    {
                        "id": "5f50aa44.6c3514"
                    },
                    {
                        "id": "858d9fbf.b9b2e"
                    },
                    {
                        "id": "fb38c864.f5b9d8"
                    },
                    {
                        "id": "7e633e33.22216"
                    },
                    {
                        "id": "686a0f13.80b6c"
                    },
                    {
                        "id": "9f7dd1e7.80f0b"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 900,
                "y": 180,
                "wires": [
                    {
                        "id": "8a8ff10b.c3fa9",
                        "port": 0
                    }
                ]
            },
            {
                "x": 900,
                "y": 240,
                "wires": [
                    {
                        "id": "8a8ff10b.c3fa9",
                        "port": 1
                    }
                ]
            },
            {
                "x": 900,
                "y": 300,
                "wires": [
                    {
                        "id": "8a8ff10b.c3fa9",
                        "port": 2
                    }
                ]
            }
        ],
        "env": [],
        "color": "#DDAA99"
    },
    {
        "id": "c72800c4.5f936",
        "type": "subflow",
        "name": "Geofenced Schedule Backup",
        "info": "",
        "category": "",
        "in": [],
        "out": [],
        "env": [],
        "color": "#DDAA99"
    },
    {
        "id": "86a351d5.46c19",
        "type": "subflow",
        "name": "Room Variables",
        "info": "This stores the default variables and data associated with each room",
        "category": "hubitat",
        "in": [
            {
                "x": 60,
                "y": 80,
                "wires": [
                    {
                        "id": "1001ff60.ab0351"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 760,
                "y": 80,
                "wires": [
                    {
                        "id": "39d6afc6.5b413",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "gr_level",
                "type": "num",
                "value": "100"
            },
            {
                "name": "gr_volume",
                "type": "num",
                "value": "75"
            },
            {
                "name": "gr_heatSetpoint",
                "type": "num",
                "value": "72"
            },
            {
                "name": "gr_thermostatMode",
                "type": "str",
                "value": "heat"
            },
            {
                "name": "mb_level",
                "type": "num",
                "value": "100"
            },
            {
                "name": "mb_volume",
                "type": "num",
                "value": "75"
            },
            {
                "name": "mb_heatSetpoint",
                "type": "num",
                "value": "70"
            },
            {
                "name": "mb_thermostatMode",
                "type": "str",
                "value": "heat"
            },
            {
                "name": "kt_level",
                "type": "num",
                "value": "100"
            },
            {
                "name": "kt_volume",
                "type": "num",
                "value": "75"
            },
            {
                "name": "db_level",
                "type": "num",
                "value": "100"
            },
            {
                "name": "db_volume",
                "type": "num",
                "value": "75"
            },
            {
                "name": "kt_ct",
                "type": "str",
                "value": "4000"
            }
        ],
        "color": "#ACE043",
        "icon": "node-red/db.svg"
    },
    {
        "id": "1b6cb505.3a434b",
        "type": "subflow",
        "name": "HE Light Arguments",
        "info": "This converts data stored in payload to `arguments` that the Hubitat nodes read.",
        "category": "hubitat",
        "in": [
            {
                "x": 60,
                "y": 100,
                "wires": [
                    {
                        "id": "82b30702.ac2918"
                    },
                    {
                        "id": "da4bb0c.9f49a5"
                    },
                    {
                        "id": "2e83613b.aa3a8e"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 320,
                "y": 60,
                "wires": [
                    {
                        "id": "82b30702.ac2918",
                        "port": 0
                    }
                ]
            },
            {
                "x": 320,
                "y": 100,
                "wires": [
                    {
                        "id": "da4bb0c.9f49a5",
                        "port": 0
                    }
                ]
            },
            {
                "x": 320,
                "y": 140,
                "wires": [
                    {
                        "id": "2e83613b.aa3a8e",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "color": "#ACE043",
        "outputLabels": [
            "Great Room",
            "Kitchen",
            "Downstairs Bedroom"
        ],
        "icon": "node-red/swap.svg"
    },
    {
        "id": "435a82d9.b4e8dc",
        "type": "subflow",
        "name": "HE Thermostat Arguments",
        "info": "This converts data stored in payload to `arguments` that the Hubitat nodes read.",
        "category": "hubitat",
        "in": [
            {
                "x": 60,
                "y": 120,
                "wires": [
                    {
                        "id": "5faa0e17.bf9bb"
                    },
                    {
                        "id": "708cbaf0.a98f64"
                    },
                    {
                        "id": "faa19bef.e116b8"
                    },
                    {
                        "id": "7530da86.dac334"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 380,
                "y": 60,
                "wires": [
                    {
                        "id": "5faa0e17.bf9bb",
                        "port": 0
                    }
                ]
            },
            {
                "x": 380,
                "y": 100,
                "wires": [
                    {
                        "id": "faa19bef.e116b8",
                        "port": 0
                    }
                ]
            },
            {
                "x": 380,
                "y": 140,
                "wires": [
                    {
                        "id": "708cbaf0.a98f64",
                        "port": 0
                    }
                ]
            },
            {
                "x": 380,
                "y": 180,
                "wires": [
                    {
                        "id": "7530da86.dac334",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "color": "#ACE043",
        "outputLabels": [
            "GR - Heat Setpoint",
            "MB - Heat Setpoint",
            "GR - Thermostat Mode",
            "MB - Thermostat Mode"
        ],
        "icon": "node-red/swap.svg"
    },
    {
        "id": "216ae92.d7b9116",
        "type": "subflow",
        "name": "HE Kitchen Arguments",
        "info": "",
        "category": "hubitat",
        "in": [
            {
                "x": 100,
                "y": 100,
                "wires": [
                    {
                        "id": "3131172f.ca5b18"
                    },
                    {
                        "id": "5b807c1.0346684"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 300,
                "y": 80,
                "wires": [
                    {
                        "id": "3131172f.ca5b18",
                        "port": 0
                    }
                ]
            },
            {
                "x": 300,
                "y": 120,
                "wires": [
                    {
                        "id": "5b807c1.0346684",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "color": "#ACE043",
        "outputLabels": [
            "level",
            "color temperature"
        ],
        "icon": "node-red/swap.svg"
    },
    {
        "id": "836b4374.e4af2",
        "type": "subflow",
        "name": "Kitchen Christmas Lighting",
        "info": "",
        "category": "hubitat",
        "in": [
            {
                "x": 60,
                "y": 60,
                "wires": [
                    {
                        "id": "59439dff.859474"
                    }
                ]
            }
        ],
        "out": [],
        "env": [],
        "color": "#ACE043",
        "icon": "node-red-dashboard/ui_colour_picker.png",
        "status": {
            "x": 1040,
            "y": 400,
            "wires": [
                {
                    "id": "edb7a7ed.2eb3e8",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "7fd4877d.2ab0a8",
        "type": "subflow",
        "name": "Login to Hubitat",
        "info": "",
        "category": "hubitat",
        "in": [
            {
                "x": 40,
                "y": 80,
                "wires": [
                    {
                        "id": "ebbab56c.e84458"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1000,
                "y": 80,
                "wires": [
                    {
                        "id": "b48176a3.71a648",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "color": "#ACE043",
        "icon": "node-red-contrib-hubitat/command.svg"
    },
    {
        "id": "16de2fad.7629a",
        "type": "subflow",
        "name": "Kitchen Motion Status",
        "info": "",
        "category": "hubitat",
        "in": [
            {
                "x": 60,
                "y": 60,
                "wires": [
                    {
                        "id": "84eb190d.873ac8"
                    },
                    {
                        "id": "c6c89dde.19eb6"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 780,
                "y": 60,
                "wires": [
                    {
                        "id": "4d988610.c291b8",
                        "port": 0
                    }
                ]
            },
            {
                "x": 780,
                "y": 100,
                "wires": [
                    {
                        "id": "4d988610.c291b8",
                        "port": 1
                    }
                ]
            },
            {
                "x": 780,
                "y": 140,
                "wires": [
                    {
                        "id": "4d988610.c291b8",
                        "port": 2
                    }
                ]
            }
        ],
        "env": [],
        "color": "#ACE043",
        "outputLabels": [
            "AND",
            "OR",
            "XOR"
        ],
        "icon": "font-awesome/fa-street-view",
        "status": {
            "x": 780,
            "y": 200,
            "wires": [
                {
                    "id": "f1d071a9.ef536",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "64781044.3bdae",
        "type": "subflow",
        "name": "Master Bedroom Motion Status",
        "info": "",
        "category": "hubitat",
        "in": [
            {
                "x": 60,
                "y": 60,
                "wires": [
                    {
                        "id": "7f4a5185.45e82"
                    },
                    {
                        "id": "318d6656.4cc6ba"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 780,
                "y": 60,
                "wires": [
                    {
                        "id": "6ba94bd2.7531c4",
                        "port": 0
                    }
                ]
            },
            {
                "x": 780,
                "y": 100,
                "wires": [
                    {
                        "id": "6ba94bd2.7531c4",
                        "port": 1
                    }
                ]
            },
            {
                "x": 780,
                "y": 140,
                "wires": [
                    {
                        "id": "6ba94bd2.7531c4",
                        "port": 2
                    }
                ]
            }
        ],
        "env": [],
        "color": "#ACE043",
        "outputLabels": [
            "AND",
            "OR",
            "XOR"
        ],
        "icon": "font-awesome/fa-street-view",
        "status": {
            "x": 780,
            "y": 200,
            "wires": [
                {
                    "id": "75f6710b.34cce",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "d1d55504.1f3638",
        "type": "subflow",
        "name": "Great Room Motion Status",
        "info": "",
        "category": "hubitat",
        "in": [
            {
                "x": 60,
                "y": 60,
                "wires": [
                    {
                        "id": "f67fb867.f5f0f8"
                    },
                    {
                        "id": "8f4f5624.ac2e98"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 780,
                "y": 60,
                "wires": [
                    {
                        "id": "daee8f2a.149f4",
                        "port": 0
                    }
                ]
            },
            {
                "x": 780,
                "y": 100,
                "wires": [
                    {
                        "id": "daee8f2a.149f4",
                        "port": 1
                    }
                ]
            },
            {
                "x": 780,
                "y": 140,
                "wires": [
                    {
                        "id": "daee8f2a.149f4",
                        "port": 2
                    }
                ]
            }
        ],
        "env": [],
        "color": "#ACE043",
        "outputLabels": [
            "AND",
            "OR",
            "XOR"
        ],
        "icon": "font-awesome/fa-street-view",
        "status": {
            "x": 780,
            "y": 200,
            "wires": [
                {
                    "id": "778523f2.7c7a2c",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "7a22a12f.dcfd3",
        "type": "group",
        "z": "d06ad5d7.7d1a38",
        "style": {
            "stroke": "#2e333a",
            "stroke-opacity": "1",
            "fill": "#2e333a",
            "fill-opacity": "0.75",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e665fc05.8ac82",
            "f5de1a5c.bb3c88",
            "61b718e4.b83798",
            "da18749d.085f98",
            "19897a05.077a76",
            "7015b08c.1a59c",
            "73992bfd.8673e4",
            "f8ce7b3f.ff69a8"
        ],
        "x": 34,
        "y": 199
    },
    {
        "id": "da906c01.3168e",
        "type": "group",
        "z": "d06ad5d7.7d1a38",
        "style": {
            "stroke": "#2e333a",
            "stroke-opacity": "1",
            "fill": "#2e333a",
            "fill-opacity": "0.75",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "2cf6acef.7ff3b4",
            "e168c7e9.7c0a58",
            "ef0455d7.c394b8",
            "ba96a7be.88a808",
            "65a692c2.29e92c",
            "fcb2b3d7.ea53",
            "12822318.46878d"
        ],
        "x": 34,
        "y": 439
    },
    {
        "id": "568533ed.18d81c",
        "type": "group",
        "z": "d06ad5d7.7d1a38",
        "style": {
            "stroke": "#2e333a",
            "stroke-opacity": "1",
            "fill": "#2e333a",
            "fill-opacity": "0.75",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "c77415ae.0c0898",
            "e0fde455.a63148",
            "10f207f.699f0f8"
        ],
        "x": 34,
        "y": 39
    },
    {
        "id": "313d11f.0a7dfee",
        "type": "group",
        "z": "d06ad5d7.7d1a38",
        "style": {
            "stroke": "#2e333a",
            "stroke-opacity": "1",
            "fill": "#2e333a",
            "fill-opacity": "0.75",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "bf9bfc4d.29cbc",
            "346e72ef.2a49be"
        ],
        "x": 34,
        "y": 119
    },
    {
        "id": "b3ea31b2.17afa",
        "type": "group",
        "z": "d06ad5d7.7d1a38",
        "style": {
            "stroke": "#2e333a",
            "stroke-opacity": "1",
            "fill": "#2e333a",
            "fill-opacity": "0.75",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "6b7dc0d3.cd05c",
            "e1948775.5b3508",
            "88f4a100.58223",
            "55aedb59.eb56e4",
            "b132c448.4c40c8",
            "109491e9.01648e",
            "7c3fac3c.7c1184"
        ],
        "x": 614,
        "y": 299
    },
    {
        "id": "d79efd7b.7886b",
        "type": "group",
        "z": "d06ad5d7.7d1a38",
        "style": {
            "stroke": "#2e333a",
            "stroke-opacity": "1",
            "fill": "#2e333a",
            "fill-opacity": "0.75",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "7c4a0dd4.f78404",
            "da0483c.0b8398",
            "57054319.8ca22c",
            "aec974ed.66ef68",
            "da0c9656.4c85a8",
            "946f40b0.810bf"
        ],
        "x": 614,
        "y": 54
    },
    {
        "id": "bbd34e0c.99f3c",
        "type": "group",
        "z": "d06ad5d7.7d1a38",
        "style": {
            "stroke": "#2e333a",
            "stroke-opacity": "1",
            "fill": "#2e333a",
            "fill-opacity": "0.75",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "3b492c69.fad6d4",
            "bdb645fb.d597c8",
            "765865e1.d845dc",
            "76a99d7b.190774",
            "1ce3011f.bfec4f",
            "b5b9ce22.740c1",
            "654e6235.7b1b6c",
            "824209e0.28ad48"
        ],
        "x": 1154,
        "y": 59
    },
    {
        "id": "7b4c2b56.74bb34",
        "type": "group",
        "z": "d06ad5d7.7d1a38",
        "style": {
            "stroke": "#2e333a",
            "stroke-opacity": "1",
            "fill": "#2e333a",
            "fill-opacity": "0.75",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "bb819bb9.678df8",
            "661c4f62.8ac28",
            "992229ca.2f4a18",
            "a2573f76.c6d4",
            "73396064.ff8d",
            "89490a2d.afc628",
            "7dfd7833.207ba8"
        ],
        "x": 934,
        "y": 639
    },
    {
        "id": "911821c6.02bdd",
        "type": "group",
        "z": "d06ad5d7.7d1a38",
        "style": {
            "stroke": "#2e333a",
            "stroke-opacity": "1",
            "fill": "#2e333a",
            "fill-opacity": "0.75",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "38cdc5a2.b7bf5a",
            "185b0eb0.8c87e1",
            "faba5db4.5e538",
            "6f58cb1c.0479c4",
            "6826bbfc.20a8b4",
            "db14bbb8.fa7d38",
            "c9f7daf5.c10e58",
            "b6bec706.3933c8",
            "f96a84.add1058",
            "fca6d23.ec8263",
            "fe04002.96a03",
            "504ce0b.58c1a2",
            "cb702f83.5dd9c"
        ],
        "x": 1614,
        "y": 439
    },
    {
        "id": "6a56d8cc.28eeb8",
        "type": "group",
        "z": "68ba5945.906288",
        "style": {
            "stroke": "#2e333a",
            "stroke-opacity": "1",
            "fill": "#2e333a",
            "fill-opacity": "0.75",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e188401e.b56c",
            "15d1855a.e9ec2b",
            "b197f08b.eb07d",
            "7ce18ab4.787bf4",
            "c5d6a63.5a2d658",
            "2bf29b86.33b394",
            "4011fa87.a3ff34",
            "2f5eb111.62008e",
            "175246ab.d98c29",
            "eea4bbeb.999658",
            "9fd1e83a.485598"
        ],
        "x": 234,
        "y": 44
    },
    {
        "id": "26661ca0.b1d944",
        "type": "group",
        "z": "68ba5945.906288",
        "style": {
            "stroke": "#2e333a",
            "stroke-opacity": "1",
            "fill": "#2e333a",
            "fill-opacity": "0.75",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "80bb010d.082ce",
            "1737ebff.565734",
            "6f6ae5ea.792f9c",
            "c73b5d38.e4ed6",
            "83b32c58.41ce",
            "666629d2.9fdf18",
            "a4468c2.dde517",
            "5b9d4c70.22d984",
            "cd66091.af90cf8",
            "df44fb1a.f08208",
            "8bbc4fd1.22f5b"
        ],
        "x": 734,
        "y": 99
    },
    {
        "id": "641dcc83.ea3e04",
        "type": "group",
        "z": "68ba5945.906288",
        "style": {
            "stroke": "#2e333a",
            "stroke-opacity": "1",
            "fill": "#2e333a",
            "fill-opacity": "0.75",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "241e69db.e11a06",
            "ecbbc81f.d7d568",
            "6fde834f.86af3c",
            "1e8a631a.86fd0d",
            "81c44ec6.0ea8f",
            "bcf3c847.be6068",
            "8b221812.24a128",
            "4ef9f1f6.6c8db",
            "21d751c8.f7de4e",
            "82e3eab1.1d37d8",
            "7420ed20.3c1374",
            "d35e8c19.84041",
            "4386551f.5c679c",
            "8447f4.cf02d81",
            "c00fd277.ad2e8",
            "43f1bb07.4c8404"
        ],
        "x": 2334,
        "y": 119
    },
    {
        "id": "c9e65dc5.3adf2",
        "type": "group",
        "z": "68ba5945.906288",
        "style": {
            "stroke": "#2e333a",
            "stroke-opacity": "1",
            "fill": "#2e333a",
            "fill-opacity": "0.75",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "4beb3347.e3821c",
            "10274dad.3ea232",
            "5545589a.449e08",
            "934512e6.71049",
            "ef0c564a.379998",
            "aa0f1e83.d2a4e",
            "af7899d5.486ec8",
            "52e80eaf.ec2ec",
            "4b3df96e.0ee398",
            "89ab5121.73a8e",
            "bf9090fa.4d232",
            "b0f6010d.eac1c",
            "2a1a8e4b.ce15b2",
            "f0bb1ed4.befeb",
            "f8c72644.d4f038",
            "af75de6f.2641",
            "2d2dcea7.4096d2",
            "d16ecda4.01cc7",
            "c4fd27f6.48e488",
            "76a179c7.9945d8",
            "f680cc.0634df38",
            "9c9ffdd5.f3dfe",
            "20c82f9f.76e01"
        ],
        "x": 1214,
        "y": 59
    },
    {
        "id": "8da5ebc3.3ce6e8",
        "type": "group",
        "z": "a36e04ad.fc4098",
        "name": "Weather API",
        "style": {
            "stroke": "#ffC000",
            "fill": "#ffcf3f",
            "fill-opacity": "0.12",
            "label": true
        },
        "nodes": [
            "c93b0f9a.91d24",
            "943e96a3.21be98",
            "f83a30a6.523d3",
            "de9ac35b.69b59"
        ],
        "x": 34,
        "y": 39
    },
    {
        "id": "b130c189.ea4d2",
        "type": "hubitat config",
        "name": "Beach House Hubitat Config",
        "usetls": false,
        "host": "192.168.2.240",
        "port": "80",
        "appId": "801",
        "nodeRedServer": "http://192.168.2.253:1880",
        "webhookPath": "/hubitat/webhook",
        "autoRefresh": true,
        "useWebsocket": false
    },
    {
        "id": "4553eef5.ffc05",
        "type": "alexa-remote-account",
        "name": "Beach House Alexa Account",
        "authMethod": "proxy",
        "proxyOwnIp": "192.168.2.253",
        "proxyPort": "3456",
        "cookieFile": "/mnt/dietpi_userdata/node-red/alexaAuth/BH_authFile",
        "refreshInterval": "5",
        "alexaServiceHost": "pitangui.amazon.com",
        "amazonPage": "amazon.com",
        "acceptLanguage": "en-US",
        "userAgent": "",
        "useWsMqtt": "on",
        "autoInit": "on"
    },
    {
        "id": "fd6ba71d.7884c8",
        "type": "ui_base",
        "theme": {
            "name": "theme-dark",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
            },
            "themeState": {
                "base-color": {
                    "default": "#097479",
                    "value": "#097479",
                    "edited": false
                },
                "page-titlebar-backgroundColor": {
                    "value": "#097479",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#111111",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#0eb8c0",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#555555",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#eeeeee",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#097479",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#333333",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "bbc70dcb.af9b1",
        "type": "ui_group",
        "name": "Graphs",
        "tab": "4cee48f3.b3b3a8",
        "order": 1,
        "disp": false,
        "width": "6",
        "collapse": false
    },
    {
        "id": "8ea90f55.6cdc8",
        "type": "ui_group",
        "name": "Charts",
        "tab": "4cee48f3.b3b3a8",
        "order": 2,
        "disp": false,
        "width": "12",
        "collapse": false
    },
    {
        "id": "4cee48f3.b3b3a8",
        "type": "ui_tab",
        "name": "Internet Speed",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "d452a9d3.7a4488",
        "type": "alexa-remote-account",
        "name": "La France Alexa Account",
        "authMethod": "proxy",
        "proxyOwnIp": "192.168.2.253",
        "proxyPort": "4567",
        "cookieFile": "/mnt/dietpi_userdata/node-red/alexaAuth/LF_authFile",
        "refreshInterval": "5",
        "alexaServiceHost": "pitangui.amazon.com",
        "amazonPage": "amazon.com",
        "acceptLanguage": "en-US",
        "userAgent": "",
        "useWsMqtt": "on",
        "autoInit": "on"
    },
    {
        "id": "433a14d5.44c6dc",
        "type": "position-config",
        "name": "La France",
        "isValide": "true",
        "longitude": "0",
        "latitude": "0",
        "angleType": "deg",
        "timeZoneOffset": "99",
        "timeZoneDST": "0",
        "stateTimeFormat": "3",
        "stateDateFormat": "12"
    },
    {
        "id": "283e8204.4178ae",
        "type": "arlo-config",
        "name": "KMK Arlo"
    },
    {
        "id": "cd7fc366.3fdc9",
        "type": "arlo-config",
        "name": "CJK Arlo"
    },
    {
        "id": "a423c579.00e9a8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "8ea90f55.6cdc8",
        "order": 2,
        "width": 1,
        "height": 1
    },
    {
        "id": "2dc2e126.6a7bae",
        "type": "websocket-client",
        "path": "ws://192.168.2.240/eventsocket",
        "tls": "",
        "wholemsg": "true"
    },
    {
        "id": "3de4678f.7ce138",
        "type": "influxdb",
        "hostname": "127.0.0.1",
        "port": "8086",
        "protocol": "http",
        "database": "hubitat",
        "name": "Hubitat DB",
        "usetls": false,
        "tls": "",
        "influxdbVersion": "1.x",
        "url": "",
        "rejectUnauthorized": false
    },
    {
        "id": "b4d8ec3.84a421",
        "type": "vsh-connection",
        "name": "LF Alexa",
        "port": "8883",
        "accessTokenExpiry": "1612418443802"
    },
    {
        "id": "c4c56729.96e518",
        "type": "inject",
        "z": "993c3146.12722",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 120,
        "wires": [
            [
                "3d536109.b6c4ce"
            ]
        ]
    },
    {
        "id": "9e6c971.4835d68",
        "type": "debug",
        "z": "993c3146.12722",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 410,
        "y": 120,
        "wires": []
    },
    {
        "id": "3d536109.b6c4ce",
        "type": "function",
        "z": "993c3146.12722",
        "name": "date2string",
        "func": "// Create a Date object from the payload\nvar date = new Date(msg.payload);\n// Change the payload to be a formatted Date string\nmsg.payload = date.toString();\n// Return the message so it can be sent on\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 250,
        "y": 120,
        "wires": [
            [
                "9e6c971.4835d68"
            ]
        ]
    },
    {
        "id": "24855f2d.60a5",
        "type": "inject",
        "z": "993c3146.12722",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 80,
        "wires": [
            [
                "bb801dde.6b336"
            ]
        ]
    },
    {
        "id": "bb801dde.6b336",
        "type": "debug",
        "z": "993c3146.12722",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 410,
        "y": 80,
        "wires": []
    },
    {
        "id": "80bb010d.082ce",
        "type": "switch",
        "z": "68ba5945.906288",
        "g": "26661ca0.b1d944",
        "name": "Light Phrase Handler",
        "property": "payload.description.summary",
        "propertyType": "msg",
        "rules": [
            {
                "t": "regex",
                "v": "turn off (the )?light(s)?",
                "vt": "str",
                "case": false
            },
            {
                "t": "regex",
                "v": "turn on (the )?light(s)?",
                "vt": "str",
                "case": false
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 860,
        "y": 300,
        "wires": [
            [
                "df44fb1a.f08208"
            ],
            [
                "8bbc4fd1.22f5b"
            ]
        ]
    },
    {
        "id": "1737ebff.565734",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "26661ca0.b1d944",
        "name": "GR - Lights",
        "server": "b130c189.ea4d2",
        "deviceId": "1572",
        "command": "off",
        "commandArgs": "",
        "x": 1110,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "6f6ae5ea.792f9c",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "26661ca0.b1d944",
        "name": "DB - Lights",
        "server": "b130c189.ea4d2",
        "deviceId": "1574",
        "command": "off",
        "commandArgs": "",
        "x": 1110,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "c73b5d38.e4ed6",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "26661ca0.b1d944",
        "deviceLabel": "",
        "name": "KT - Lights",
        "server": "b130c189.ea4d2",
        "deviceId": "1573",
        "command": "off",
        "commandArgs": "",
        "x": 1110,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "83b32c58.41ce",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "26661ca0.b1d944",
        "name": "MB - Lights",
        "server": "b130c189.ea4d2",
        "deviceId": "1575",
        "command": "off",
        "commandArgs": "",
        "x": 1110,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "666629d2.9fdf18",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "26661ca0.b1d944",
        "name": "DB - Lights",
        "server": "b130c189.ea4d2",
        "deviceId": "1574",
        "command": "on",
        "commandArgs": "",
        "x": 1110,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "a4468c2.dde517",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "26661ca0.b1d944",
        "deviceLabel": "",
        "name": "KT - Lights",
        "server": "b130c189.ea4d2",
        "deviceId": "1573",
        "command": "on",
        "commandArgs": "",
        "x": 1110,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "5b9d4c70.22d984",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "26661ca0.b1d944",
        "name": "MB - Lights",
        "server": "b130c189.ea4d2",
        "deviceId": "1575",
        "command": "on",
        "commandArgs": "",
        "x": 1110,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "cd66091.af90cf8",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "26661ca0.b1d944",
        "name": "GR - Lights",
        "server": "b130c189.ea4d2",
        "deviceId": "1572",
        "command": "on",
        "commandArgs": "",
        "x": 1110,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "88d0b4c0.bff528",
        "type": "comment",
        "z": "993c3146.12722",
        "name": "Basic Flows",
        "info": "",
        "x": 90,
        "y": 40,
        "wires": []
    },
    {
        "id": "4ae69c8b.848694",
        "type": "comment",
        "z": "993c3146.12722",
        "name": "Basic Hubitat Flow",
        "info": "",
        "x": 110,
        "y": 200,
        "wires": []
    },
    {
        "id": "d70073d4.24fb2",
        "type": "hubitat command",
        "z": "993c3146.12722",
        "name": "Kitchen - Overhead Lights On",
        "server": "b130c189.ea4d2",
        "deviceId": "68",
        "command": "on",
        "commandArgs": "",
        "x": 730,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "f136b88f.d570b8",
        "type": "hubitat command",
        "z": "993c3146.12722",
        "name": "Kitchen - Overhead Lights Off",
        "server": "b130c189.ea4d2",
        "deviceId": "68",
        "command": "off",
        "commandArgs": "",
        "x": 730,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "ca4f3fd9.298",
        "type": "switch",
        "z": "993c3146.12722",
        "name": "",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 530,
        "y": 240,
        "wires": [
            [
                "f136b88f.d570b8"
            ],
            [
                "d70073d4.24fb2"
            ]
        ]
    },
    {
        "id": "8a4fbf62.e1fbb",
        "type": "hubitat device",
        "z": "993c3146.12722",
        "name": "Kitchen - Overhead Lights",
        "server": "b130c189.ea4d2",
        "deviceId": "68",
        "attribute": "switch",
        "sendEvent": false,
        "x": 350,
        "y": 240,
        "wires": [
            [
                "ca4f3fd9.298"
            ]
        ]
    },
    {
        "id": "fdf8f37b.f2aed",
        "type": "hubitat device",
        "z": "993c3146.12722",
        "name": "Node Red Test Button",
        "server": "b130c189.ea4d2",
        "deviceId": "804",
        "attribute": "pushed",
        "sendEvent": true,
        "x": 120,
        "y": 240,
        "wires": [
            [
                "8a4fbf62.e1fbb"
            ]
        ]
    },
    {
        "id": "39d4a09d.8dda2",
        "type": "inject",
        "z": "993c3146.12722",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 160,
        "y": 280,
        "wires": [
            [
                "8a4fbf62.e1fbb"
            ]
        ]
    },
    {
        "id": "e67c4d69.4d19c",
        "type": "switch",
        "z": "cb4b5b0a.f09b68",
        "name": "Device Handler",
        "property": "payload.deviceSerialNumber",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "G090U509912423CC",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "G6G0XG100134018V",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "G090U5099117264T",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "G090U509911620T7",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "G090U509912424HF",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 5,
        "x": 460,
        "y": 140,
        "wires": [
            [],
            [],
            [],
            [],
            []
        ],
        "inputLabels": [
            "Alexa Device Activity Payload"
        ],
        "outputLabels": [
            "Great Room",
            "Downstairs Bedroom",
            "Kitchen",
            "Master Bedroom L",
            "Master Bedroom R"
        ],
        "info": "Great Room - G090U509912423CC\nDownstairs Bedroom 1 - G6G0XG100134018V\nDownstairs Bedroom 2 - G090U509912424HF\nKitchen - G090U5099117264T\nMaster Bedroom - G090U509911620T7"
    },
    {
        "id": "df44fb1a.f08208",
        "type": "subflow:cb4b5b0a.f09b68",
        "z": "68ba5945.906288",
        "g": "26661ca0.b1d944",
        "name": "",
        "env": [],
        "x": 880,
        "y": 200,
        "wires": [
            [
                "1737ebff.565734"
            ],
            [
                "6f6ae5ea.792f9c"
            ],
            [
                "c73b5d38.e4ed6"
            ],
            [
                "83b32c58.41ce"
            ]
        ]
    },
    {
        "id": "8bbc4fd1.22f5b",
        "type": "subflow:cb4b5b0a.f09b68",
        "z": "68ba5945.906288",
        "g": "26661ca0.b1d944",
        "name": "",
        "x": 880,
        "y": 400,
        "wires": [
            [
                "cd66091.af90cf8"
            ],
            [
                "666629d2.9fdf18"
            ],
            [
                "a4468c2.dde517"
            ],
            [
                "5b9d4c70.22d984"
            ]
        ]
    },
    {
        "id": "c5d42927.3e5298",
        "type": "hubitat mode",
        "z": "ac12c9d8.613d38",
        "name": "",
        "server": "b130c189.ea4d2",
        "sendEvent": false,
        "x": 190,
        "y": 180,
        "wires": [
            [
                "910dea66.534338"
            ]
        ]
    },
    {
        "id": "910dea66.534338",
        "type": "switch",
        "z": "ac12c9d8.613d38",
        "name": "Mode Switch",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Day",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Evening",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Night",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Away",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 330,
        "y": 180,
        "wires": [
            [
                "98aa6dc5.7fb68",
                "fbbbf44.f20c308"
            ],
            [
                "ee672932.b889f8",
                "fa1db06f.77cad"
            ],
            [
                "f1d1cb2e.dcdff8",
                "cbb6f5e3.a0c998"
            ],
            [
                "88d18988.5bf308",
                "660dffb4.d7181"
            ]
        ]
    },
    {
        "id": "e188401e.b56c",
        "type": "switch",
        "z": "68ba5945.906288",
        "g": "6a56d8cc.28eeb8",
        "name": "Fan/Heater Phrase Handler",
        "property": "payload.description.summary",
        "propertyType": "msg",
        "rules": [
            {
                "t": "regex",
                "v": "turn on (the )?(fan|climate control)",
                "vt": "str",
                "case": false
            },
            {
                "t": "regex",
                "v": "turn off (the )?(fan|climate control)",
                "vt": "str",
                "case": false
            },
            {
                "t": "regex",
                "v": "turn off (the )?(heater|climate control|fireplace)",
                "vt": "str",
                "case": false
            },
            {
                "t": "regex",
                "v": "turn on (the )?(heater|climate control|fireplace)",
                "vt": "str",
                "case": false
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 4,
        "x": 400,
        "y": 300,
        "wires": [
            [
                "b197f08b.eb07d"
            ],
            [
                "15d1855a.e9ec2b"
            ],
            [
                "c5d6a63.5a2d658"
            ],
            [
                "7ce18ab4.787bf4"
            ]
        ]
    },
    {
        "id": "15d1855a.e9ec2b",
        "type": "subflow:cb4b5b0a.f09b68",
        "z": "68ba5945.906288",
        "g": "6a56d8cc.28eeb8",
        "name": "",
        "x": 360,
        "y": 100,
        "wires": [
            [],
            [],
            [],
            [
                "eea4bbeb.999658"
            ]
        ]
    },
    {
        "id": "b197f08b.eb07d",
        "type": "subflow:cb4b5b0a.f09b68",
        "z": "68ba5945.906288",
        "g": "6a56d8cc.28eeb8",
        "name": "",
        "env": [],
        "x": 360,
        "y": 200,
        "wires": [
            [],
            [],
            [],
            [
                "9fd1e83a.485598"
            ]
        ]
    },
    {
        "id": "1f71ef48.e3d2b1",
        "type": "template",
        "z": "66eb8402.daa4fc",
        "name": "time",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{mydate}} {{myhourpm}}:{{myminute}} {{mypm}}",
        "output": "str",
        "x": 330,
        "y": 380,
        "wires": [
            [
                "20d947ba.574ff8"
            ]
        ]
    },
    {
        "id": "90ec36f0.76ff08",
        "type": "switch",
        "z": "66eb8402.daa4fc",
        "name": "down < 75",
        "property": "payload.speeds.download",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "75",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 350,
        "y": 560,
        "wires": [
            [
                "a03f104b.58ff8"
            ]
        ]
    },
    {
        "id": "20d947ba.574ff8",
        "type": "ui_text",
        "z": "66eb8402.daa4fc",
        "group": "bbc70dcb.af9b1",
        "order": 5,
        "width": 0,
        "height": 0,
        "name": "Last Speedtest",
        "label": "Last Speedtest",
        "format": "<font color=\"cyan\">{{msg.payload}}</font>",
        "layout": "col-center",
        "x": 560,
        "y": 380,
        "wires": []
    },
    {
        "id": "583d4a26.363c14",
        "type": "change",
        "z": "66eb8402.daa4fc",
        "name": "download",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Download",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.speeds.download",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 340,
        "y": 300,
        "wires": [
            [
                "e1ab8c2f.e392",
                "e9e02950.ff4b58"
            ]
        ]
    },
    {
        "id": "72e2a082.86ed4",
        "type": "change",
        "z": "66eb8402.daa4fc",
        "name": "upload",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Upload",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.speeds.upload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 340,
        "wires": [
            [
                "b94b3762.47e0c8",
                "e9e02950.ff4b58"
            ]
        ]
    },
    {
        "id": "8c49c54d.a02b68",
        "type": "change",
        "z": "66eb8402.daa4fc",
        "name": "ping",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Ping",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.server.ping",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 420,
        "wires": [
            [
                "c4940128.b9dac",
                "f1bcce6.7a6d13"
            ]
        ]
    },
    {
        "id": "bded1eb.dfb7ce",
        "type": "change",
        "z": "66eb8402.daa4fc",
        "name": "distance",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.server.distanceMi",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Distance",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 340,
        "y": 460,
        "wires": [
            [
                "b583a0fc.628e4",
                "f1bcce6.7a6d13"
            ]
        ]
    },
    {
        "id": "1856e740.6b09b9",
        "type": "change",
        "z": "66eb8402.daa4fc",
        "name": "ISP",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.server.sponsor",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 500,
        "wires": [
            [
                "564197da.5d0ba8"
            ]
        ]
    },
    {
        "id": "d335b417.56dfa8",
        "type": "ui_button",
        "z": "66eb8402.daa4fc",
        "name": "",
        "group": "bbc70dcb.af9b1",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "SpeedTest Now!",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "date",
        "topic": "",
        "x": 200,
        "y": 60,
        "wires": [
            [
                "6c891bc6.bc8204"
            ]
        ]
    },
    {
        "id": "a03f104b.58ff8",
        "type": "template",
        "z": "66eb8402.daa4fc",
        "name": "Message",
        "field": "arguments",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Internet speed was {{payload.speeds.download}}/{{payload.speeds.upload}} (down/up Mbits/s) at {{mytimes}} on {{mymonthn}}/{{mydom}}. Speedtest server was {{payload.server.sponsor}}.",
        "output": "str",
        "x": 500,
        "y": 580,
        "wires": [
            [
                "e682d7ac.220ae8"
            ]
        ]
    },
    {
        "id": "e1ab8c2f.e392",
        "type": "ui_gauge",
        "z": "66eb8402.daa4fc",
        "name": "",
        "group": "bbc70dcb.af9b1",
        "order": 6,
        "width": 0,
        "height": 0,
        "gtype": "gage",
        "title": "Download Speed",
        "label": "Download Mbits",
        "format": "{{value}}",
        "min": 0,
        "max": "1000",
        "colors": [
            "#ff002d",
            "#e4b400",
            "#03f81f"
        ],
        "seg1": "50",
        "seg2": "100",
        "x": 570,
        "y": 300,
        "wires": []
    },
    {
        "id": "e9e02950.ff4b58",
        "type": "ui_chart",
        "z": "66eb8402.daa4fc",
        "name": "Performance Chart",
        "group": "8ea90f55.6cdc8",
        "order": 1,
        "width": 12,
        "height": 6,
        "label": "Performance Chart",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": "3",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": "",
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "x": 570,
        "y": 120,
        "wires": [
            [
                "fd73f8a9.7fb728"
            ]
        ]
    },
    {
        "id": "b94b3762.47e0c8",
        "type": "ui_gauge",
        "z": "66eb8402.daa4fc",
        "name": "",
        "group": "bbc70dcb.af9b1",
        "order": 7,
        "width": 0,
        "height": 0,
        "gtype": "gage",
        "title": "Upload Speed",
        "label": "Upload MBits",
        "format": "{{value}}",
        "min": 0,
        "max": "1000",
        "colors": [
            "#ff002d",
            "#ffed36",
            "#03f81f"
        ],
        "seg1": "50",
        "seg2": "100",
        "x": 560,
        "y": 340,
        "wires": []
    },
    {
        "id": "c4940128.b9dac",
        "type": "ui_text",
        "z": "66eb8402.daa4fc",
        "group": "bbc70dcb.af9b1",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Ping (ms)",
        "format": "<font color=\"cyan\">{{msg.payload}}</font>",
        "layout": "col-center",
        "x": 540,
        "y": 420,
        "wires": []
    },
    {
        "id": "f1bcce6.7a6d13",
        "type": "ui_chart",
        "z": "66eb8402.daa4fc",
        "name": "Latency Chart",
        "group": "8ea90f55.6cdc8",
        "order": 2,
        "width": 12,
        "height": 6,
        "label": "Latency Chart",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": "3",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": "",
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "x": 560,
        "y": 240,
        "wires": [
            [
                "843d210e.9fb6c"
            ]
        ]
    },
    {
        "id": "b583a0fc.628e4",
        "type": "ui_text",
        "z": "66eb8402.daa4fc",
        "group": "bbc70dcb.af9b1",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Distance",
        "format": "<font color=\"cyan\">{{msg.payload}} mi</font>",
        "layout": "col-center",
        "x": 540,
        "y": 460,
        "wires": []
    },
    {
        "id": "564197da.5d0ba8",
        "type": "ui_text",
        "z": "66eb8402.daa4fc",
        "group": "bbc70dcb.af9b1",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Hosted By",
        "format": "<font color=\"cyan\">{{msg.payload}}</font>",
        "layout": "col-center",
        "x": 550,
        "y": 500,
        "wires": []
    },
    {
        "id": "fd73f8a9.7fb728",
        "type": "file",
        "z": "66eb8402.daa4fc",
        "name": "Speed Test Data Save",
        "filename": "/mnt/dietpi_userdata/node-red/data/speedtest/speedtestData.json",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 780,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "fe5f21f9.428d3",
        "type": "json",
        "z": "66eb8402.daa4fc",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 930,
        "y": 160,
        "wires": [
            [
                "e9e02950.ff4b58"
            ]
        ]
    },
    {
        "id": "843d210e.9fb6c",
        "type": "file",
        "z": "66eb8402.daa4fc",
        "name": "Speed Test Data Save",
        "filename": "/mnt/dietpi_userdata/node-red/data/speedtest/speedtestDataPD.json",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "true",
        "x": 780,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "98b4afc6.146f9",
        "type": "json",
        "z": "66eb8402.daa4fc",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 930,
        "y": 200,
        "wires": [
            [
                "f1bcce6.7a6d13"
            ]
        ]
    },
    {
        "id": "728a94dc.939e4c",
        "type": "file in",
        "z": "66eb8402.daa4fc",
        "name": "Speed Test Data Restore",
        "filename": "/mnt/dietpi_userdata/node-red/data/speedtest/speedtestData.json",
        "format": "utf8",
        "x": 750,
        "y": 160,
        "wires": [
            [
                "fe5f21f9.428d3"
            ]
        ]
    },
    {
        "id": "c4e0dc5d.f843a",
        "type": "file in",
        "z": "66eb8402.daa4fc",
        "name": "Speed Test Data Restore",
        "filename": "/mnt/dietpi_userdata/node-red/data/speedtest/speedtestDataPD.json",
        "format": "utf8",
        "x": 750,
        "y": 200,
        "wires": [
            [
                "98b4afc6.146f9"
            ]
        ]
    },
    {
        "id": "1950af5f.5c2901",
        "type": "inject",
        "z": "66eb8402.daa4fc",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": true,
        "topic": "",
        "payload": "restore",
        "payloadType": "str",
        "x": 560,
        "y": 180,
        "wires": [
            [
                "728a94dc.939e4c",
                "c4e0dc5d.f843a"
            ]
        ]
    },
    {
        "id": "f79e586b.bb5f98",
        "type": "simpletime",
        "z": "66eb8402.daa4fc",
        "name": "",
        "mydate": true,
        "myymd": true,
        "myyear": true,
        "mymonth": true,
        "mymonthn": true,
        "mydom": true,
        "mydoy": true,
        "myday": true,
        "myhourpm": true,
        "myhour": true,
        "mytime": true,
        "mytimes": true,
        "myminute": true,
        "myminutes": true,
        "mysecond": true,
        "mymillis": true,
        "myepoch": true,
        "myrawdate": true,
        "mypm": true,
        "x": 130,
        "y": 460,
        "wires": [
            [
                "1f71ef48.e3d2b1",
                "90ec36f0.76ff08",
                "836dbe75.14f81"
            ]
        ]
    },
    {
        "id": "567679a8.924158",
        "type": "cronplus",
        "z": "66eb8402.daa4fc",
        "name": "5 minutes past the hour",
        "outputField": "payload",
        "timeZone": "",
        "commandResponseMsgOutput": "output1",
        "outputs": 1,
        "options": [
            {
                "topic": "5 past every hour",
                "payload": "start",
                "expression": "5 * * * *",
                "name": "5 past every hour",
                "expressionType": "cron",
                "payloadType": "str",
                "solarType": "all",
                "solarEvents": "sunrise,sunset",
                "location": ""
            }
        ],
        "x": 170,
        "y": 100,
        "wires": [
            [
                "6c891bc6.bc8204"
            ]
        ]
    },
    {
        "id": "6c891bc6.bc8204",
        "type": "speedtest",
        "z": "66eb8402.daa4fc",
        "name": "Speedtest",
        "serverId": "",
        "maxTime": "120000",
        "x": 140,
        "y": 300,
        "wires": [
            [
                "583d4a26.363c14",
                "72e2a082.86ed4",
                "8c49c54d.a02b68",
                "bded1eb.dfb7ce",
                "1856e740.6b09b9",
                "f79e586b.bb5f98"
            ]
        ]
    },
    {
        "id": "e682d7ac.220ae8",
        "type": "hubitat command",
        "z": "66eb8402.daa4fc",
        "name": "Notify Colin's Phone",
        "server": "b130c189.ea4d2",
        "deviceId": "70",
        "command": "deviceNotification",
        "commandArgs": "",
        "x": 680,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "836dbe75.14f81",
        "type": "switch",
        "z": "66eb8402.daa4fc",
        "name": "upload < 15",
        "property": "payload.speeds.upload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "15",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 350,
        "y": 600,
        "wires": [
            [
                "a03f104b.58ff8"
            ]
        ]
    },
    {
        "id": "c0f915b6.e62fb8",
        "type": "alexa-remote-echo",
        "z": "d61084e.39e0678",
        "name": "GR - Echo Play",
        "account": "4553eef5.ffc05",
        "config": {
            "option": "tuneIn",
            "value": {
                "device": {
                    "type": "str",
                    "value": "G090U509912423CC"
                },
                "guideId": {
                    "type": "str",
                    "value": "s249973"
                },
                "contentType": {
                    "type": "str",
                    "value": "station"
                }
            }
        },
        "x": 480,
        "y": 60,
        "wires": [
            [
                "e97ff3a7.a2ed5"
            ]
        ]
    },
    {
        "id": "68e807d.954b0f8",
        "type": "alexa-remote-echo",
        "z": "d61084e.39e0678",
        "name": "KT - Echo Play",
        "account": "4553eef5.ffc05",
        "config": {
            "option": "tuneIn",
            "value": {
                "device": {
                    "type": "str",
                    "value": "G090U5099117264T"
                },
                "guideId": {
                    "type": "str",
                    "value": "s249973"
                },
                "contentType": {
                    "type": "str",
                    "value": "station"
                }
            }
        },
        "x": 480,
        "y": 140,
        "wires": [
            [
                "704d4696.7b2828"
            ]
        ]
    },
    {
        "id": "e4e76245.3c42",
        "type": "alexa-remote-echo",
        "z": "d61084e.39e0678",
        "name": "DB - Echo Play",
        "account": "4553eef5.ffc05",
        "config": {
            "option": "tuneIn",
            "value": {
                "device": {
                    "type": "str",
                    "value": "G6G0XG100134018V"
                },
                "guideId": {
                    "type": "str",
                    "value": "s249973"
                },
                "contentType": {
                    "type": "str",
                    "value": "station"
                }
            }
        },
        "x": 480,
        "y": 100,
        "wires": [
            [
                "e3958915.0a6308"
            ]
        ]
    },
    {
        "id": "eb6d4a12.1e44f8",
        "type": "alexa-remote-echo",
        "z": "d61084e.39e0678",
        "name": "MB - Echo R Play",
        "account": "4553eef5.ffc05",
        "config": {
            "option": "tuneIn",
            "value": {
                "device": {
                    "type": "str",
                    "value": "G090U509912424HF"
                },
                "guideId": {
                    "type": "str",
                    "value": "s249973"
                },
                "contentType": {
                    "type": "str",
                    "value": "station"
                }
            }
        },
        "x": 470,
        "y": 220,
        "wires": [
            [
                "d92d6856.919638"
            ]
        ]
    },
    {
        "id": "afd82140.f445b",
        "type": "alexa-remote-echo",
        "z": "d61084e.39e0678",
        "name": "MB - Echo L Play",
        "account": "4553eef5.ffc05",
        "config": {
            "option": "tuneIn",
            "value": {
                "device": {
                    "type": "str",
                    "value": "G090U509911620T7"
                },
                "guideId": {
                    "type": "str",
                    "value": "s249973"
                },
                "contentType": {
                    "type": "str",
                    "value": "station"
                }
            }
        },
        "x": 470,
        "y": 180,
        "wires": [
            [
                "b5615238.4cef5"
            ]
        ]
    },
    {
        "id": "6118732f.6ede7c",
        "type": "switch",
        "z": "d61084e.39e0678",
        "name": "Phrase Handler",
        "property": "payload.description.summary",
        "propertyType": "msg",
        "rules": [
            {
                "t": "regex",
                "v": "reset volumes",
                "vt": "str",
                "case": false
            },
            {
                "t": "regex",
                "v": "reset volume",
                "vt": "str",
                "case": false
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 220,
        "y": 120,
        "wires": [
            [
                "afd82140.f445b",
                "68e807d.954b0f8",
                "eb6d4a12.1e44f8",
                "e4e76245.3c42",
                "c0f915b6.e62fb8"
            ],
            [
                "3f333fa.be852c"
            ]
        ]
    },
    {
        "id": "3f333fa.be852c",
        "type": "subflow:cb4b5b0a.f09b68",
        "z": "d61084e.39e0678",
        "name": "",
        "env": [],
        "x": 200,
        "y": 200,
        "wires": [
            [
                "c0f915b6.e62fb8"
            ],
            [
                "e4e76245.3c42"
            ],
            [
                "68e807d.954b0f8"
            ],
            [
                "afd82140.f445b",
                "eb6d4a12.1e44f8"
            ]
        ]
    },
    {
        "id": "57115256.c8f83c",
        "type": "alexa-remote-event",
        "z": "d61084e.39e0678",
        "name": "",
        "account": "4553eef5.ffc05",
        "event": "ws-media-change",
        "x": 210,
        "y": 340,
        "wires": [
            [
                "3f1bb185.ee904e",
                "77edd238.0d301c"
            ]
        ]
    },
    {
        "id": "3bd73cb0.773a34",
        "type": "alexa-remote-echo",
        "z": "d61084e.39e0678",
        "name": "GR - Echo Pause",
        "account": "4553eef5.ffc05",
        "config": {
            "option": "command",
            "value": {
                "device": {
                    "type": "str",
                    "value": "G090U509912423CC"
                },
                "what": "pause"
            }
        },
        "x": 690,
        "y": 320,
        "wires": [
            [
                "37b3e0d2.a9e47"
            ]
        ]
    },
    {
        "id": "ea17f4a9.8a2408",
        "type": "alexa-remote-echo",
        "z": "d61084e.39e0678",
        "name": "DB - Echo Pause",
        "account": "4553eef5.ffc05",
        "config": {
            "option": "command",
            "value": {
                "device": {
                    "type": "str",
                    "value": "G6G0XG100134018V"
                },
                "what": "pause"
            }
        },
        "x": 690,
        "y": 360,
        "wires": [
            [
                "37b3e0d2.a9e47"
            ]
        ]
    },
    {
        "id": "29113ff2.7a2d1",
        "type": "alexa-remote-echo",
        "z": "d61084e.39e0678",
        "name": "MB - Echo R Pause",
        "account": "4553eef5.ffc05",
        "config": {
            "option": "command",
            "value": {
                "device": {
                    "type": "str",
                    "value": "G090U509912424HF"
                },
                "what": "pause"
            }
        },
        "x": 690,
        "y": 480,
        "wires": [
            [
                "37b3e0d2.a9e47"
            ]
        ]
    },
    {
        "id": "f81bf876.428948",
        "type": "alexa-remote-echo",
        "z": "d61084e.39e0678",
        "name": "KT - Echo Pause",
        "account": "4553eef5.ffc05",
        "config": {
            "option": "command",
            "value": {
                "device": {
                    "type": "str",
                    "value": "G090U5099117264T"
                },
                "what": "pause"
            }
        },
        "x": 690,
        "y": 400,
        "wires": [
            [
                "37b3e0d2.a9e47"
            ]
        ]
    },
    {
        "id": "9434928a.e846d",
        "type": "alexa-remote-echo",
        "z": "d61084e.39e0678",
        "name": "MB - Echo L Pause",
        "account": "4553eef5.ffc05",
        "config": {
            "option": "command",
            "value": {
                "device": {
                    "type": "str",
                    "value": "G090U509911620T7"
                },
                "what": "pause"
            }
        },
        "x": 690,
        "y": 440,
        "wires": [
            [
                "37b3e0d2.a9e47"
            ]
        ]
    },
    {
        "id": "77edd238.0d301c",
        "type": "subflow:cb4b5b0a.f09b68",
        "z": "d61084e.39e0678",
        "name": "",
        "env": [],
        "x": 440,
        "y": 340,
        "wires": [
            [
                "3bd73cb0.773a34"
            ],
            [
                "ea17f4a9.8a2408"
            ],
            [
                "f81bf876.428948"
            ],
            [
                "9434928a.e846d",
                "29113ff2.7a2d1"
            ]
        ]
    },
    {
        "id": "26fc474d.0dffe8",
        "type": "inject",
        "z": "d61084e.39e0678",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 480,
        "y": 480,
        "wires": [
            [
                "9434928a.e846d",
                "f81bf876.428948",
                "29113ff2.7a2d1",
                "ea17f4a9.8a2408",
                "3bd73cb0.773a34"
            ]
        ]
    },
    {
        "id": "8cbf13ee.6bece",
        "type": "subflow:ac12c9d8.613d38",
        "z": "d61084e.39e0678",
        "name": "",
        "env": [],
        "x": 960,
        "y": 380,
        "wires": [
            [
                "29191bda.024fd4"
            ],
            [],
            [
                "29191bda.024fd4"
            ],
            [],
            [
                "29191bda.024fd4"
            ],
            [],
            [
                "29191bda.024fd4"
            ],
            []
        ]
    },
    {
        "id": "3f1bb185.ee904e",
        "type": "hubitat command",
        "z": "d61084e.39e0678",
        "name": "Colin Notification",
        "server": "b130c189.ea4d2",
        "deviceId": "70",
        "command": "deviceNotification",
        "commandArgs": "Alexa \"On Media Change\" Triggered",
        "x": 310,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "e97ff3a7.a2ed5",
        "type": "delay",
        "z": "d61084e.39e0678",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 660,
        "y": 140,
        "wires": [
            [
                "3bd73cb0.773a34"
            ]
        ]
    },
    {
        "id": "e3958915.0a6308",
        "type": "delay",
        "z": "d61084e.39e0678",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 660,
        "y": 140,
        "wires": [
            [
                "ea17f4a9.8a2408"
            ]
        ]
    },
    {
        "id": "d92d6856.919638",
        "type": "delay",
        "z": "d61084e.39e0678",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 660,
        "y": 140,
        "wires": [
            [
                "29113ff2.7a2d1"
            ]
        ]
    },
    {
        "id": "704d4696.7b2828",
        "type": "delay",
        "z": "d61084e.39e0678",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 660,
        "y": 140,
        "wires": [
            [
                "f81bf876.428948"
            ]
        ]
    },
    {
        "id": "b5615238.4cef5",
        "type": "delay",
        "z": "d61084e.39e0678",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 660,
        "y": 140,
        "wires": [
            [
                "9434928a.e846d"
            ]
        ]
    },
    {
        "id": "2bb7e3e6.86d69c",
        "type": "comment",
        "z": "f3e4e663.9ecbb8",
        "name": "Generate Teleporter Backup Address",
        "info": "Needs cookie -http://192.168.2.253/admin/scripts/pi-hole/php/teleporter.php",
        "x": 180,
        "y": 60,
        "wires": []
    },
    {
        "id": "e96cba5a.0480d8",
        "type": "switch",
        "z": "73f998b9.8842a8",
        "name": "Phrase Handler",
        "property": "payload.description.summary",
        "propertyType": "msg",
        "rules": [
            {
                "t": "regex",
                "v": "good( )?night",
                "vt": "str",
                "case": false
            },
            {
                "t": "regex",
                "v": "good( )?morning",
                "vt": "str",
                "case": false
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 360,
        "y": 280,
        "wires": [
            [
                "94023e4c.b2b4d",
                "19d3d5eb.74bf0a",
                "b674ffb.99ca3"
            ],
            [
                "6b1eb982.8dcaf8"
            ]
        ]
    },
    {
        "id": "9cb3b387.dc6da",
        "type": "hubitat command",
        "z": "73f998b9.8842a8",
        "name": "GR - Motion Detection",
        "server": "b130c189.ea4d2",
        "deviceId": "1377",
        "command": "off",
        "commandArgs": "",
        "x": 1020,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "33f5a68d.21358a",
        "type": "hubitat command",
        "z": "73f998b9.8842a8",
        "name": "DB - Motion Detection",
        "server": "b130c189.ea4d2",
        "deviceId": "1352",
        "command": "off",
        "commandArgs": "",
        "x": 1020,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "901f1a7f.229298",
        "type": "hubitat command",
        "z": "73f998b9.8842a8",
        "name": "KT - Motion Detection",
        "server": "b130c189.ea4d2",
        "deviceId": "1351",
        "command": "off",
        "commandArgs": "",
        "x": 1020,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "47080bca.7ec5c4",
        "type": "hubitat command",
        "z": "73f998b9.8842a8",
        "name": "MB - Motion Detection",
        "server": "b130c189.ea4d2",
        "deviceId": "385",
        "command": "off",
        "commandArgs": "",
        "x": 1020,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "1f860f1a.769fd1",
        "type": "hubitat command",
        "z": "73f998b9.8842a8",
        "deviceLabel": "",
        "name": "Back Door August Pro (Reliable)",
        "server": "b130c189.ea4d2",
        "deviceId": "2410",
        "command": "lock",
        "commandArgs": "",
        "x": 1170,
        "y": 240,
        "wires": [
            [
                "d0a50d7b.fbee6"
            ]
        ]
    },
    {
        "id": "ed251d47.20d8e",
        "type": "hubitat device",
        "z": "73f998b9.8842a8",
        "name": "Simplisafe Status",
        "server": "b130c189.ea4d2",
        "deviceId": "86",
        "attribute": "",
        "sendEvent": false,
        "x": 770,
        "y": 300,
        "wires": [
            [
                "cab7e870.5e4e98"
            ]
        ]
    },
    {
        "id": "cab7e870.5e4e98",
        "type": "switch",
        "z": "73f998b9.8842a8",
        "name": "if OFF",
        "property": "payload.alarm.currentValue",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "OFF",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 930,
        "y": 300,
        "wires": [
            [
                "7896d4be.8fce0c"
            ]
        ]
    },
    {
        "id": "7896d4be.8fce0c",
        "type": "hubitat command",
        "z": "73f998b9.8842a8",
        "name": "Simplisafe Arm",
        "server": "b130c189.ea4d2",
        "deviceId": "86",
        "command": "home",
        "commandArgs": "",
        "x": 1080,
        "y": 300,
        "wires": [
            [
                "68ee95d1.8d744c"
            ]
        ]
    },
    {
        "id": "94023e4c.b2b4d",
        "type": "hubitat command",
        "z": "73f998b9.8842a8",
        "name": "Simplisafe",
        "server": "b130c189.ea4d2",
        "deviceId": "86",
        "command": "poll",
        "commandArgs": "",
        "x": 590,
        "y": 300,
        "wires": [
            [
                "ed251d47.20d8e"
            ]
        ]
    },
    {
        "id": "19d3d5eb.74bf0a",
        "type": "subflow:cb4b5b0a.f09b68",
        "z": "73f998b9.8842a8",
        "name": "",
        "env": [],
        "x": 360,
        "y": 80,
        "wires": [
            [
                "410479d9.0625d8"
            ],
            [
                "be21259d.1ec948"
            ],
            [
                "62e2193c.2b9368"
            ],
            [
                "14b0e991.d2c5a6"
            ]
        ]
    },
    {
        "id": "9c6cab25.ff2de8",
        "type": "hubitat mode",
        "z": "73f998b9.8842a8",
        "name": "",
        "server": "b130c189.ea4d2",
        "sendEvent": false,
        "x": 730,
        "y": 180,
        "wires": [
            [
                "314b1149.45429e"
            ]
        ]
    },
    {
        "id": "314b1149.45429e",
        "type": "switch",
        "z": "73f998b9.8842a8",
        "name": "!night",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "Night",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 850,
        "y": 180,
        "wires": [
            [
                "47080bca.7ec5c4"
            ]
        ]
    },
    {
        "id": "410479d9.0625d8",
        "type": "hubitat command",
        "z": "73f998b9.8842a8",
        "name": "GR - Lights",
        "server": "b130c189.ea4d2",
        "deviceId": "67",
        "command": "off",
        "commandArgs": "",
        "x": 590,
        "y": 60,
        "wires": [
            [
                "9cb3b387.dc6da"
            ]
        ]
    },
    {
        "id": "be21259d.1ec948",
        "type": "hubitat command",
        "z": "73f998b9.8842a8",
        "name": "DB - Lights",
        "server": "b130c189.ea4d2",
        "deviceId": "69",
        "command": "off",
        "commandArgs": "",
        "x": 590,
        "y": 100,
        "wires": [
            [
                "33f5a68d.21358a"
            ]
        ]
    },
    {
        "id": "62e2193c.2b9368",
        "type": "hubitat command",
        "z": "73f998b9.8842a8",
        "name": "KT - Lights",
        "server": "b130c189.ea4d2",
        "deviceId": "68",
        "command": "off",
        "commandArgs": "",
        "x": 590,
        "y": 140,
        "wires": [
            [
                "901f1a7f.229298"
            ]
        ]
    },
    {
        "id": "14b0e991.d2c5a6",
        "type": "hubitat command",
        "z": "73f998b9.8842a8",
        "name": "MB - Lights",
        "server": "b130c189.ea4d2",
        "deviceId": "501",
        "command": "off",
        "commandArgs": "",
        "x": 590,
        "y": 180,
        "wires": [
            [
                "9c6cab25.ff2de8"
            ]
        ]
    },
    {
        "id": "e87b6f2.9c7329",
        "type": "hubitat command",
        "z": "73f998b9.8842a8",
        "name": "GR - Motion Detection",
        "server": "b130c189.ea4d2",
        "deviceId": "1377",
        "command": "on",
        "commandArgs": "",
        "x": 620,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "7d33fcce.8c2964",
        "type": "hubitat command",
        "z": "73f998b9.8842a8",
        "name": "DB - Motion Detection",
        "server": "b130c189.ea4d2",
        "deviceId": "1352",
        "command": "on",
        "commandArgs": "",
        "x": 620,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "f8082117.809db",
        "type": "hubitat command",
        "z": "73f998b9.8842a8",
        "name": "KT - Motion Detection",
        "server": "b130c189.ea4d2",
        "deviceId": "1351",
        "command": "on",
        "commandArgs": "",
        "x": 620,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "53eab9ae.4e62e8",
        "type": "hubitat command",
        "z": "73f998b9.8842a8",
        "name": "MB - Motion Detection",
        "server": "b130c189.ea4d2",
        "deviceId": "385",
        "command": "on",
        "commandArgs": "",
        "x": 620,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "6b1eb982.8dcaf8",
        "type": "subflow:cb4b5b0a.f09b68",
        "z": "73f998b9.8842a8",
        "name": "",
        "env": [],
        "x": 360,
        "y": 480,
        "wires": [
            [
                "e87b6f2.9c7329"
            ],
            [
                "7d33fcce.8c2964"
            ],
            [
                "f8082117.809db"
            ],
            [
                "53eab9ae.4e62e8"
            ]
        ]
    },
    {
        "id": "f2d6a1e1.a6f4a",
        "type": "alexa-remote-smarthome",
        "z": "e1557285.e3f86",
        "name": "Fan Day",
        "account": "d452a9d3.7a4488",
        "config": {
            "option": "action",
            "value": [
                {
                    "entity": "03932712-3894-49bb-9505-4d58a8a37f6a",
                    "action": "sceneActivate"
                }
            ]
        },
        "outputs": 1,
        "x": 960,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "dffb6a18.069798",
        "type": "alexa-remote-event",
        "z": "e1557285.e3f86",
        "name": "",
        "account": "d452a9d3.7a4488",
        "event": "ws-device-activity",
        "x": 130,
        "y": 420,
        "wires": [
            [
                "c697b7af.93a0c8"
            ]
        ]
    },
    {
        "id": "e6eb5ab8.3088d8",
        "type": "alexa-remote-smarthome",
        "z": "e1557285.e3f86",
        "name": "Fan Evening",
        "account": "d452a9d3.7a4488",
        "config": {
            "option": "action",
            "value": [
                {
                    "entity": "6b193ce2-f661-4f8d-b30b-e425a81271be",
                    "action": "sceneActivate"
                }
            ]
        },
        "outputs": 1,
        "x": 970,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "73e39005.b9e7e",
        "type": "alexa-remote-smarthome",
        "z": "e1557285.e3f86",
        "name": "Fan Night/Morning",
        "account": "d452a9d3.7a4488",
        "config": {
            "option": "action",
            "value": [
                {
                    "entity": "bd8d9a95-2bc7-4698-bbf7-3cc541f586d3",
                    "action": "sceneActivate"
                }
            ]
        },
        "outputs": 1,
        "x": 990,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "bd227bfd.da22e8",
        "type": "change",
        "z": "e1557285.e3f86",
        "name": "Stop Motion Timer",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "STOP",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 300,
        "wires": [
            [
                "73e39005.b9e7e",
                "61d3530e.894b9c"
            ]
        ]
    },
    {
        "id": "a3d9aac.9918e58",
        "type": "alexa-remote-smarthome",
        "z": "e1557285.e3f86",
        "name": "Fan Off",
        "account": "d452a9d3.7a4488",
        "config": {
            "option": "action",
            "value": [
                {
                    "entity": "ead47ff6-ccac-4f12-812d-e662dec04bf2",
                    "action": "sceneActivate"
                }
            ]
        },
        "outputs": 1,
        "x": 960,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "78903f12.c5128",
        "type": "within-time-switch",
        "z": "e1557285.e3f86",
        "name": "Day",
        "nameInt": "",
        "positionConfig": "433a14d5.44c6dc",
        "startTime": "goldenHourDawnEnd",
        "startTimeType": "pdsTime",
        "startOffset": 0,
        "startOffsetType": "none",
        "startOffsetMultiplier": 60000,
        "endTime": "sunset",
        "endTimeType": "pdsTime",
        "endOffset": 0,
        "endOffsetType": "none",
        "endOffsetMultiplier": 60000,
        "timeDays": "*",
        "timeOnlyOddDays": false,
        "timeOnlyEvenDays": false,
        "timeMonths": "*",
        "timedatestart": "",
        "timedateend": "",
        "propertyStart": "",
        "propertyStartType": "none",
        "propertyStartCompare": "true",
        "propertyStartThreshold": "",
        "propertyStartThresholdType": "num",
        "startTimeAlt": "",
        "startTimeAltType": "entered",
        "startOffsetAlt": 0,
        "startOffsetAltType": "none",
        "startOffsetAltMultiplier": 60000,
        "propertyEnd": "",
        "propertyEndType": "none",
        "propertyEndCompare": "true",
        "propertyEndThreshold": "",
        "propertyEndThresholdType": "num",
        "endTimeAlt": "",
        "endTimeAltType": "entered",
        "endOffsetAlt": 0,
        "endOffsetAltType": "none",
        "endOffsetAltMultiplier": 60000,
        "tsCompare": "0",
        "x": 350,
        "y": 80,
        "wires": [
            [
                "ca260f87.93f17"
            ],
            []
        ]
    },
    {
        "id": "2dc7aabb.e7e7b6",
        "type": "within-time-switch",
        "z": "e1557285.e3f86",
        "name": "Evening",
        "nameInt": "",
        "positionConfig": "433a14d5.44c6dc",
        "startTime": "sunset",
        "startTimeType": "pdsTime",
        "startOffset": 0,
        "startOffsetType": "none",
        "startOffsetMultiplier": 60000,
        "endTime": "23:59",
        "endTimeType": "entered",
        "endOffset": 0,
        "endOffsetType": "none",
        "endOffsetMultiplier": 60000,
        "timeDays": "*",
        "timeOnlyOddDays": false,
        "timeOnlyEvenDays": false,
        "timeMonths": "*",
        "timedatestart": "",
        "timedateend": "",
        "propertyStart": "",
        "propertyStartType": "none",
        "propertyStartCompare": "true",
        "propertyStartThreshold": "",
        "propertyStartThresholdType": "num",
        "startTimeAlt": "",
        "startTimeAltType": "entered",
        "startOffsetAlt": 0,
        "startOffsetAltType": "none",
        "startOffsetAltMultiplier": 60000,
        "propertyEnd": "",
        "propertyEndType": "none",
        "propertyEndCompare": "true",
        "propertyEndThreshold": "",
        "propertyEndThresholdType": "num",
        "endTimeAlt": "",
        "endTimeAltType": "entered",
        "endOffsetAlt": 0,
        "endOffsetAltType": "none",
        "endOffsetAltMultiplier": 60000,
        "tsCompare": "0",
        "x": 340,
        "y": 200,
        "wires": [
            [
                "721fc686.712798"
            ],
            []
        ]
    },
    {
        "id": "f00d1538.96cb78",
        "type": "within-time-switch",
        "z": "e1557285.e3f86",
        "name": "Night/Morning",
        "nameInt": "",
        "positionConfig": "433a14d5.44c6dc",
        "startTime": "0:00",
        "startTimeType": "entered",
        "startOffset": 0,
        "startOffsetType": "none",
        "startOffsetMultiplier": 60000,
        "endTime": "goldenHourDawnEnd",
        "endTimeType": "pdsTime",
        "endOffset": 0,
        "endOffsetType": "none",
        "endOffsetMultiplier": 60000,
        "timeDays": "*",
        "timeOnlyOddDays": false,
        "timeOnlyEvenDays": false,
        "timeMonths": "*",
        "timedatestart": "",
        "timedateend": "",
        "propertyStart": "",
        "propertyStartType": "none",
        "propertyStartCompare": "true",
        "propertyStartThreshold": "",
        "propertyStartThresholdType": "num",
        "startTimeAlt": "",
        "startTimeAltType": "entered",
        "startOffsetAlt": 0,
        "startOffsetAltType": "none",
        "startOffsetAltMultiplier": 60000,
        "propertyEnd": "",
        "propertyEndType": "none",
        "propertyEndCompare": "true",
        "propertyEndThreshold": "",
        "propertyEndThresholdType": "num",
        "endTimeAlt": "",
        "endTimeAltType": "entered",
        "endOffsetAlt": 0,
        "endOffsetAltType": "none",
        "endOffsetAltMultiplier": 60000,
        "tsCompare": "0",
        "x": 320,
        "y": 320,
        "wires": [
            [
                "4985e4fd.b7d07c"
            ],
            []
        ]
    },
    {
        "id": "3a9c918f.31e2ee",
        "type": "arlo-out",
        "z": "c72800c4.5f936",
        "name": "240 Basestation",
        "service": "283e8204.4178ae",
        "device": "4R03777PA2C83",
        "x": 960,
        "y": 200,
        "wires": []
    },
    {
        "id": "7e633e33.22216",
        "type": "hubitat device",
        "z": "1ca15330.84243d",
        "name": "Presence - Brandon",
        "server": "b130c189.ea4d2",
        "deviceId": "493",
        "attribute": "presence",
        "sendEvent": true,
        "x": 220,
        "y": 300,
        "wires": [
            [
                "39b093f4.f5bdbc"
            ]
        ]
    },
    {
        "id": "9f7dd1e7.80f0b",
        "type": "hubitat device",
        "z": "1ca15330.84243d",
        "name": "Presence - Colin",
        "server": "b130c189.ea4d2",
        "deviceId": "196",
        "attribute": "presence",
        "sendEvent": true,
        "x": 230,
        "y": 420,
        "wires": [
            [
                "39b093f4.f5bdbc"
            ]
        ]
    },
    {
        "id": "686a0f13.80b6c",
        "type": "hubitat device",
        "z": "1ca15330.84243d",
        "name": "Presence - Hannah",
        "server": "b130c189.ea4d2",
        "deviceId": "494",
        "attribute": "presence",
        "sendEvent": true,
        "x": 230,
        "y": 360,
        "wires": [
            [
                "39b093f4.f5bdbc"
            ]
        ]
    },
    {
        "id": "a12adaac.d9d4b8",
        "type": "hubitat device",
        "z": "1ca15330.84243d",
        "name": "Presence - Kevin",
        "server": "b130c189.ea4d2",
        "deviceId": "199",
        "attribute": "presence",
        "sendEvent": true,
        "x": 230,
        "y": 60,
        "wires": [
            [
                "39b093f4.f5bdbc"
            ]
        ]
    },
    {
        "id": "fb38c864.f5b9d8",
        "type": "hubitat device",
        "z": "1ca15330.84243d",
        "name": "Presence - Marisa",
        "server": "b130c189.ea4d2",
        "deviceId": "496",
        "attribute": "presence",
        "sendEvent": true,
        "x": 230,
        "y": 240,
        "wires": [
            [
                "39b093f4.f5bdbc"
            ]
        ]
    },
    {
        "id": "858d9fbf.b9b2e",
        "type": "hubitat device",
        "z": "1ca15330.84243d",
        "name": "Presence - Shaun",
        "server": "b130c189.ea4d2",
        "deviceId": "495",
        "attribute": "presence",
        "sendEvent": true,
        "x": 230,
        "y": 180,
        "wires": [
            [
                "39b093f4.f5bdbc"
            ]
        ]
    },
    {
        "id": "5f50aa44.6c3514",
        "type": "hubitat device",
        "z": "1ca15330.84243d",
        "name": "Presence - Trish",
        "server": "b130c189.ea4d2",
        "deviceId": "200",
        "attribute": "presence",
        "sendEvent": true,
        "x": 240,
        "y": 120,
        "wires": [
            [
                "39b093f4.f5bdbc"
            ]
        ]
    },
    {
        "id": "61d3530e.894b9c",
        "type": "stoptimer-varidelay",
        "z": "e1557285.e3f86",
        "duration": "1",
        "durationType": "num",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "reporting": "every_second",
        "persist": false,
        "x": 700,
        "y": 360,
        "wires": [
            [
                "a3d9aac.9918e58"
            ],
            [],
            []
        ]
    },
    {
        "id": "ca260f87.93f17",
        "type": "switch",
        "z": "e1557285.e3f86",
        "name": "Motion Handler",
        "property": "payload.powerState",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "ON",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "OFF",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 520,
        "y": 80,
        "wires": [
            [
                "a83420c1.dc341"
            ],
            [
                "2c96f340.d344fc"
            ]
        ],
        "outputLabels": [
            "Motion",
            "No Motion"
        ]
    },
    {
        "id": "889fff4a.6443d",
        "type": "stoptimer-varidelay",
        "z": "e1557285.e3f86",
        "duration": "3",
        "durationType": "num",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "reporting": "last_minute_seconds",
        "persist": false,
        "x": 700,
        "y": 240,
        "wires": [
            [
                "a3d9aac.9918e58"
            ],
            [],
            []
        ]
    },
    {
        "id": "2c96f340.d344fc",
        "type": "stoptimer-varidelay",
        "z": "e1557285.e3f86",
        "duration": "30",
        "durationType": "num",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "reporting": "every_second",
        "persist": false,
        "x": 710,
        "y": 120,
        "wires": [
            [
                "a3d9aac.9918e58"
            ],
            [],
            []
        ]
    },
    {
        "id": "cca5846.1475b78",
        "type": "change",
        "z": "e1557285.e3f86",
        "name": "Stop Motion Timer",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "STOP",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 180,
        "wires": [
            [
                "e6eb5ab8.3088d8",
                "889fff4a.6443d"
            ]
        ]
    },
    {
        "id": "a83420c1.dc341",
        "type": "change",
        "z": "e1557285.e3f86",
        "name": "Stop Motion Timer",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "STOP",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 60,
        "wires": [
            [
                "f2d6a1e1.a6f4a",
                "2c96f340.d344fc"
            ]
        ]
    },
    {
        "id": "5e799950.145b48",
        "type": "switch",
        "z": "e1557285.e3f86",
        "name": "Override Handler",
        "property": "payload.description.summary",
        "propertyType": "msg",
        "rules": [
            {
                "t": "regex",
                "v": "(turn off|disable) (the )?(motion sensor|motion sensing)",
                "vt": "str",
                "case": false
            },
            {
                "t": "regex",
                "v": "(turn on|enable) (the )?(motion sensor|motion sensing)",
                "vt": "str",
                "case": false
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 350,
        "y": 520,
        "wires": [
            [
                "585fe293.44be3c"
            ],
            [
                "79caf9de.681fd8"
            ]
        ]
    },
    {
        "id": "585fe293.44be3c",
        "type": "function",
        "z": "e1557285.e3f86",
        "name": "Motion Off",
        "func": "// initialise the counter to 0 if it doesn't exist already\nvar myMotion = flow.get('motion',\"file\")||0;\nmyMotion = false\n// store the value back\nflow.set('motion',myMotion,\"file\");\n// make it part of the outgoing msg object\nmsg.payload.motion = motion;\nreturn msg;",
        "outputs": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 570,
        "y": 480,
        "wires": []
    },
    {
        "id": "79caf9de.681fd8",
        "type": "function",
        "z": "e1557285.e3f86",
        "name": "Motion On",
        "func": "// initialise the counter to 0 if it doesn't exist already\nvar myMotion = flow.get('motion',\"file\")||0;\nmyMotion = true\n// store the value back\nflow.set('motion',myMotion,\"file\");\n// make it part of the outgoing msg object\nmsg.payload.motion = motion;\nreturn msg;",
        "outputs": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 570,
        "y": 560,
        "wires": []
    },
    {
        "id": "53101c6a.f83a74",
        "type": "switch",
        "z": "e1557285.e3f86",
        "name": "Motion Override",
        "property": "#:(file)::motion",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 140,
        "y": 200,
        "wires": [
            [
                "2dc7aabb.e7e7b6",
                "78903f12.c5128",
                "f00d1538.96cb78"
            ],
            []
        ]
    },
    {
        "id": "8b43b0a6.e46b7",
        "type": "inject",
        "z": "c72800c4.5f936",
        "name": "Arm",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "mode",
        "payload": "true",
        "payloadType": "bool",
        "x": 950,
        "y": 140,
        "wires": [
            [
                "3a9c918f.31e2ee"
            ]
        ]
    },
    {
        "id": "80ce59ce.052888",
        "type": "inject",
        "z": "c72800c4.5f936",
        "name": "Disarm",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "mode",
        "payload": "false",
        "payloadType": "bool",
        "x": 950,
        "y": 260,
        "wires": [
            [
                "3a9c918f.31e2ee"
            ]
        ]
    },
    {
        "id": "8a8ff10b.c3fa9",
        "type": "BooleanLogicUltimate",
        "z": "1ca15330.84243d",
        "name": "",
        "filtertrue": "both",
        "persist": true,
        "sInitializeWith": "false",
        "triggertopic": "trigger",
        "outputtriggeredby": "all",
        "inputCount": "7",
        "topic": "presence",
        "x": 760,
        "y": 240,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "4452f68d.2a21e8",
        "type": "change",
        "z": "1ca15330.84243d",
        "name": "present",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 220,
        "wires": [
            [
                "8a8ff10b.c3fa9"
            ]
        ]
    },
    {
        "id": "39b093f4.f5bdbc",
        "type": "switch",
        "z": "1ca15330.84243d",
        "name": "Presence",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "present",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "not present",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 460,
        "y": 240,
        "wires": [
            [
                "4452f68d.2a21e8"
            ],
            [
                "e215d913.297bb8"
            ]
        ]
    },
    {
        "id": "e215d913.297bb8",
        "type": "change",
        "z": "1ca15330.84243d",
        "name": "!present",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 260,
        "wires": [
            [
                "8a8ff10b.c3fa9"
            ]
        ]
    },
    {
        "id": "5c164add.bdd174",
        "type": "BooleanLogicUltimate",
        "z": "c72800c4.5f936",
        "name": "",
        "filtertrue": "both",
        "persist": true,
        "sInitializeWith": "WaitForPayload",
        "triggertopic": "trigger",
        "outputtriggeredby": "all",
        "inputCount": "2",
        "topic": "mode",
        "x": 740,
        "y": 200,
        "wires": [
            [],
            [
                "3a9c918f.31e2ee"
            ],
            []
        ]
    },
    {
        "id": "135bf1b8.6d288e",
        "type": "hubitat mode",
        "z": "c72800c4.5f936",
        "name": "",
        "server": "b130c189.ea4d2",
        "sendEvent": true,
        "x": 210,
        "y": 240,
        "wires": [
            [
                "ac32b038.b96a8"
            ]
        ]
    },
    {
        "id": "2fe516ec.e6bc6a",
        "type": "change",
        "z": "c72800c4.5f936",
        "name": "Arm",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 260,
        "wires": [
            [
                "5c164add.bdd174"
            ]
        ]
    },
    {
        "id": "adf74fc0.5e5d2",
        "type": "change",
        "z": "c72800c4.5f936",
        "name": "Disarm",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 220,
        "wires": [
            [
                "5c164add.bdd174"
            ]
        ]
    },
    {
        "id": "ac32b038.b96a8",
        "type": "switch",
        "z": "c72800c4.5f936",
        "name": "Mode Switch",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Day",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Evening",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Night",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Away",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 350,
        "y": 240,
        "wires": [
            [
                "adf74fc0.5e5d2"
            ],
            [
                "adf74fc0.5e5d2"
            ],
            [
                "2fe516ec.e6bc6a"
            ],
            [
                "2fe516ec.e6bc6a"
            ]
        ]
    },
    {
        "id": "427bee3c.6d4c1",
        "type": "hubitat device",
        "z": "c72800c4.5f936",
        "name": "Presence - Overall",
        "server": "b130c189.ea4d2",
        "deviceId": "198",
        "attribute": "presence",
        "sendEvent": true,
        "x": 210,
        "y": 140,
        "wires": [
            [
                "fa6f0afc.8b33a8"
            ]
        ]
    },
    {
        "id": "bc14a7b4.79cf28",
        "type": "change",
        "z": "c72800c4.5f936",
        "name": "Arm",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 160,
        "wires": [
            [
                "135bf1b8.6d288e",
                "5c164add.bdd174"
            ]
        ]
    },
    {
        "id": "fa6f0afc.8b33a8",
        "type": "switch",
        "z": "c72800c4.5f936",
        "name": "Presence",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "present",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "not present",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 380,
        "y": 140,
        "wires": [
            [
                "e84f9d5c.7fd68"
            ],
            [
                "bc14a7b4.79cf28"
            ]
        ]
    },
    {
        "id": "e84f9d5c.7fd68",
        "type": "change",
        "z": "c72800c4.5f936",
        "name": "Disarm",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 120,
        "wires": [
            [
                "135bf1b8.6d288e",
                "5c164add.bdd174"
            ]
        ]
    },
    {
        "id": "d57b1566.afcb68",
        "type": "inject",
        "z": "c72800c4.5f936",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 200,
        "y": 80,
        "wires": [
            [
                "427bee3c.6d4c1"
            ]
        ]
    },
    {
        "id": "76b84738.3321c8",
        "type": "inject",
        "z": "7e547b10.f1db64",
        "name": "Arm",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "mode",
        "payload": "true",
        "payloadType": "bool",
        "x": 810,
        "y": 220,
        "wires": [
            [
                "e5a1b2d2.030f9",
                "529a3e6a.a10a7"
            ]
        ]
    },
    {
        "id": "e8201cf6.8b20e",
        "type": "inject",
        "z": "7e547b10.f1db64",
        "name": "Disarm",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "mode",
        "payload": "false",
        "payloadType": "bool",
        "x": 810,
        "y": 140,
        "wires": [
            [
                "e5a1b2d2.030f9",
                "ad2d0123.2b95d"
            ]
        ]
    },
    {
        "id": "b7b79b46.61f3d8",
        "type": "change",
        "z": "7e547b10.f1db64",
        "name": "Arm",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "mode",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 200,
        "wires": [
            [
                "e5a1b2d2.030f9",
                "529a3e6a.a10a7"
            ]
        ]
    },
    {
        "id": "2be371d3.c1692e",
        "type": "change",
        "z": "7e547b10.f1db64",
        "name": "Disarm",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "mode",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 160,
        "wires": [
            [
                "e5a1b2d2.030f9",
                "ad2d0123.2b95d"
            ]
        ]
    },
    {
        "id": "3269284b.9fbe58",
        "type": "switch",
        "z": "7e547b10.f1db64",
        "name": "Override Handler",
        "property": "payload.description.summary",
        "propertyType": "msg",
        "rules": [
            {
                "t": "regex",
                "v": "(disarm|disable|turn off) (the )?arlo",
                "vt": "str",
                "case": false
            },
            {
                "t": "regex",
                "v": "(arm|enable|turn on) (the )?arlo",
                "vt": "str",
                "case": false
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 370,
        "y": 80,
        "wires": [
            [
                "2be371d3.c1692e"
            ],
            [
                "b7b79b46.61f3d8"
            ]
        ]
    },
    {
        "id": "63550b0f.dce3c4",
        "type": "link in",
        "z": "7e547b10.f1db64",
        "name": "HE Mode",
        "links": [
            "19c790a8.4f13cf"
        ],
        "x": 180,
        "y": 160,
        "wires": [
            [
                "bcf6c46b.6409c8"
            ]
        ],
        "l": true
    },
    {
        "id": "1212519a.eda15e",
        "type": "inject",
        "z": "7e547b10.f1db64",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 180,
        "y": 200,
        "wires": [
            [
                "bcf6c46b.6409c8"
            ]
        ]
    },
    {
        "id": "cec6d88e.0d5658",
        "type": "alexa-remote-event",
        "z": "4702b097.59f3b",
        "name": "",
        "account": "4553eef5.ffc05",
        "event": "ws-device-activity",
        "x": 150,
        "y": 360,
        "wires": [
            [
                "88c64ec0.d9d7e"
            ]
        ]
    },
    {
        "id": "88c64ec0.d9d7e",
        "type": "switch",
        "z": "4702b097.59f3b",
        "name": "Wake Handler",
        "property": "payload.domainAttributes",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "null",
                "vt": "jsonata"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 340,
        "y": 360,
        "wires": [
            [
                "da6ac8d6.218fe8"
            ]
        ]
    },
    {
        "id": "da6ac8d6.218fe8",
        "type": "link out",
        "z": "4702b097.59f3b",
        "name": "Alexa On Device Activity (Post Wake Handler)",
        "links": [
            "8b6715e.c7095e8",
            "a8a82044.dc145",
            "e3edea19.a9c2f8",
            "93c240cb.375db"
        ],
        "x": 620,
        "y": 360,
        "wires": [],
        "l": true
    },
    {
        "id": "779a8cbf.6ea9d4",
        "type": "hubitat mode",
        "z": "4702b097.59f3b",
        "name": "",
        "server": "b130c189.ea4d2",
        "sendEvent": true,
        "x": 590,
        "y": 180,
        "wires": [
            [
                "19c790a8.4f13cf"
            ]
        ]
    },
    {
        "id": "19c790a8.4f13cf",
        "type": "link out",
        "z": "4702b097.59f3b",
        "name": "Hubitat Mode",
        "links": [
            "63550b0f.dce3c4",
            "a7bacbdc.967fb8"
        ],
        "x": 730,
        "y": 180,
        "wires": [],
        "l": true
    },
    {
        "id": "e3edea19.a9c2f8",
        "type": "link in",
        "z": "d61084e.39e0678",
        "name": "Voice Trigger",
        "links": [
            "da6ac8d6.218fe8"
        ],
        "x": 230,
        "y": 60,
        "wires": [
            [
                "6118732f.6ede7c"
            ]
        ],
        "l": true
    },
    {
        "id": "8b6715e.c7095e8",
        "type": "link in",
        "z": "73f998b9.8842a8",
        "name": "Voice Trigger",
        "links": [
            "da6ac8d6.218fe8"
        ],
        "x": 190,
        "y": 280,
        "wires": [
            [
                "e96cba5a.0480d8"
            ]
        ],
        "l": true
    },
    {
        "id": "f59f40fd.ccc8f",
        "type": "switch",
        "z": "e1557285.e3f86",
        "name": "Phrase Handler",
        "property": "payload.description.summary",
        "propertyType": "msg",
        "rules": [
            {
                "t": "regex",
                "v": "good( )?night",
                "vt": "str",
                "case": false
            },
            {
                "t": "regex",
                "v": "good( )?morning",
                "vt": "str",
                "case": false
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 360,
        "y": 420,
        "wires": [
            [
                "585fe293.44be3c",
                "a3d9aac.9918e58"
            ],
            [
                "79caf9de.681fd8"
            ]
        ]
    },
    {
        "id": "4985e4fd.b7d07c",
        "type": "switch",
        "z": "e1557285.e3f86",
        "name": "Motion Handler",
        "property": "payload.powerState",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "ON",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "OFF",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 520,
        "y": 320,
        "wires": [
            [
                "bd227bfd.da22e8"
            ],
            [
                "61d3530e.894b9c"
            ]
        ],
        "outputLabels": [
            "Motion",
            "No Motion"
        ]
    },
    {
        "id": "721fc686.712798",
        "type": "switch",
        "z": "e1557285.e3f86",
        "name": "Motion Handler",
        "property": "payload.powerState",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "ON",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "OFF",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 520,
        "y": 200,
        "wires": [
            [
                "cca5846.1475b78"
            ],
            [
                "889fff4a.6443d"
            ]
        ],
        "outputLabels": [
            "Motion",
            "No Motion"
        ]
    },
    {
        "id": "e6052e34.e22db",
        "type": "time-inject",
        "z": "e1557285.e3f86",
        "name": "Day",
        "nameInt": "⏲ golden hour dawn end = 75",
        "positionConfig": "433a14d5.44c6dc",
        "props": [
            {
                "p": "",
                "pt": "msgPayload",
                "v": "75",
                "vt": "num",
                "o": "",
                "oT": "none",
                "oM": "60000",
                "f": 0,
                "fS": 0,
                "fT": "UNIX timestamp (ms)",
                "fI": "0",
                "next": true,
                "days": ""
            },
            {
                "p": "",
                "pt": "msgTopic",
                "v": "",
                "vt": "str",
                "o": "",
                "oT": "none",
                "oM": "60000",
                "f": 0,
                "fS": 0,
                "fT": "UNIX timestamp (ms)",
                "fI": "0",
                "next": false,
                "days": ""
            }
        ],
        "injectTypeSelect": "time",
        "intervalCount": 1,
        "intervalCountType": "num",
        "intervalCountMultiplier": 60000,
        "time": "goldenHourDawnEnd",
        "timeType": "pdsTime",
        "offset": 0,
        "offsetType": "none",
        "offsetMultiplier": 60000,
        "timeEnd": "",
        "timeEndType": "entered",
        "timeEndOffset": 0,
        "timeEndOffsetType": "none",
        "timeEndOffsetMultiplier": 60000,
        "timeDays": "*",
        "timeOnlyOddDays": false,
        "timeOnlyEvenDays": false,
        "timeMonths": "*",
        "timedatestart": "",
        "timedateend": "",
        "property": "",
        "propertyType": "none",
        "propertyCompare": "true",
        "propertyThreshold": "",
        "propertyThresholdType": "num",
        "timeAlt": "",
        "timeAltType": "entered",
        "timeAltDays": "*",
        "timeAltOnlyOddDays": false,
        "timeAltOnlyEvenDays": false,
        "timeAltMonths": "*",
        "timeAltOffset": 0,
        "timeAltOffsetType": "none",
        "timeAltOffsetMultiplier": 60000,
        "once": false,
        "onceDelay": 0.1,
        "recalcTime": 2,
        "x": 830,
        "y": 640,
        "wires": [
            [
                "2ba2e322.8d793c"
            ]
        ]
    },
    {
        "id": "2ba2e322.8d793c",
        "type": "alexa-remote-echo",
        "z": "e1557285.e3f86",
        "name": "Colin's Bedroom - Echo Volume",
        "account": "d452a9d3.7a4488",
        "config": {
            "option": "command",
            "value": {
                "device": {
                    "type": "str",
                    "value": "G0014B0594641L0V"
                },
                "what": "volume",
                "value": {
                    "type": "msg",
                    "value": "payload"
                }
            }
        },
        "x": 1030,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "43b3b4b4.b1605c",
        "type": "time-inject",
        "z": "e1557285.e3f86",
        "name": "Evening",
        "nameInt": "⏲ sunset = 50",
        "positionConfig": "433a14d5.44c6dc",
        "props": [
            {
                "p": "",
                "pt": "msgPayload",
                "v": "50",
                "vt": "num",
                "o": "",
                "oT": "none",
                "oM": "60000",
                "f": 0,
                "fS": 0,
                "fT": "UNIX timestamp (ms)",
                "fI": "0",
                "next": true,
                "days": ""
            },
            {
                "p": "",
                "pt": "msgTopic",
                "v": "",
                "vt": "str",
                "o": "",
                "oT": "none",
                "oM": "60000",
                "f": 0,
                "fS": 0,
                "fT": "UNIX timestamp (ms)",
                "fI": "0",
                "next": false,
                "days": ""
            }
        ],
        "injectTypeSelect": "time",
        "intervalCount": 1,
        "intervalCountType": "num",
        "intervalCountMultiplier": 60000,
        "time": "sunset",
        "timeType": "pdsTime",
        "offset": 0,
        "offsetType": "none",
        "offsetMultiplier": 60000,
        "timeEnd": "",
        "timeEndType": "entered",
        "timeEndOffset": 0,
        "timeEndOffsetType": "none",
        "timeEndOffsetMultiplier": 60000,
        "timeDays": "*",
        "timeOnlyOddDays": false,
        "timeOnlyEvenDays": false,
        "timeMonths": "*",
        "timedatestart": "",
        "timedateend": "",
        "property": "",
        "propertyType": "none",
        "propertyCompare": "true",
        "propertyThreshold": "",
        "propertyThresholdType": "num",
        "timeAlt": "",
        "timeAltType": "entered",
        "timeAltDays": "*",
        "timeAltOnlyOddDays": false,
        "timeAltOnlyEvenDays": false,
        "timeAltMonths": "*",
        "timeAltOffset": 0,
        "timeAltOffsetType": "none",
        "timeAltOffsetMultiplier": 60000,
        "once": false,
        "onceDelay": 0.1,
        "recalcTime": 2,
        "x": 820,
        "y": 700,
        "wires": [
            [
                "2ba2e322.8d793c"
            ]
        ]
    },
    {
        "id": "7c9dd3b3.4e2a0c",
        "type": "time-inject",
        "z": "e1557285.e3f86",
        "name": "Night/Morning",
        "nameInt": "⏲ 0:00 = 35",
        "positionConfig": "433a14d5.44c6dc",
        "props": [
            {
                "p": "",
                "pt": "msgPayload",
                "v": "35",
                "vt": "num",
                "o": "",
                "oT": "none",
                "oM": "60000",
                "f": 0,
                "fS": 0,
                "fT": "UNIX timestamp (ms)",
                "fI": "0",
                "next": true,
                "days": ""
            },
            {
                "p": "",
                "pt": "msgTopic",
                "v": "",
                "vt": "str",
                "o": "",
                "oT": "none",
                "oM": "60000",
                "f": 0,
                "fS": 0,
                "fT": "UNIX timestamp (ms)",
                "fI": "0",
                "next": false,
                "days": ""
            }
        ],
        "injectTypeSelect": "time",
        "intervalCount": 1,
        "intervalCountType": "num",
        "intervalCountMultiplier": 60000,
        "time": "0:00",
        "timeType": "entered",
        "offset": 0,
        "offsetType": "none",
        "offsetMultiplier": 60000,
        "timeEnd": "",
        "timeEndType": "entered",
        "timeEndOffset": 0,
        "timeEndOffsetType": "none",
        "timeEndOffsetMultiplier": 60000,
        "timeDays": "*",
        "timeOnlyOddDays": false,
        "timeOnlyEvenDays": false,
        "timeMonths": "*",
        "timedatestart": "",
        "timedateend": "",
        "property": "",
        "propertyType": "none",
        "propertyCompare": "true",
        "propertyThreshold": "",
        "propertyThresholdType": "num",
        "timeAlt": "",
        "timeAltType": "entered",
        "timeAltDays": "*",
        "timeAltOnlyOddDays": false,
        "timeAltOnlyEvenDays": false,
        "timeAltMonths": "*",
        "timeAltOffset": 0,
        "timeAltOffsetType": "none",
        "timeAltOffsetMultiplier": 60000,
        "once": false,
        "onceDelay": 0.1,
        "recalcTime": 2,
        "x": 810,
        "y": 760,
        "wires": [
            [
                "2ba2e322.8d793c"
            ]
        ]
    },
    {
        "id": "fa9716f5.f729a8",
        "type": "alexa-remote-init",
        "z": "e1557285.e3f86",
        "name": "",
        "account": "d452a9d3.7a4488",
        "option": "refresh",
        "x": 980,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "fd765dff.7bfed",
        "type": "inject",
        "z": "e1557285.e3f86",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 820,
        "y": 500,
        "wires": [
            [
                "fa9716f5.f729a8"
            ]
        ]
    },
    {
        "id": "f4894861.c471d8",
        "type": "catch",
        "z": "e1557285.e3f86",
        "name": "catch: Alexa",
        "scope": [
            "f2d6a1e1.a6f4a",
            "dffb6a18.069798",
            "e6eb5ab8.3088d8",
            "73e39005.b9e7e",
            "a3d9aac.9918e58",
            "2ba2e322.8d793c"
        ],
        "uncaught": false,
        "x": 810,
        "y": 540,
        "wires": [
            [
                "fa9716f5.f729a8",
                "b2435ce5.48c79",
                "7348748.5fd988c"
            ]
        ]
    },
    {
        "id": "f3a46699.643ff8",
        "type": "alexa-remote-init",
        "z": "d61084e.39e0678",
        "name": "",
        "account": "4553eef5.ffc05",
        "option": "initialise",
        "x": 1080,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "e5e03de2.fc1c1",
        "type": "inject",
        "z": "d61084e.39e0678",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 940,
        "y": 120,
        "wires": [
            [
                "f3a46699.643ff8"
            ]
        ]
    },
    {
        "id": "eb4583fa.1861b",
        "type": "catch",
        "z": "d61084e.39e0678",
        "name": "catch: Alexa",
        "scope": [
            "c0f915b6.e62fb8",
            "68e807d.954b0f8",
            "e4e76245.3c42",
            "eb6d4a12.1e44f8",
            "afd82140.f445b",
            "57115256.c8f83c",
            "3bd73cb0.773a34",
            "ea17f4a9.8a2408",
            "29113ff2.7a2d1",
            "f81bf876.428948",
            "9434928a.e846d",
            "2c373c81.374514",
            "944292c6.6bb64"
        ],
        "uncaught": false,
        "x": 930,
        "y": 160,
        "wires": [
            [
                "f3a46699.643ff8",
                "2931e256.cec95e",
                "169e9dfb.2ef7b2"
            ]
        ]
    },
    {
        "id": "b2435ce5.48c79",
        "type": "function",
        "z": "e1557285.e3f86",
        "name": "Error Count",
        "func": "// initialise the counter to 0 if it doesn't exist already\nvar myRemote2_error = global.get('LF_remote2_error',\"file\")||0;\nmyRemote2_error = myRemote2_error + 1\n// store the value back\nglobal.set('LF_remote2_error',myRemote2_error,\"file\");\n// make it part of the outgoing msg object\nmsg.payload.errorCount = remote2_error;\nreturn msg;",
        "outputs": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1050,
        "y": 540,
        "wires": []
    },
    {
        "id": "2931e256.cec95e",
        "type": "function",
        "z": "d61084e.39e0678",
        "name": "Error Count",
        "func": "// initialise the counter to 0 if it doesn't exist already\nvar myRemote2_error = global.get('BH_remote2_error',\"file\")||0;\nmyRemote2_error = myRemote2_error + 1\n// store the value back\nglobal.set('BH_remote2_error',myRemote2_error,\"file\");\n// make it part of the outgoing msg object\nmsg.payload.errorCount = myRemote2_error;\nreturn msg;",
        "outputs": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1150,
        "y": 160,
        "wires": []
    },
    {
        "id": "7348748.5fd988c",
        "type": "debug",
        "z": "e1557285.e3f86",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 950,
        "y": 580,
        "wires": []
    },
    {
        "id": "169e9dfb.2ef7b2",
        "type": "debug",
        "z": "d61084e.39e0678",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 1070,
        "y": 200,
        "wires": []
    },
    {
        "id": "c697b7af.93a0c8",
        "type": "switch",
        "z": "e1557285.e3f86",
        "name": "Device Handler",
        "property": "payload.deviceSerialNumber",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "G0014B0594641L0V",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "G090U5099117260L",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "G090L91072151BM5",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 3,
        "x": 140,
        "y": 480,
        "wires": [
            [
                "f59f40fd.ccc8f",
                "5e799950.145b48"
            ],
            [],
            []
        ],
        "inputLabels": [
            "Alexa Device Activity Payload"
        ],
        "outputLabels": [
            "Colin Echo Flex",
            "Den Echo Dot",
            "Living Room Echo Dot"
        ],
        "info": "Great Room - G090U509912423CC\nDownstairs Bedroom 1 - G6G0XG100134018V\nDownstairs Bedroom 2 - G090U509912424HF\nKitchen - G090U5099117264T\nMaster Bedroom - G090U509911620T7"
    },
    {
        "id": "ef0c564a.379998",
        "type": "switch",
        "z": "68ba5945.906288",
        "g": "c9e65dc5.3adf2",
        "name": "Motion Phrase Handler",
        "property": "payload.description.summary",
        "propertyType": "msg",
        "rules": [
            {
                "t": "regex",
                "v": "(disable|turn off) (the )?(motion sensor|motion sensing)",
                "vt": "str",
                "case": false
            },
            {
                "t": "regex",
                "v": "(enable|turn on) (the )?(motion sensor|motion sensing)",
                "vt": "str",
                "case": false
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1340,
        "y": 300,
        "wires": [
            [
                "f0bb1ed4.befeb"
            ],
            [
                "f8c72644.d4f038"
            ]
        ]
    },
    {
        "id": "aa0f1e83.d2a4e",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "c9e65dc5.3adf2",
        "name": "GR - Motion Detection",
        "server": "b130c189.ea4d2",
        "deviceId": "1377",
        "command": "off",
        "commandArgs": "",
        "x": 1620,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "af7899d5.486ec8",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "c9e65dc5.3adf2",
        "name": "DB - Motion Detection",
        "server": "b130c189.ea4d2",
        "deviceId": "1352",
        "command": "off",
        "commandArgs": "",
        "x": 1620,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "52e80eaf.ec2ec",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "c9e65dc5.3adf2",
        "name": "KT - Motion Detection",
        "server": "b130c189.ea4d2",
        "deviceId": "1351",
        "command": "off",
        "commandArgs": "",
        "x": 1620,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "4b3df96e.0ee398",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "c9e65dc5.3adf2",
        "name": "MB - Motion Detection",
        "server": "b130c189.ea4d2",
        "deviceId": "385",
        "command": "off",
        "commandArgs": "",
        "x": 1620,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "89ab5121.73a8e",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "c9e65dc5.3adf2",
        "name": "GR - Motion Detection",
        "server": "b130c189.ea4d2",
        "deviceId": "1377",
        "command": "on",
        "commandArgs": "",
        "x": 1620,
        "y": 380,
        "wires": [
            [
                "d16ecda4.01cc7"
            ]
        ]
    },
    {
        "id": "bf9090fa.4d232",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "c9e65dc5.3adf2",
        "deviceLabel": "",
        "name": "DB - Motion Detection",
        "server": "b130c189.ea4d2",
        "deviceId": "1352",
        "command": "on",
        "commandArgs": "",
        "x": 1620,
        "y": 440,
        "wires": [
            [
                "20c82f9f.76e01"
            ]
        ]
    },
    {
        "id": "b0f6010d.eac1c",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "c9e65dc5.3adf2",
        "name": "KT - Motion Detection",
        "server": "b130c189.ea4d2",
        "deviceId": "1351",
        "command": "on",
        "commandArgs": "",
        "x": 1620,
        "y": 500,
        "wires": [
            [
                "af75de6f.2641"
            ]
        ]
    },
    {
        "id": "2a1a8e4b.ce15b2",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "c9e65dc5.3adf2",
        "name": "MB - Motion Detection",
        "server": "b130c189.ea4d2",
        "deviceId": "385",
        "command": "on",
        "commandArgs": "",
        "x": 1620,
        "y": 560,
        "wires": [
            [
                "2d2dcea7.4096d2"
            ]
        ]
    },
    {
        "id": "f0bb1ed4.befeb",
        "type": "subflow:cb4b5b0a.f09b68",
        "z": "68ba5945.906288",
        "g": "c9e65dc5.3adf2",
        "name": "",
        "env": [],
        "x": 1360,
        "y": 200,
        "wires": [
            [
                "aa0f1e83.d2a4e"
            ],
            [
                "af7899d5.486ec8"
            ],
            [
                "52e80eaf.ec2ec"
            ],
            [
                "4b3df96e.0ee398"
            ]
        ]
    },
    {
        "id": "f8c72644.d4f038",
        "type": "subflow:cb4b5b0a.f09b68",
        "z": "68ba5945.906288",
        "g": "c9e65dc5.3adf2",
        "name": "",
        "x": 1360,
        "y": 400,
        "wires": [
            [
                "89ab5121.73a8e"
            ],
            [
                "bf9090fa.4d232"
            ],
            [
                "b0f6010d.eac1c"
            ],
            [
                "2a1a8e4b.ce15b2"
            ]
        ]
    },
    {
        "id": "a8a82044.dc145",
        "type": "link in",
        "z": "68ba5945.906288",
        "name": "Voice Trigger",
        "links": [
            "da6ac8d6.218fe8"
        ],
        "x": 190,
        "y": 300,
        "wires": [
            [
                "e188401e.b56c",
                "80bb010d.082ce",
                "ef0c564a.379998",
                "241e69db.e11a06"
            ]
        ],
        "l": true
    },
    {
        "id": "37b3e0d2.a9e47",
        "type": "delay",
        "z": "d61084e.39e0678",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 930,
        "y": 480,
        "wires": [
            [
                "8cbf13ee.6bece"
            ]
        ]
    },
    {
        "id": "bcf6c46b.6409c8",
        "type": "subflow:ac12c9d8.613d38",
        "z": "7e547b10.f1db64",
        "name": "",
        "env": [],
        "x": 380,
        "y": 200,
        "wires": [
            [],
            [
                "2be371d3.c1692e"
            ],
            [],
            [
                "2be371d3.c1692e"
            ],
            [],
            [
                "b7b79b46.61f3d8"
            ],
            [],
            [
                "b7b79b46.61f3d8"
            ]
        ]
    },
    {
        "id": "e5a1b2d2.030f9",
        "type": "arlo-out",
        "z": "7e547b10.f1db64",
        "d": true,
        "name": "240 Basestation",
        "service": "cd7fc366.3fdc9",
        "device": "4R03777PA2C83",
        "x": 820,
        "y": 180,
        "wires": []
    },
    {
        "id": "ad2d0123.2b95d",
        "type": "hubitat command",
        "z": "7e547b10.f1db64",
        "name": "Arlo Status",
        "server": "b130c189.ea4d2",
        "deviceId": "2017",
        "command": "off",
        "commandArgs": "",
        "x": 810,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "529a3e6a.a10a7",
        "type": "hubitat command",
        "z": "7e547b10.f1db64",
        "name": "Arlo Status",
        "server": "b130c189.ea4d2",
        "deviceId": "2017",
        "command": "on",
        "commandArgs": "",
        "x": 810,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "7ce18ab4.787bf4",
        "type": "subflow:cb4b5b0a.f09b68",
        "z": "68ba5945.906288",
        "g": "6a56d8cc.28eeb8",
        "name": "",
        "env": [],
        "x": 360,
        "y": 400,
        "wires": [
            [
                "175246ab.d98c29"
            ],
            [],
            [],
            [
                "2f5eb111.62008e"
            ]
        ]
    },
    {
        "id": "c5d6a63.5a2d658",
        "type": "subflow:cb4b5b0a.f09b68",
        "z": "68ba5945.906288",
        "g": "6a56d8cc.28eeb8",
        "name": "",
        "env": [],
        "x": 360,
        "y": 500,
        "wires": [
            [
                "4011fa87.a3ff34"
            ],
            [],
            [],
            [
                "2bf29b86.33b394"
            ]
        ]
    },
    {
        "id": "1001ff60.ab0351",
        "type": "change",
        "z": "86a351d5.46c19",
        "name": "GR Variables",
        "rules": [
            {
                "t": "set",
                "p": "payload.gr.level",
                "pt": "msg",
                "to": "gr_level",
                "tot": "env"
            },
            {
                "t": "set",
                "p": "payload.gr.volume",
                "pt": "msg",
                "to": "gr_volume",
                "tot": "env"
            },
            {
                "t": "set",
                "p": "payload.gr.heatSetpoint",
                "pt": "msg",
                "to": "gr_heatSetpoint",
                "tot": "env"
            },
            {
                "t": "set",
                "p": "payload.gr.thermostatMode",
                "pt": "msg",
                "to": "gr_thermostatMode",
                "tot": "env"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 170,
        "y": 80,
        "wires": [
            [
                "a8d9925.003c07"
            ]
        ]
    },
    {
        "id": "a8d9925.003c07",
        "type": "change",
        "z": "86a351d5.46c19",
        "name": "MB Variables",
        "rules": [
            {
                "t": "set",
                "p": "payload.mb.level",
                "pt": "msg",
                "to": "mb_level",
                "tot": "env"
            },
            {
                "t": "set",
                "p": "payload.mb.volume",
                "pt": "msg",
                "to": "mb_volume",
                "tot": "env"
            },
            {
                "t": "set",
                "p": "payload.mb.heatSetpoint",
                "pt": "msg",
                "to": "mb_heatSetpoint",
                "tot": "env"
            },
            {
                "t": "set",
                "p": "payload.mb.thermostatMode",
                "pt": "msg",
                "to": "mb_thermostatMode",
                "tot": "env"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 80,
        "wires": [
            [
                "d191d0ac.a3a19"
            ]
        ]
    },
    {
        "id": "d191d0ac.a3a19",
        "type": "change",
        "z": "86a351d5.46c19",
        "name": "KT Variables",
        "rules": [
            {
                "t": "set",
                "p": "payload.kt.level",
                "pt": "msg",
                "to": "kt_level",
                "tot": "env"
            },
            {
                "t": "set",
                "p": "payload.kt.volume",
                "pt": "msg",
                "to": "kt_volume",
                "tot": "env"
            },
            {
                "t": "set",
                "p": "payload.kt.ct",
                "pt": "msg",
                "to": "kt_ct",
                "tot": "env"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 80,
        "wires": [
            [
                "39d6afc6.5b413"
            ]
        ]
    },
    {
        "id": "39d6afc6.5b413",
        "type": "change",
        "z": "86a351d5.46c19",
        "name": "DB Variables",
        "rules": [
            {
                "t": "set",
                "p": "payload.db.level",
                "pt": "msg",
                "to": "db_level",
                "tot": "env"
            },
            {
                "t": "set",
                "p": "payload.db.volume",
                "pt": "msg",
                "to": "db_volume",
                "tot": "env"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 650,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "98aa6dc5.7fb68",
        "type": "subflow:86a351d5.46c19",
        "z": "ac12c9d8.613d38",
        "name": "Day",
        "env": [
            {
                "name": "mb_volume",
                "value": "25",
                "type": "num"
            },
            {
                "name": "kt_volume",
                "value": "65",
                "type": "num"
            },
            {
                "name": "db_volume",
                "value": "50",
                "type": "num"
            },
            {
                "name": "kt_ct",
                "value": "6000",
                "type": "str"
            }
        ],
        "x": 530,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "ee672932.b889f8",
        "type": "subflow:86a351d5.46c19",
        "z": "ac12c9d8.613d38",
        "name": "Evening",
        "env": [
            {
                "name": "gr_level",
                "value": "50",
                "type": "num"
            },
            {
                "name": "gr_volume",
                "value": "70",
                "type": "num"
            },
            {
                "name": "mb_level",
                "value": "60",
                "type": "num"
            },
            {
                "name": "mb_volume",
                "value": "20",
                "type": "num"
            },
            {
                "name": "kt_level",
                "value": "60",
                "type": "num"
            },
            {
                "name": "kt_volume",
                "value": "65",
                "type": "num"
            },
            {
                "name": "db_level",
                "value": "60",
                "type": "num"
            },
            {
                "name": "db_volume",
                "value": "30",
                "type": "num"
            },
            {
                "name": "kt_ct",
                "value": "4500",
                "type": "str"
            }
        ],
        "x": 540,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "88d18988.5bf308",
        "type": "subflow:86a351d5.46c19",
        "z": "ac12c9d8.613d38",
        "name": "Away",
        "env": [
            {
                "name": "gr_heatSetpoint",
                "value": "60",
                "type": "num"
            },
            {
                "name": "gr_thermostatMode",
                "value": "off",
                "type": "str"
            },
            {
                "name": "mb_volume",
                "value": "25",
                "type": "num"
            },
            {
                "name": "mb_heatSetpoint",
                "value": "60",
                "type": "num"
            },
            {
                "name": "mb_thermostatMode",
                "value": "off",
                "type": "str"
            },
            {
                "name": "db_volume",
                "value": "50",
                "type": "num"
            }
        ],
        "x": 530,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "f1d1cb2e.dcdff8",
        "type": "subflow:86a351d5.46c19",
        "z": "ac12c9d8.613d38",
        "name": "Night",
        "env": [
            {
                "name": "gr_level",
                "value": "1",
                "type": "num"
            },
            {
                "name": "gr_volume",
                "value": "52",
                "type": "num"
            },
            {
                "name": "gr_heatSetpoint",
                "value": "60",
                "type": "num"
            },
            {
                "name": "gr_thermostatMode",
                "value": "off",
                "type": "str"
            },
            {
                "name": "mb_level",
                "value": "1",
                "type": "num"
            },
            {
                "name": "mb_volume",
                "value": "2",
                "type": "num"
            },
            {
                "name": "mb_heatSetpoint",
                "value": "60",
                "type": "num"
            },
            {
                "name": "mb_thermostatMode",
                "value": "off",
                "type": "str"
            },
            {
                "name": "kt_level",
                "value": "1",
                "type": "num"
            },
            {
                "name": "kt_volume",
                "value": "52",
                "type": "num"
            },
            {
                "name": "db_level",
                "value": "1",
                "type": "num"
            },
            {
                "name": "db_volume",
                "value": "1",
                "type": "num"
            },
            {
                "name": "kt_ct",
                "value": "2000",
                "type": "str"
            }
        ],
        "x": 530,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "82b30702.ac2918",
        "type": "change",
        "z": "1b6cb505.3a434b",
        "name": "GR Light Level",
        "rules": [
            {
                "t": "set",
                "p": "arguments",
                "pt": "msg",
                "to": "payload.gr.level",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 200,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "da4bb0c.9f49a5",
        "type": "change",
        "z": "1b6cb505.3a434b",
        "name": "KT Light Level",
        "rules": [
            {
                "t": "set",
                "p": "arguments",
                "pt": "msg",
                "to": "payload.kt.level",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 200,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "2e83613b.aa3a8e",
        "type": "change",
        "z": "1b6cb505.3a434b",
        "name": "DB Light Level",
        "rules": [
            {
                "t": "set",
                "p": "arguments",
                "pt": "msg",
                "to": "payload.db.level",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 200,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "5faa0e17.bf9bb",
        "type": "change",
        "z": "435a82d9.b4e8dc",
        "name": "GR Heat Setpoint",
        "rules": [
            {
                "t": "set",
                "p": "arguments",
                "pt": "msg",
                "to": "payload.gr.heatSetpoint",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 210,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "708cbaf0.a98f64",
        "type": "change",
        "z": "435a82d9.b4e8dc",
        "name": "GR Thermostat Mode",
        "rules": [
            {
                "t": "set",
                "p": "arguments",
                "pt": "msg",
                "to": "payload.gr.thermostatMode",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 220,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "faa19bef.e116b8",
        "type": "change",
        "z": "435a82d9.b4e8dc",
        "name": "MB Heat Setpoint",
        "rules": [
            {
                "t": "set",
                "p": "arguments",
                "pt": "msg",
                "to": "payload.mb.heatSetpoint",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 210,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "7530da86.dac334",
        "type": "change",
        "z": "435a82d9.b4e8dc",
        "name": "MB Thermostat Mode",
        "rules": [
            {
                "t": "set",
                "p": "arguments",
                "pt": "msg",
                "to": "payload.mb.thermostatMode",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 220,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "11291787.f81d18",
        "type": "hubitat command",
        "z": "345f283.d5796d8",
        "name": "Refresh UPS Monitor",
        "server": "b130c189.ea4d2",
        "deviceId": "610",
        "command": "initialize",
        "commandArgs": "",
        "x": 440,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "2bf257a5.75d838",
        "type": "hubitat command",
        "z": "345f283.d5796d8",
        "name": "DB - Kasa Dimmer",
        "server": "b130c189.ea4d2",
        "deviceId": "69",
        "command": "presetLevel",
        "commandArgs": "",
        "x": 1030,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "527c0cc9.c39f84",
        "type": "hubitat command",
        "z": "345f283.d5796d8",
        "name": "GR - Kasa Dimmer",
        "server": "b130c189.ea4d2",
        "deviceId": "67",
        "command": "presetLevel",
        "commandArgs": "",
        "x": 1030,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "eb102125.517d1",
        "type": "hubitat command",
        "z": "345f283.d5796d8",
        "name": "KT - Kasa Dimmer",
        "server": "b130c189.ea4d2",
        "deviceId": "68",
        "command": "presetLevel",
        "commandArgs": "",
        "x": 1030,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "aaece627.564198",
        "type": "inject",
        "z": "345f283.d5796d8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 180,
        "y": 200,
        "wires": [
            [
                "11291787.f81d18",
                "ee75fe96.c668b"
            ]
        ]
    },
    {
        "id": "674868ad.e357e8",
        "type": "hubitat command",
        "z": "345f283.d5796d8",
        "name": "KT - Motion Detection",
        "server": "b130c189.ea4d2",
        "deviceId": "1351",
        "command": "on",
        "commandArgs": "",
        "x": 820,
        "y": 440,
        "wires": [
            [
                "cc5ec2c5.eb254"
            ]
        ]
    },
    {
        "id": "cc5ec2c5.eb254",
        "type": "hubitat command",
        "z": "345f283.d5796d8",
        "name": "MB - Motion Detection",
        "server": "b130c189.ea4d2",
        "deviceId": "385",
        "command": "on",
        "commandArgs": "",
        "x": 1040,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "ee75fe96.c668b",
        "type": "subflow:ac12c9d8.613d38",
        "z": "345f283.d5796d8",
        "name": "",
        "env": [],
        "x": 420,
        "y": 160,
        "wires": [
            [
                "6c8244ba.e4142c",
                "28b240a7.18b6a",
                "6c5d02ff.dab1dc"
            ],
            [
                "799c021a.c9142c",
                "bae4798b.ce1e98"
            ],
            [
                "6c8244ba.e4142c",
                "6c5d02ff.dab1dc"
            ],
            [
                "799c021a.c9142c",
                "f3418bfa.79d2f8"
            ],
            [
                "6c8244ba.e4142c",
                "28b240a7.18b6a",
                "6c5d02ff.dab1dc"
            ],
            [
                "799c021a.c9142c",
                "674868ad.e357e8"
            ],
            [
                "6c8244ba.e4142c",
                "28b240a7.18b6a",
                "6c5d02ff.dab1dc"
            ],
            [
                "41126615.b6a478"
            ]
        ]
    },
    {
        "id": "cbb3b899.a254a8",
        "type": "delay",
        "z": "345f283.d5796d8",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 180,
        "y": 140,
        "wires": [
            [
                "11291787.f81d18",
                "ee75fe96.c668b"
            ]
        ]
    },
    {
        "id": "bae4798b.ce1e98",
        "type": "hubitat command",
        "z": "345f283.d5796d8",
        "name": "MB - Motion Detection",
        "server": "b130c189.ea4d2",
        "deviceId": "385",
        "command": "off",
        "commandArgs": "",
        "x": 820,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "f3418bfa.79d2f8",
        "type": "hubitat command",
        "z": "345f283.d5796d8",
        "name": "MB - Motion Detection",
        "server": "b130c189.ea4d2",
        "deviceId": "385",
        "command": "on",
        "commandArgs": "",
        "x": 820,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "a7bacbdc.967fb8",
        "type": "link in",
        "z": "345f283.d5796d8",
        "name": "Mode Change",
        "links": [
            "19c790a8.4f13cf"
        ],
        "x": 215,
        "y": 260,
        "wires": [
            [
                "11291787.f81d18",
                "ee75fe96.c668b"
            ]
        ]
    },
    {
        "id": "13e3388f.1cc2b7",
        "type": "alexa-remote-init",
        "z": "345f283.d5796d8",
        "name": "",
        "account": "4553eef5.ffc05",
        "option": "initialise",
        "x": 400,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "1a1adf5d.6cd161",
        "type": "inject",
        "z": "345f283.d5796d8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 240,
        "y": 360,
        "wires": [
            [
                "13e3388f.1cc2b7"
            ]
        ]
    },
    {
        "id": "1d32562a.7a37aa",
        "type": "catch",
        "z": "345f283.d5796d8",
        "name": "catch: Alexa",
        "scope": [
            "6c8244ba.e4142c"
        ],
        "uncaught": false,
        "x": 250,
        "y": 400,
        "wires": [
            [
                "13e3388f.1cc2b7",
                "4648fa83.7a97c4",
                "32f59ad3.eb4206"
            ]
        ]
    },
    {
        "id": "4648fa83.7a97c4",
        "type": "function",
        "z": "345f283.d5796d8",
        "name": "Error Count",
        "func": "// initialise the counter to 0 if it doesn't exist already\nvar myRemote2_error = global.get('BH_remote2_error',\"file\")||0;\nmyRemote2_error = myRemote2_error + 1\n// store the value back\nglobal.set('BH_remote2_error',myRemote2_error,\"file\");\n// make it part of the outgoing msg object\nmsg.payload.errorCount = myRemote2_error;\nreturn msg;",
        "outputs": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 470,
        "y": 400,
        "wires": []
    },
    {
        "id": "32f59ad3.eb4206",
        "type": "debug",
        "z": "345f283.d5796d8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 390,
        "y": 440,
        "wires": []
    },
    {
        "id": "799c021a.c9142c",
        "type": "hubitat command",
        "z": "345f283.d5796d8",
        "name": "GR - SS Cam",
        "server": "b130c189.ea4d2",
        "deviceId": "366",
        "command": "off",
        "commandArgs": "",
        "x": 800,
        "y": 60,
        "wires": [
            [
                "fbdee186.a554d"
            ]
        ]
    },
    {
        "id": "41126615.b6a478",
        "type": "hubitat command",
        "z": "345f283.d5796d8",
        "name": "GR - SS Cam",
        "server": "b130c189.ea4d2",
        "deviceId": "366",
        "command": "on",
        "commandArgs": "",
        "x": 800,
        "y": 120,
        "wires": [
            [
                "ca74f6e1.a5e358"
            ]
        ]
    },
    {
        "id": "fbdee186.a554d",
        "type": "hubitat command",
        "z": "345f283.d5796d8",
        "name": "DK - Dynatrap",
        "server": "b130c189.ea4d2",
        "deviceId": "1826",
        "command": "on",
        "commandArgs": "",
        "x": 980,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "ca74f6e1.a5e358",
        "type": "hubitat command",
        "z": "345f283.d5796d8",
        "name": "DK - Dynatrap",
        "server": "b130c189.ea4d2",
        "deviceId": "1826",
        "command": "off",
        "commandArgs": "",
        "x": 980,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "6c8244ba.e4142c",
        "type": "alexa-remote-routine",
        "z": "345f283.d5796d8",
        "name": "Echo Volumes",
        "account": "4553eef5.ffc05",
        "routineNode": {
            "type": "node",
            "payload": {
                "type": "parallel",
                "children": [
                    {
                        "type": "volume",
                        "payload": {
                            "value": {
                                "type": "msg",
                                "value": "payload.gr.volume"
                            },
                            "mode": {
                                "type": "str",
                                "value": "set"
                            },
                            "devices": [
                                "G090U509912423CC"
                            ]
                        }
                    },
                    {
                        "type": "volume",
                        "payload": {
                            "value": {
                                "type": "msg",
                                "value": "payload.kt.volume"
                            },
                            "mode": {
                                "type": "str",
                                "value": "set"
                            },
                            "devices": [
                                "G090U5099117264T"
                            ]
                        }
                    },
                    {
                        "type": "volume",
                        "payload": {
                            "value": {
                                "type": "msg",
                                "value": "payload.db.volume"
                            },
                            "mode": {
                                "type": "str",
                                "value": "set"
                            },
                            "devices": [
                                "G6G0XG100134018V"
                            ]
                        }
                    },
                    {
                        "type": "volume",
                        "payload": {
                            "value": {
                                "type": "msg",
                                "value": "payload.mb.volume"
                            },
                            "mode": {
                                "type": "str",
                                "value": "set"
                            },
                            "devices": [
                                "G090U509911620T7",
                                "G090U509912424HF"
                            ]
                        }
                    }
                ]
            }
        },
        "x": 800,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "96204062.17227",
        "type": "hubitat command",
        "z": "345f283.d5796d8",
        "name": "MB - Thermostat",
        "server": "b130c189.ea4d2",
        "deviceId": "2060",
        "command": "setThermostatMode",
        "commandArgs": "",
        "x": 1170,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "f25d3012.0c364",
        "type": "hubitat command",
        "z": "345f283.d5796d8",
        "name": "MB - Thermostat",
        "server": "b130c189.ea4d2",
        "deviceId": "2060",
        "command": "setHeatingSetpoint",
        "commandArgs": "",
        "x": 1170,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "62d1d00d.f6532",
        "type": "hubitat command",
        "z": "345f283.d5796d8",
        "name": "GR - Thermostat",
        "server": "b130c189.ea4d2",
        "deviceId": "2059",
        "command": "setThermostatMode",
        "commandArgs": "",
        "x": 1170,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "19431914.861f87",
        "type": "hubitat command",
        "z": "345f283.d5796d8",
        "name": "GR - Thermostat",
        "server": "b130c189.ea4d2",
        "deviceId": "2059",
        "command": "setHeatingSetpoint",
        "commandArgs": "",
        "x": 1170,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "28b240a7.18b6a",
        "type": "subflow:1b6cb505.3a434b",
        "z": "345f283.d5796d8",
        "name": "",
        "env": [],
        "x": 820,
        "y": 240,
        "wires": [
            [
                "527c0cc9.c39f84"
            ],
            [
                "eb102125.517d1"
            ],
            [
                "2bf257a5.75d838"
            ]
        ]
    },
    {
        "id": "6c5d02ff.dab1dc",
        "type": "subflow:435a82d9.b4e8dc",
        "z": "345f283.d5796d8",
        "d": true,
        "name": "",
        "env": [],
        "x": 840,
        "y": 520,
        "wires": [
            [
                "19431914.861f87"
            ],
            [
                "f25d3012.0c364"
            ],
            [
                "62d1d00d.f6532"
            ],
            [
                "96204062.17227"
            ]
        ]
    },
    {
        "id": "29191bda.024fd4",
        "type": "alexa-remote-routine",
        "z": "d61084e.39e0678",
        "name": "Echo Volumes",
        "account": "4553eef5.ffc05",
        "routineNode": {
            "type": "node",
            "payload": {
                "type": "parallel",
                "children": [
                    {
                        "type": "volume",
                        "payload": {
                            "value": {
                                "type": "msg",
                                "value": "payload.gr.volume"
                            },
                            "mode": {
                                "type": "str",
                                "value": "set"
                            },
                            "devices": [
                                "G090U509912423CC"
                            ]
                        }
                    },
                    {
                        "type": "volume",
                        "payload": {
                            "value": {
                                "type": "msg",
                                "value": "payload.kt.volume"
                            },
                            "mode": {
                                "type": "str",
                                "value": "set"
                            },
                            "devices": [
                                "G090U5099117264T"
                            ]
                        }
                    },
                    {
                        "type": "volume",
                        "payload": {
                            "value": {
                                "type": "msg",
                                "value": "payload.db.volume"
                            },
                            "mode": {
                                "type": "str",
                                "value": "set"
                            },
                            "devices": [
                                "G6G0XG100134018V"
                            ]
                        }
                    },
                    {
                        "type": "volume",
                        "payload": {
                            "value": {
                                "type": "msg",
                                "value": "payload.mb.volume"
                            },
                            "mode": {
                                "type": "str",
                                "value": "set"
                            },
                            "devices": [
                                "G090U509911620T7"
                            ]
                        }
                    }
                ]
            }
        },
        "x": 1180,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "a501ed0c.a4ecd",
        "type": "hubitat device",
        "z": "f2fbef66.3730f",
        "name": "GR - MS Clock",
        "server": "b130c189.ea4d2",
        "deviceId": "1413",
        "attribute": "motion",
        "sendEvent": true,
        "x": 160,
        "y": 100,
        "wires": [
            [
                "407b3b12.0bbb24"
            ]
        ]
    },
    {
        "id": "ac423bf0.bea628",
        "type": "hubitat device",
        "z": "f2fbef66.3730f",
        "name": "GR - MS Front Door",
        "server": "b130c189.ea4d2",
        "deviceId": "162",
        "attribute": "motion",
        "sendEvent": true,
        "x": 140,
        "y": 160,
        "wires": [
            [
                "407b3b12.0bbb24"
            ]
        ]
    },
    {
        "id": "6c943f38.4d16a",
        "type": "hubitat device",
        "z": "f2fbef66.3730f",
        "name": "DR - MS Ship",
        "server": "b130c189.ea4d2",
        "deviceId": "1348",
        "attribute": "motion",
        "sendEvent": true,
        "x": 160,
        "y": 220,
        "wires": [
            [
                "407b3b12.0bbb24"
            ]
        ]
    },
    {
        "id": "32d7afe4.d0bef",
        "type": "hubitat device",
        "z": "f2fbef66.3730f",
        "name": "KT - MS Pantry",
        "server": "b130c189.ea4d2",
        "deviceId": "1795",
        "attribute": "motion",
        "sendEvent": true,
        "x": 160,
        "y": 280,
        "wires": [
            [
                "407b3b12.0bbb24"
            ]
        ]
    },
    {
        "id": "97866b93.f42268",
        "type": "hubitat device",
        "z": "f2fbef66.3730f",
        "name": "KT - MS Microwave",
        "server": "b130c189.ea4d2",
        "deviceId": "1794",
        "attribute": "motion",
        "sendEvent": true,
        "x": 150,
        "y": 340,
        "wires": [
            [
                "407b3b12.0bbb24"
            ]
        ]
    },
    {
        "id": "9041ced4.5aa79",
        "type": "BooleanLogicUltimate",
        "z": "f2fbef66.3730f",
        "name": "",
        "filtertrue": "both",
        "persist": true,
        "sInitializeWith": "false",
        "triggertopic": "trigger",
        "outputtriggeredby": "all",
        "inputCount": "5",
        "topic": "Ground Floor Motion",
        "x": 640,
        "y": 120,
        "wires": [
            [],
            [
                "3b30fd1a.997232"
            ],
            []
        ]
    },
    {
        "id": "74492898.e16828",
        "type": "change",
        "z": "f2fbef66.3730f",
        "name": "active",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 100,
        "wires": [
            [
                "9041ced4.5aa79"
            ]
        ]
    },
    {
        "id": "407b3b12.0bbb24",
        "type": "switch",
        "z": "f2fbef66.3730f",
        "name": "Motion",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "active",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "inactive",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 350,
        "y": 120,
        "wires": [
            [
                "74492898.e16828"
            ],
            [
                "8a8b8d7d.e87e6"
            ]
        ]
    },
    {
        "id": "8a8b8d7d.e87e6",
        "type": "change",
        "z": "f2fbef66.3730f",
        "name": "inactive",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 140,
        "wires": [
            [
                "9041ced4.5aa79"
            ]
        ]
    },
    {
        "id": "640f8720.4f0e28",
        "type": "stoptimer-varidelay",
        "z": "f2fbef66.3730f",
        "duration": "1",
        "durationType": "num",
        "units": "Hour",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "reporting": "last_minute_seconds",
        "persist": true,
        "x": 530,
        "y": 300,
        "wires": [
            [
                "2a7d057a.d8708a"
            ],
            [],
            []
        ]
    },
    {
        "id": "1b3d8792.2460c8",
        "type": "hubitat command",
        "z": "f2fbef66.3730f",
        "name": "GR - Thermostat EcoMode",
        "server": "b130c189.ea4d2",
        "deviceId": "2061",
        "command": "off",
        "commandArgs": "",
        "x": 800,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "3b30fd1a.997232",
        "type": "switch",
        "z": "f2fbef66.3730f",
        "name": "Motion",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 390,
        "y": 260,
        "wires": [
            [
                "8fc0f097.2a5be"
            ],
            [
                "640f8720.4f0e28"
            ]
        ]
    },
    {
        "id": "2a7d057a.d8708a",
        "type": "hubitat command",
        "z": "f2fbef66.3730f",
        "name": "GR - Thermostat EcoMode",
        "server": "b130c189.ea4d2",
        "deviceId": "2061",
        "command": "on",
        "commandArgs": "",
        "x": 800,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "8fc0f097.2a5be",
        "type": "change",
        "z": "f2fbef66.3730f",
        "name": "Stop Motion Timer",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "STOP",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 550,
        "y": 220,
        "wires": [
            [
                "1b3d8792.2460c8",
                "640f8720.4f0e28"
            ]
        ]
    },
    {
        "id": "d589a4be.874238",
        "type": "comment",
        "z": "f2fbef66.3730f",
        "name": "Ground Floor Check",
        "info": "",
        "x": 130,
        "y": 60,
        "wires": []
    },
    {
        "id": "ca1c15d4.926378",
        "type": "hubitat device",
        "z": "f2fbef66.3730f",
        "name": "MB - MS Bath",
        "server": "b130c189.ea4d2",
        "deviceId": "1418",
        "attribute": "motion",
        "sendEvent": true,
        "x": 120,
        "y": 480,
        "wires": [
            [
                "8e517092.31acb"
            ]
        ]
    },
    {
        "id": "6cb7bd3e.379414",
        "type": "hubitat device",
        "z": "f2fbef66.3730f",
        "name": "MB - MS Door",
        "server": "b130c189.ea4d2",
        "deviceId": "1354",
        "attribute": "motion",
        "sendEvent": true,
        "x": 120,
        "y": 540,
        "wires": [
            [
                "8e517092.31acb"
            ]
        ]
    },
    {
        "id": "5613b0c3.76b78",
        "type": "BooleanLogicUltimate",
        "z": "f2fbef66.3730f",
        "name": "",
        "filtertrue": "both",
        "persist": true,
        "sInitializeWith": "false",
        "triggertopic": "trigger",
        "outputtriggeredby": "all",
        "inputCount": "2",
        "topic": "Top Floor Motion",
        "x": 580,
        "y": 500,
        "wires": [
            [],
            [
                "cf390678.346948"
            ],
            []
        ]
    },
    {
        "id": "909d5c28.2b83b",
        "type": "change",
        "z": "f2fbef66.3730f",
        "name": "active",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 480,
        "wires": [
            [
                "5613b0c3.76b78"
            ]
        ]
    },
    {
        "id": "8e517092.31acb",
        "type": "switch",
        "z": "f2fbef66.3730f",
        "name": "Motion",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "active",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "inactive",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 290,
        "y": 500,
        "wires": [
            [
                "909d5c28.2b83b"
            ],
            [
                "52591e99.d821b"
            ]
        ]
    },
    {
        "id": "52591e99.d821b",
        "type": "change",
        "z": "f2fbef66.3730f",
        "name": "inactive",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 420,
        "y": 520,
        "wires": [
            [
                "5613b0c3.76b78"
            ]
        ]
    },
    {
        "id": "76367b7.cf6be84",
        "type": "stoptimer-varidelay",
        "z": "f2fbef66.3730f",
        "duration": "1",
        "durationType": "num",
        "units": "Hour",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "reporting": "last_minute_seconds",
        "persist": true,
        "x": 530,
        "y": 680,
        "wires": [
            [
                "e27297b2.3e1778"
            ],
            [],
            []
        ]
    },
    {
        "id": "f45bc942.ceda18",
        "type": "hubitat command",
        "z": "f2fbef66.3730f",
        "name": "MB - Thermostat EcoMode",
        "server": "b130c189.ea4d2",
        "deviceId": "2062",
        "command": "off",
        "commandArgs": "",
        "x": 800,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "cf390678.346948",
        "type": "switch",
        "z": "f2fbef66.3730f",
        "name": "Motion",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 390,
        "y": 640,
        "wires": [
            [
                "1c5545a.1be0bba"
            ],
            [
                "76367b7.cf6be84"
            ]
        ]
    },
    {
        "id": "e27297b2.3e1778",
        "type": "hubitat command",
        "z": "f2fbef66.3730f",
        "name": "MB - Thermostat EcoMode",
        "server": "b130c189.ea4d2",
        "deviceId": "2062",
        "command": "on",
        "commandArgs": "",
        "x": 800,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "1c5545a.1be0bba",
        "type": "change",
        "z": "f2fbef66.3730f",
        "name": "Stop Motion Timer",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "STOP",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 550,
        "y": 600,
        "wires": [
            [
                "f45bc942.ceda18",
                "76367b7.cf6be84"
            ]
        ]
    },
    {
        "id": "aed3829b.198dd",
        "type": "comment",
        "z": "f2fbef66.3730f",
        "name": "Top Floor Check",
        "info": "",
        "x": 120,
        "y": 440,
        "wires": []
    },
    {
        "id": "be5a80cf.7fe59",
        "type": "change",
        "z": "ac12c9d8.613d38",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "backup",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "backupTopic",
                "pt": "msg",
                "to": "topic",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 140,
        "y": 120,
        "wires": [
            [
                "c5d42927.3e5298"
            ]
        ]
    },
    {
        "id": "fa1db06f.77cad",
        "type": "change",
        "z": "ac12c9d8.613d38",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "backup",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "backupTopic",
                "tot": "msg"
            },
            {
                "t": "delete",
                "p": "backup",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "backupTopic",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "660dffb4.d7181",
        "type": "change",
        "z": "ac12c9d8.613d38",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "backup",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "backupTopic",
                "tot": "msg"
            },
            {
                "t": "delete",
                "p": "backup",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "backupTopic",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "cbb6f5e3.a0c998",
        "type": "change",
        "z": "ac12c9d8.613d38",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "backup",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "backupTopic",
                "tot": "msg"
            },
            {
                "t": "delete",
                "p": "backup",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "backupTopic",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "fbbbf44.f20c308",
        "type": "change",
        "z": "ac12c9d8.613d38",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "backup",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "backupTopic",
                "tot": "msg"
            },
            {
                "t": "delete",
                "p": "backup",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "backupTopic",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "6969088d.e81b58",
        "type": "hubitat device",
        "z": "f2fbef66.3730f",
        "name": "MB - Thermostat",
        "server": "b130c189.ea4d2",
        "deviceId": "2060",
        "attribute": "heatingSetpoint",
        "sendEvent": true,
        "x": 190,
        "y": 880,
        "wires": [
            [
                "b648c250.265a1"
            ]
        ]
    },
    {
        "id": "b648c250.265a1",
        "type": "subflow:ac12c9d8.613d38",
        "z": "f2fbef66.3730f",
        "name": "",
        "env": [],
        "x": 380,
        "y": 880,
        "wires": [
            [],
            [
                "7819747.0fec08c"
            ],
            [],
            [
                "7819747.0fec08c"
            ],
            [],
            [
                "d943d65c.2ceeb8"
            ],
            [],
            [
                "f0c123cb.135e4"
            ]
        ]
    },
    {
        "id": "12c2b19c.b3670e",
        "type": "inject",
        "z": "f2fbef66.3730f",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 180,
        "y": 980,
        "wires": [
            [
                "6969088d.e81b58",
                "fb70bb36.600b38"
            ]
        ]
    },
    {
        "id": "7819747.0fec08c",
        "type": "switch",
        "z": "f2fbef66.3730f",
        "name": "MB Check",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "65",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 570,
        "y": 820,
        "wires": [
            [
                "698c010b.ae6b6"
            ]
        ]
    },
    {
        "id": "f0c123cb.135e4",
        "type": "switch",
        "z": "f2fbef66.3730f",
        "name": "MB Check",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "35",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 570,
        "y": 940,
        "wires": [
            [
                "698c010b.ae6b6"
            ]
        ]
    },
    {
        "id": "d943d65c.2ceeb8",
        "type": "switch",
        "z": "f2fbef66.3730f",
        "name": "MB Check",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "35",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 570,
        "y": 880,
        "wires": [
            [
                "698c010b.ae6b6"
            ]
        ]
    },
    {
        "id": "640b1671.e96ae8",
        "type": "subflow:ac12c9d8.613d38",
        "z": "f2fbef66.3730f",
        "name": "",
        "env": [],
        "x": 380,
        "y": 1080,
        "wires": [
            [],
            [
                "bb732eb5.70c7b"
            ],
            [],
            [
                "bb732eb5.70c7b"
            ],
            [],
            [
                "177737b7.458588"
            ],
            [],
            [
                "772a0151.2d82"
            ]
        ]
    },
    {
        "id": "bb732eb5.70c7b",
        "type": "switch",
        "z": "f2fbef66.3730f",
        "name": "GR Check",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "69",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 570,
        "y": 1020,
        "wires": [
            [
                "698c010b.ae6b6"
            ]
        ]
    },
    {
        "id": "772a0151.2d82",
        "type": "switch",
        "z": "f2fbef66.3730f",
        "name": "GR Check",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "35",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 570,
        "y": 1140,
        "wires": [
            [
                "698c010b.ae6b6"
            ]
        ]
    },
    {
        "id": "177737b7.458588",
        "type": "switch",
        "z": "f2fbef66.3730f",
        "name": "GR Check",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "45",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 570,
        "y": 1080,
        "wires": [
            [
                "698c010b.ae6b6"
            ]
        ]
    },
    {
        "id": "fb70bb36.600b38",
        "type": "hubitat device",
        "z": "f2fbef66.3730f",
        "name": "GR - Thermostat",
        "server": "b130c189.ea4d2",
        "deviceId": "2059",
        "attribute": "heatingSetpoint",
        "sendEvent": true,
        "x": 190,
        "y": 1080,
        "wires": [
            [
                "640b1671.e96ae8"
            ]
        ]
    },
    {
        "id": "698c010b.ae6b6",
        "type": "change",
        "z": "f2fbef66.3730f",
        "name": "Generate Message",
        "rules": [
            {
                "t": "set",
                "p": "arguments",
                "pt": "msg",
                "to": "payload.displayName\t& \" \"\t& payload.name\t& \" at \"\t& payload.value\t& \"...please check logs.\"\t",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 810,
        "y": 980,
        "wires": [
            [
                "ce986122.c5b6a"
            ]
        ]
    },
    {
        "id": "6bd81d47.b57244",
        "type": "debug",
        "z": "f2fbef66.3730f",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1010,
        "y": 980,
        "wires": []
    },
    {
        "id": "ad04b16e.4ea1e",
        "type": "hubitat command",
        "z": "f2fbef66.3730f",
        "name": "Colin Notification",
        "server": "b130c189.ea4d2",
        "deviceId": "70",
        "command": "deviceNotification",
        "commandArgs": "",
        "x": 1050,
        "y": 1020,
        "wires": [
            []
        ]
    },
    {
        "id": "dbc51489.26fe08",
        "type": "comment",
        "z": "f2fbef66.3730f",
        "name": "Notify when setpoint goes above default",
        "info": "",
        "x": 190,
        "y": 780,
        "wires": []
    },
    {
        "id": "f240ae6e.1c1cf",
        "type": "hubitat device",
        "z": "f2fbef66.3730f",
        "name": "GR - Thermostat",
        "server": "b130c189.ea4d2",
        "deviceId": "2059",
        "attribute": "thermostatMode",
        "sendEvent": true,
        "x": 170,
        "y": 1340,
        "wires": [
            [
                "fc7c84a0.dcbea8"
            ]
        ]
    },
    {
        "id": "dbf37206.be4e5",
        "type": "hubitat command",
        "z": "f2fbef66.3730f",
        "name": "GR - MS Clock",
        "server": "b130c189.ea4d2",
        "deviceId": "1413",
        "command": "refresh",
        "commandArgs": "",
        "x": 980,
        "y": 1340,
        "wires": [
            []
        ]
    },
    {
        "id": "a1858910.cafd98",
        "type": "hubitat command",
        "z": "f2fbef66.3730f",
        "name": "GR - MS Front Door",
        "server": "b130c189.ea4d2",
        "deviceId": "162",
        "command": "refresh",
        "commandArgs": "",
        "x": 1000,
        "y": 1380,
        "wires": [
            []
        ]
    },
    {
        "id": "3bd062b.7672a9e",
        "type": "inject",
        "z": "f2fbef66.3730f",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 160,
        "y": 1460,
        "wires": [
            [
                "f240ae6e.1c1cf",
                "2cad1b97.54d254"
            ]
        ]
    },
    {
        "id": "2cad1b97.54d254",
        "type": "hubitat device",
        "z": "f2fbef66.3730f",
        "name": "MB - Thermostat",
        "server": "b130c189.ea4d2",
        "deviceId": "2060",
        "attribute": "thermostatMode",
        "sendEvent": true,
        "x": 170,
        "y": 1580,
        "wires": [
            [
                "f71e9f7d.530b6"
            ]
        ]
    },
    {
        "id": "4173cedd.8615f",
        "type": "hubitat command",
        "z": "f2fbef66.3730f",
        "name": "MB - MS Bath",
        "server": "b130c189.ea4d2",
        "deviceId": "1418",
        "command": "refresh",
        "commandArgs": "",
        "x": 980,
        "y": 1620,
        "wires": [
            []
        ]
    },
    {
        "id": "58738c6c.026c24",
        "type": "hubitat command",
        "z": "f2fbef66.3730f",
        "name": "MB - MS Door",
        "server": "b130c189.ea4d2",
        "deviceId": "1354",
        "command": "refresh",
        "commandArgs": "",
        "x": 980,
        "y": 1580,
        "wires": [
            []
        ]
    },
    {
        "id": "6523dcf8.e201d4",
        "type": "comment",
        "z": "f2fbef66.3730f",
        "name": "Refresh on Motion Sensors when entering Emergency Stop Mode (1 minute cycle)",
        "info": "",
        "x": 340,
        "y": 1260,
        "wires": []
    },
    {
        "id": "33bcc519.51c67a",
        "type": "stoptimer-varidelay",
        "z": "f2fbef66.3730f",
        "duration": "1",
        "durationType": "num",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "reporting": "none",
        "persist": false,
        "x": 560,
        "y": 1460,
        "wires": [
            [
                "f240ae6e.1c1cf"
            ],
            [],
            []
        ]
    },
    {
        "id": "d98c0fbe.9462e",
        "type": "stoptimer-varidelay",
        "z": "f2fbef66.3730f",
        "duration": "1",
        "durationType": "num",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "reporting": "none",
        "persist": false,
        "x": 560,
        "y": 1700,
        "wires": [
            [
                "2cad1b97.54d254"
            ],
            [],
            []
        ]
    },
    {
        "id": "eb8c94d2.ef1098",
        "type": "switch",
        "z": "f2fbef66.3730f",
        "name": "<= 30 attempts",
        "property": "GR_refreshCount",
        "propertyType": "flow",
        "rules": [
            {
                "t": "lte",
                "v": "30",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 740,
        "y": 1340,
        "wires": [
            [
                "dbf37206.be4e5",
                "a1858910.cafd98",
                "33bcc519.51c67a",
                "2793ea10.a95526"
            ],
            [
                "eee3c684.d46e08"
            ]
        ]
    },
    {
        "id": "25a1fb3a.31f534",
        "type": "function",
        "z": "f2fbef66.3730f",
        "name": "Refresh Count",
        "func": "// initialise the counter to 0 if it doesn't exist already\nvar myRefreshCount = flow.get('GR_refreshCount',\"memoryOnly\")||0;\nmyRefreshCount = myRefreshCount + 1\n// store the value back\nflow.set('GR_refreshCount',myRefreshCount,\"memoryOnly\");\n// make it part of the outgoing msg object\nmsg.payload.refreshCount = myRefreshCount;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 560,
        "y": 1340,
        "wires": [
            [
                "eb8c94d2.ef1098"
            ]
        ]
    },
    {
        "id": "9e9512b8.cf98d",
        "type": "function",
        "z": "f2fbef66.3730f",
        "name": "Refresh Count",
        "func": "// initialise the counter to 0 if it doesn't exist already\nvar myRefreshCount = flow.get('MB_refreshCount',\"memoryOnly\")||0;\nmyRefreshCount = myRefreshCount + 1\n// store the value back\nflow.set('MB_refreshCount',myRefreshCount,\"memoryOnly\");\n// make it part of the outgoing msg object\nmsg.payload.refreshCount = myRefreshCount;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 560,
        "y": 1580,
        "wires": [
            [
                "5aaefad3.0acb74"
            ]
        ]
    },
    {
        "id": "5aaefad3.0acb74",
        "type": "switch",
        "z": "f2fbef66.3730f",
        "name": "<= 30 attempts",
        "property": "MB_refreshCount",
        "propertyType": "flow",
        "rules": [
            {
                "t": "lte",
                "v": "30",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 740,
        "y": 1580,
        "wires": [
            [
                "58738c6c.026c24",
                "4173cedd.8615f",
                "d98c0fbe.9462e",
                "8cf8d1fd.ede6e"
            ],
            [
                "758f7ba7.705e74"
            ]
        ]
    },
    {
        "id": "fc7c84a0.dcbea8",
        "type": "switch",
        "z": "f2fbef66.3730f",
        "name": "Emergency Stop",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "emergency stop",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 370,
        "y": 1340,
        "wires": [
            [
                "25a1fb3a.31f534"
            ],
            [
                "c288961f.3468e8"
            ]
        ]
    },
    {
        "id": "c288961f.3468e8",
        "type": "function",
        "z": "f2fbef66.3730f",
        "name": "Reset Refresh Count",
        "func": "flow.set('GR_refreshCount',0,\"memoryOnly\");",
        "outputs": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 580,
        "y": 1380,
        "wires": []
    },
    {
        "id": "f71e9f7d.530b6",
        "type": "switch",
        "z": "f2fbef66.3730f",
        "name": "Emergency Stop",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "emergency stop",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 370,
        "y": 1580,
        "wires": [
            [
                "9e9512b8.cf98d"
            ],
            [
                "79c9901c.8e302"
            ]
        ]
    },
    {
        "id": "79c9901c.8e302",
        "type": "function",
        "z": "f2fbef66.3730f",
        "name": "Reset Refresh Count",
        "func": "flow.set('MB_refreshCount',0,\"memoryOnly\");",
        "outputs": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 580,
        "y": 1620,
        "wires": []
    },
    {
        "id": "e49c20a6.c2644",
        "type": "hubitat command",
        "z": "f2fbef66.3730f",
        "name": "Colin Notification",
        "server": "b130c189.ea4d2",
        "deviceId": "70",
        "command": "deviceNotification",
        "commandArgs": "",
        "x": 1030,
        "y": 1460,
        "wires": [
            []
        ]
    },
    {
        "id": "481e189e.1bc5c8",
        "type": "hubitat command",
        "z": "f2fbef66.3730f",
        "name": "Colin Notification",
        "server": "b130c189.ea4d2",
        "deviceId": "70",
        "command": "deviceNotification",
        "commandArgs": "",
        "x": 1030,
        "y": 1700,
        "wires": [
            []
        ]
    },
    {
        "id": "eee3c684.d46e08",
        "type": "change",
        "z": "f2fbef66.3730f",
        "name": "Generate Message",
        "rules": [
            {
                "t": "set",
                "p": "arguments",
                "pt": "msg",
                "to": "topic & \" in \" & payload.value & \" mode!\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 1460,
        "wires": [
            [
                "e49c20a6.c2644"
            ]
        ]
    },
    {
        "id": "758f7ba7.705e74",
        "type": "change",
        "z": "f2fbef66.3730f",
        "name": "Generate Message",
        "rules": [
            {
                "t": "set",
                "p": "arguments",
                "pt": "msg",
                "to": "topic & \" in \" & payload.value & \" mode!\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 1700,
        "wires": [
            [
                "481e189e.1bc5c8"
            ]
        ]
    },
    {
        "id": "c6bad5a1.12d808",
        "type": "function",
        "z": "f2fbef66.3730f",
        "name": "Emergency Count",
        "func": "// initialise the counter to 0 if it doesn't exist already\nvar myEmergencyCount = flow.get('GR_emergencyCount',\"file\")||0;\nmyEmergencyCount = myEmergencyCount + 1\n// store the value back\nflow.set('GR_emergencyCount',myEmergencyCount,\"file\");\n// make it part of the outgoing msg object\nmsg.payload.emergencyCount = myEmergencyCount;\nreturn msg;",
        "outputs": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 970,
        "y": 1280,
        "wires": []
    },
    {
        "id": "e6c15b21.472e98",
        "type": "function",
        "z": "f2fbef66.3730f",
        "name": "Emergency Count",
        "func": "// initialise the counter to 0 if it doesn't exist already\nvar myEmergencyCount = flow.get('MB_emergencyCount',\"file\")||0;\nmyEmergencyCount = myEmergencyCount + 1\n// store the value back\nflow.set('MB_emergencyCount',myEmergencyCount,\"file\");\n// make it part of the outgoing msg object\nmsg.payload.emergencyCount = myEmergencyCount;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 970,
        "y": 1520,
        "wires": [
            []
        ]
    },
    {
        "id": "2793ea10.a95526",
        "type": "delay",
        "z": "f2fbef66.3730f",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "30",
        "rateUnits": "minute",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 740,
        "y": 1280,
        "wires": [
            [
                "c6bad5a1.12d808"
            ]
        ]
    },
    {
        "id": "8cf8d1fd.ede6e",
        "type": "delay",
        "z": "f2fbef66.3730f",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "30",
        "rateUnits": "minute",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 740,
        "y": 1520,
        "wires": [
            [
                "e6c15b21.472e98"
            ]
        ]
    },
    {
        "id": "241e69db.e11a06",
        "type": "switch",
        "z": "68ba5945.906288",
        "g": "641dcc83.ea3e04",
        "name": "Reading Phrase Handler",
        "property": "payload.description.summary",
        "propertyType": "msg",
        "rules": [
            {
                "t": "regex",
                "v": "(disable|turn off) (the )?reading( mode)?",
                "vt": "str",
                "case": false
            },
            {
                "t": "regex",
                "v": "(enable|turn on) (the )?reading( mode)?",
                "vt": "str",
                "case": false
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 2470,
        "y": 300,
        "wires": [
            [
                "4ef9f1f6.6c8db"
            ],
            [
                "21d751c8.f7de4e"
            ]
        ]
    },
    {
        "id": "ecbbc81f.d7d568",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "641dcc83.ea3e04",
        "name": "GR - Motion Detection",
        "server": "b130c189.ea4d2",
        "deviceId": "1377",
        "command": "on",
        "commandArgs": "",
        "x": 2760,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "6fde834f.86af3c",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "641dcc83.ea3e04",
        "name": "DB - Motion Detection",
        "server": "b130c189.ea4d2",
        "deviceId": "1352",
        "command": "on",
        "commandArgs": "",
        "x": 2760,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "1e8a631a.86fd0d",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "641dcc83.ea3e04",
        "name": "MB - Motion Detection",
        "server": "b130c189.ea4d2",
        "deviceId": "385",
        "command": "on",
        "commandArgs": "",
        "x": 2760,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "81c44ec6.0ea8f",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "641dcc83.ea3e04",
        "name": "GR - Motion Detection",
        "server": "b130c189.ea4d2",
        "deviceId": "1377",
        "command": "off",
        "commandArgs": "",
        "x": 2760,
        "y": 360,
        "wires": [
            [
                "82e3eab1.1d37d8"
            ]
        ]
    },
    {
        "id": "bcf3c847.be6068",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "641dcc83.ea3e04",
        "name": "DB - Motion Detection",
        "server": "b130c189.ea4d2",
        "deviceId": "1352",
        "command": "off",
        "commandArgs": "",
        "x": 2760,
        "y": 400,
        "wires": [
            [
                "43f1bb07.4c8404"
            ]
        ]
    },
    {
        "id": "8b221812.24a128",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "641dcc83.ea3e04",
        "name": "MB - Motion Detection",
        "server": "b130c189.ea4d2",
        "deviceId": "385",
        "command": "off",
        "commandArgs": "",
        "x": 2760,
        "y": 440,
        "wires": [
            [
                "7420ed20.3c1374",
                "d35e8c19.84041",
                "4386551f.5c679c"
            ]
        ]
    },
    {
        "id": "4ef9f1f6.6c8db",
        "type": "subflow:cb4b5b0a.f09b68",
        "z": "68ba5945.906288",
        "g": "641dcc83.ea3e04",
        "name": "",
        "env": [],
        "x": 2500,
        "y": 200,
        "wires": [
            [
                "ecbbc81f.d7d568"
            ],
            [
                "6fde834f.86af3c"
            ],
            [],
            [
                "1e8a631a.86fd0d"
            ]
        ]
    },
    {
        "id": "21d751c8.f7de4e",
        "type": "subflow:cb4b5b0a.f09b68",
        "z": "68ba5945.906288",
        "g": "641dcc83.ea3e04",
        "name": "",
        "x": 2500,
        "y": 400,
        "wires": [
            [
                "81c44ec6.0ea8f"
            ],
            [
                "bcf3c847.be6068"
            ],
            [],
            [
                "8b221812.24a128"
            ]
        ]
    },
    {
        "id": "82e3eab1.1d37d8",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "641dcc83.ea3e04",
        "deviceLabel": "",
        "name": "GR - Lights",
        "server": "b130c189.ea4d2",
        "deviceId": "1572",
        "command": "setLevel",
        "commandArgs": "75",
        "x": 2990,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "7420ed20.3c1374",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "641dcc83.ea3e04",
        "name": "MB - Left Nightstand",
        "server": "b130c189.ea4d2",
        "deviceId": "22",
        "command": "setColorTemperature",
        "commandArgs": "3500",
        "x": 3020,
        "y": 440,
        "wires": [
            [
                "8447f4.cf02d81"
            ]
        ]
    },
    {
        "id": "d35e8c19.84041",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "641dcc83.ea3e04",
        "name": "MB - Right Nightstand",
        "server": "b130c189.ea4d2",
        "deviceId": "23",
        "command": "setColorTemperature",
        "commandArgs": "3500",
        "x": 3020,
        "y": 480,
        "wires": [
            [
                "c00fd277.ad2e8"
            ]
        ]
    },
    {
        "id": "4386551f.5c679c",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "641dcc83.ea3e04",
        "name": "MB - Floor Lamp",
        "server": "b130c189.ea4d2",
        "deviceId": "21",
        "command": "off",
        "commandArgs": "",
        "x": 3010,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "8447f4.cf02d81",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "641dcc83.ea3e04",
        "name": "MB - Left Nightstand",
        "server": "b130c189.ea4d2",
        "deviceId": "22",
        "command": "setLevel",
        "commandArgs": "100",
        "x": 3240,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "c00fd277.ad2e8",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "641dcc83.ea3e04",
        "name": "MB - Right Nightstand",
        "server": "b130c189.ea4d2",
        "deviceId": "23",
        "command": "setLevel",
        "commandArgs": "100",
        "x": 3240,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "7c5a13ee.cbb74c",
        "type": "switch",
        "z": "73f998b9.8842a8",
        "name": "if UNLOCKED",
        "property": "payload.lock.currentValue",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "unlocked",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 940,
        "y": 240,
        "wires": [
            [
                "1f860f1a.769fd1"
            ]
        ]
    },
    {
        "id": "8a6fbfea.46e12",
        "type": "hubitat device",
        "z": "73f998b9.8842a8",
        "deviceLabel": "",
        "name": "Lock Status",
        "server": "b130c189.ea4d2",
        "deviceId": "2410",
        "attribute": "",
        "sendEvent": false,
        "x": 770,
        "y": 240,
        "wires": [
            [
                "7c5a13ee.cbb74c"
            ]
        ]
    },
    {
        "id": "b674ffb.99ca3",
        "type": "hubitat command",
        "z": "73f998b9.8842a8",
        "deviceLabel": "",
        "name": "Back Door Lock",
        "server": "b130c189.ea4d2",
        "deviceId": "2410",
        "command": "refresh",
        "commandArgs": "",
        "x": 600,
        "y": 240,
        "wires": [
            [
                "8a6fbfea.46e12"
            ]
        ]
    },
    {
        "id": "d0a50d7b.fbee6",
        "type": "delay",
        "z": "73f998b9.8842a8",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1380,
        "y": 240,
        "wires": [
            [
                "b674ffb.99ca3"
            ]
        ]
    },
    {
        "id": "68ee95d1.8d744c",
        "type": "delay",
        "z": "73f998b9.8842a8",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1240,
        "y": 300,
        "wires": [
            [
                "94023e4c.b2b4d"
            ]
        ]
    },
    {
        "id": "e665fc05.8ac82",
        "type": "hubitat device",
        "z": "d06ad5d7.7d1a38",
        "g": "7a22a12f.dcfd3",
        "deviceLabel": "",
        "name": "KT - MS Pantry",
        "server": "b130c189.ea4d2",
        "deviceId": "1795",
        "attribute": "motion",
        "sendEvent": true,
        "x": 160,
        "y": 240,
        "wires": [
            [
                "61b718e4.b83798"
            ]
        ]
    },
    {
        "id": "f5de1a5c.bb3c88",
        "type": "hubitat device",
        "z": "d06ad5d7.7d1a38",
        "g": "7a22a12f.dcfd3",
        "deviceLabel": "",
        "name": "KT - MS Microwave",
        "server": "b130c189.ea4d2",
        "deviceId": "1794",
        "attribute": "motion",
        "sendEvent": true,
        "x": 150,
        "y": 300,
        "wires": [
            [
                "61b718e4.b83798"
            ]
        ]
    },
    {
        "id": "61b718e4.b83798",
        "type": "switch",
        "z": "d06ad5d7.7d1a38",
        "g": "7a22a12f.dcfd3",
        "name": "Motion",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "active",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "inactive",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 310,
        "y": 260,
        "wires": [
            [
                "da18749d.085f98"
            ],
            [
                "19897a05.077a76"
            ]
        ]
    },
    {
        "id": "da18749d.085f98",
        "type": "change",
        "z": "d06ad5d7.7d1a38",
        "g": "7a22a12f.dcfd3",
        "name": "active",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 240,
        "wires": [
            [
                "7015b08c.1a59c"
            ]
        ]
    },
    {
        "id": "19897a05.077a76",
        "type": "change",
        "z": "d06ad5d7.7d1a38",
        "g": "7a22a12f.dcfd3",
        "name": "inactive",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 280,
        "wires": [
            [
                "7015b08c.1a59c"
            ]
        ]
    },
    {
        "id": "7015b08c.1a59c",
        "type": "BooleanLogicUltimate",
        "z": "d06ad5d7.7d1a38",
        "g": "7a22a12f.dcfd3",
        "name": "",
        "filtertrue": "both",
        "persist": true,
        "sInitializeWith": "false",
        "triggertopic": "trigger",
        "outputtriggeredby": "all",
        "inputCount": "2",
        "topic": "Kitchen Motion",
        "x": 160,
        "y": 380,
        "wires": [
            [],
            [
                "f8ce7b3f.ff69a8"
            ],
            []
        ]
    },
    {
        "id": "6b7dc0d3.cd05c",
        "type": "stoptimer-varidelay",
        "z": "d06ad5d7.7d1a38",
        "g": "b3ea31b2.17afa",
        "duration": "1",
        "durationType": "num",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "reporting": "last_minute_seconds",
        "persist": true,
        "x": 980,
        "y": 360,
        "wires": [
            [
                "7293a6a3.1913e8"
            ],
            [],
            []
        ]
    },
    {
        "id": "7c4a0dd4.f78404",
        "type": "subflow:ac12c9d8.613d38",
        "z": "d06ad5d7.7d1a38",
        "g": "d79efd7b.7886b",
        "name": "",
        "env": [],
        "x": 720,
        "y": 140,
        "wires": [
            [
                "da0483c.0b8398"
            ],
            [],
            [
                "da0483c.0b8398"
            ],
            [],
            [
                "da0483c.0b8398"
            ],
            [],
            [
                "da0483c.0b8398"
            ],
            []
        ]
    },
    {
        "id": "73992bfd.8673e4",
        "type": "switch",
        "z": "d06ad5d7.7d1a38",
        "g": "7a22a12f.dcfd3",
        "name": "T/F",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 490,
        "y": 380,
        "wires": [
            [
                "88f4a100.58223",
                "946f40b0.810bf"
            ],
            [
                "e1948775.5b3508"
            ]
        ]
    },
    {
        "id": "e1948775.5b3508",
        "type": "subflow:ac12c9d8.613d38",
        "z": "d06ad5d7.7d1a38",
        "g": "b3ea31b2.17afa",
        "name": "",
        "env": [],
        "x": 720,
        "y": 440,
        "wires": [
            [],
            [
                "6b7dc0d3.cd05c"
            ],
            [],
            [
                "55aedb59.eb56e4"
            ],
            [],
            [
                "b132c448.4c40c8"
            ],
            [],
            [
                "109491e9.01648e"
            ]
        ]
    },
    {
        "id": "88f4a100.58223",
        "type": "change",
        "z": "d06ad5d7.7d1a38",
        "g": "b3ea31b2.17afa",
        "name": "Stop Motion Timer",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "STOP",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 730,
        "y": 340,
        "wires": [
            [
                "6b7dc0d3.cd05c",
                "55aedb59.eb56e4",
                "b132c448.4c40c8",
                "109491e9.01648e"
            ]
        ]
    },
    {
        "id": "55aedb59.eb56e4",
        "type": "stoptimer-varidelay",
        "z": "d06ad5d7.7d1a38",
        "g": "b3ea31b2.17afa",
        "duration": "2",
        "durationType": "num",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "reporting": "last_minute_seconds",
        "persist": true,
        "x": 980,
        "y": 420,
        "wires": [
            [
                "7293a6a3.1913e8"
            ],
            [],
            []
        ]
    },
    {
        "id": "b132c448.4c40c8",
        "type": "stoptimer-varidelay",
        "z": "d06ad5d7.7d1a38",
        "g": "b3ea31b2.17afa",
        "duration": "1",
        "durationType": "num",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "reporting": "last_minute_seconds",
        "persist": true,
        "x": 980,
        "y": 480,
        "wires": [
            [
                "7293a6a3.1913e8"
            ],
            [],
            []
        ]
    },
    {
        "id": "109491e9.01648e",
        "type": "stoptimer-varidelay",
        "z": "d06ad5d7.7d1a38",
        "g": "b3ea31b2.17afa",
        "duration": "1",
        "durationType": "num",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "reporting": "last_minute_seconds",
        "persist": true,
        "x": 980,
        "y": 540,
        "wires": [
            [
                "7293a6a3.1913e8"
            ],
            [],
            []
        ]
    },
    {
        "id": "bb819bb9.678df8",
        "type": "hubitat command",
        "z": "d06ad5d7.7d1a38",
        "g": "7b4c2b56.74bb34",
        "deviceLabel": "Kitchen - Overhead Lights",
        "name": "KT - Overhead Lights",
        "server": "b130c189.ea4d2",
        "deviceId": "68",
        "command": "off",
        "commandArgs": "",
        "x": 1280,
        "y": 680,
        "wires": [
            [
                "89490a2d.afc628",
                "7dfd7833.207ba8"
            ]
        ]
    },
    {
        "id": "661c4f62.8ac28",
        "type": "hubitat command",
        "z": "d06ad5d7.7d1a38",
        "g": "7b4c2b56.74bb34",
        "deviceLabel": "Kitchen - Overhead Lights",
        "name": "KT - Undercabinet LM",
        "server": "b130c189.ea4d2",
        "deviceId": "1090",
        "command": "off",
        "commandArgs": "",
        "x": 1280,
        "y": 720,
        "wires": [
            [
                "89490a2d.afc628",
                "7dfd7833.207ba8"
            ]
        ]
    },
    {
        "id": "992229ca.2f4a18",
        "type": "hubitat command",
        "z": "d06ad5d7.7d1a38",
        "g": "7b4c2b56.74bb34",
        "deviceLabel": "Kitchen - Overhead Lights",
        "name": "KT - Undercabinet LS",
        "server": "b130c189.ea4d2",
        "deviceId": "1092",
        "command": "off",
        "commandArgs": "",
        "x": 1280,
        "y": 760,
        "wires": [
            [
                "89490a2d.afc628",
                "7dfd7833.207ba8"
            ]
        ]
    },
    {
        "id": "a2573f76.c6d4",
        "type": "hubitat command",
        "z": "d06ad5d7.7d1a38",
        "g": "7b4c2b56.74bb34",
        "deviceLabel": "Kitchen - Overhead Lights",
        "name": "KT - Undercabinet LR",
        "server": "b130c189.ea4d2",
        "deviceId": "1093",
        "command": "off",
        "commandArgs": "",
        "x": 1280,
        "y": 800,
        "wires": [
            [
                "89490a2d.afc628",
                "7dfd7833.207ba8"
            ]
        ]
    },
    {
        "id": "5f6cf651.e5a838",
        "type": "switch",
        "z": "d06ad5d7.7d1a38",
        "name": "Specialty Lighting?",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1270,
        "y": 620,
        "wires": [
            [
                "f07ba3ca.98747",
                "73396064.ff8d"
            ],
            [
                "f07ba3ca.98747",
                "73396064.ff8d"
            ]
        ]
    },
    {
        "id": "7293a6a3.1913e8",
        "type": "hubitat device",
        "z": "d06ad5d7.7d1a38",
        "deviceLabel": "",
        "name": "KT - Christmas Mode",
        "server": "b130c189.ea4d2",
        "deviceId": "2303",
        "attribute": "switch",
        "sendEvent": false,
        "x": 1000,
        "y": 620,
        "wires": [
            [
                "5f6cf651.e5a838"
            ]
        ]
    },
    {
        "id": "3131172f.ca5b18",
        "type": "change",
        "z": "216ae92.d7b9116",
        "name": "KT Level",
        "rules": [
            {
                "t": "set",
                "p": "arguments",
                "pt": "msg",
                "to": "payload.kt.level",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 200,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "5b807c1.0346684",
        "type": "change",
        "z": "216ae92.d7b9116",
        "name": "KT Color",
        "rules": [
            {
                "t": "set",
                "p": "arguments",
                "pt": "msg",
                "to": "payload.kt.ct",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 200,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "da0483c.0b8398",
        "type": "subflow:216ae92.d7b9116",
        "z": "d06ad5d7.7d1a38",
        "g": "d79efd7b.7886b",
        "name": "",
        "env": [],
        "x": 960,
        "y": 100,
        "wires": [
            [
                "3b492c69.fad6d4",
                "bdb645fb.d597c8",
                "765865e1.d845dc",
                "76a99d7b.190774"
            ],
            [
                "57054319.8ca22c"
            ]
        ]
    },
    {
        "id": "3b492c69.fad6d4",
        "type": "hubitat command",
        "z": "d06ad5d7.7d1a38",
        "g": "bbd34e0c.99f3c",
        "deviceLabel": "Kitchen - Overhead Lights",
        "name": "KT - Undercabinet LR",
        "server": "b130c189.ea4d2",
        "deviceId": "1093",
        "command": "setLevel",
        "commandArgs": "",
        "x": 1280,
        "y": 220,
        "wires": [
            [
                "824209e0.28ad48"
            ]
        ]
    },
    {
        "id": "bdb645fb.d597c8",
        "type": "hubitat command",
        "z": "d06ad5d7.7d1a38",
        "g": "bbd34e0c.99f3c",
        "deviceLabel": "Kitchen - Overhead Lights",
        "name": "KT - Undercabinet LS",
        "server": "b130c189.ea4d2",
        "deviceId": "1092",
        "command": "setLevel",
        "commandArgs": "",
        "x": 1280,
        "y": 180,
        "wires": [
            [
                "824209e0.28ad48"
            ]
        ]
    },
    {
        "id": "765865e1.d845dc",
        "type": "hubitat command",
        "z": "d06ad5d7.7d1a38",
        "g": "bbd34e0c.99f3c",
        "deviceLabel": "Kitchen - Overhead Lights",
        "name": "KT - Undercabinet LM",
        "server": "b130c189.ea4d2",
        "deviceId": "1090",
        "command": "setLevel",
        "commandArgs": "",
        "x": 1280,
        "y": 140,
        "wires": [
            [
                "824209e0.28ad48"
            ]
        ]
    },
    {
        "id": "76a99d7b.190774",
        "type": "hubitat command",
        "z": "d06ad5d7.7d1a38",
        "g": "bbd34e0c.99f3c",
        "deviceLabel": "Kitchen - Overhead Lights",
        "name": "KT - Overhead Lights",
        "server": "b130c189.ea4d2",
        "deviceId": "68",
        "command": "setLevel",
        "commandArgs": "",
        "x": 1280,
        "y": 100,
        "wires": [
            [
                "824209e0.28ad48"
            ]
        ]
    },
    {
        "id": "1ce3011f.bfec4f",
        "type": "hubitat command",
        "z": "d06ad5d7.7d1a38",
        "g": "bbd34e0c.99f3c",
        "deviceLabel": "Kitchen - Overhead Lights",
        "name": "KT - Undercabinet LR",
        "server": "b130c189.ea4d2",
        "deviceId": "1093",
        "command": "setColorTemperature",
        "commandArgs": "",
        "x": 1280,
        "y": 360,
        "wires": [
            [
                "824209e0.28ad48"
            ]
        ]
    },
    {
        "id": "b5b9ce22.740c1",
        "type": "hubitat command",
        "z": "d06ad5d7.7d1a38",
        "g": "bbd34e0c.99f3c",
        "deviceLabel": "Kitchen - Overhead Lights",
        "name": "KT - Undercabinet LS",
        "server": "b130c189.ea4d2",
        "deviceId": "1092",
        "command": "setColorTemperature",
        "commandArgs": "",
        "x": 1280,
        "y": 320,
        "wires": [
            [
                "824209e0.28ad48"
            ]
        ]
    },
    {
        "id": "654e6235.7b1b6c",
        "type": "hubitat command",
        "z": "d06ad5d7.7d1a38",
        "g": "bbd34e0c.99f3c",
        "deviceLabel": "Kitchen - Overhead Lights",
        "name": "KT - Undercabinet LM",
        "server": "b130c189.ea4d2",
        "deviceId": "1090",
        "command": "setColorTemperature",
        "commandArgs": "",
        "x": 1280,
        "y": 280,
        "wires": [
            [
                "824209e0.28ad48"
            ]
        ]
    },
    {
        "id": "57054319.8ca22c",
        "type": "hubitat device",
        "z": "d06ad5d7.7d1a38",
        "g": "d79efd7b.7886b",
        "deviceLabel": "",
        "name": "KT - Christmas Mode",
        "server": "b130c189.ea4d2",
        "deviceId": "2303",
        "attribute": "switch",
        "sendEvent": false,
        "x": 960,
        "y": 160,
        "wires": [
            [
                "aec974ed.66ef68"
            ]
        ]
    },
    {
        "id": "aec974ed.66ef68",
        "type": "switch",
        "z": "d06ad5d7.7d1a38",
        "g": "d79efd7b.7886b",
        "name": "Specialty Lighting?",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 970,
        "y": 220,
        "wires": [
            [
                "1ce3011f.bfec4f",
                "b5b9ce22.740c1",
                "654e6235.7b1b6c",
                "f07ba3ca.98747"
            ],
            [
                "da0c9656.4c85a8"
            ]
        ]
    },
    {
        "id": "f07ba3ca.98747",
        "type": "change",
        "z": "d06ad5d7.7d1a38",
        "name": "Stop Motion Timer",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "stop",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 580,
        "wires": [
            [
                "3169f08b.3f8f9"
            ]
        ]
    },
    {
        "id": "6baf946f.b2803c",
        "type": "subflow:836b4374.e4af2",
        "z": "d06ad5d7.7d1a38",
        "d": true,
        "name": "",
        "env": [],
        "x": 1300,
        "y": 480,
        "wires": []
    },
    {
        "id": "c77415ae.0c0898",
        "type": "hubitat device",
        "z": "d06ad5d7.7d1a38",
        "g": "568533ed.18d81c",
        "deviceLabel": "",
        "name": "KT - Christmas Mode",
        "server": "b130c189.ea4d2",
        "deviceId": "2303",
        "attribute": "switch",
        "sendEvent": true,
        "x": 160,
        "y": 80,
        "wires": [
            [
                "e0fde455.a63148"
            ]
        ]
    },
    {
        "id": "73396064.ff8d",
        "type": "delay",
        "z": "d06ad5d7.7d1a38",
        "g": "7b4c2b56.74bb34",
        "name": "",
        "pauseType": "delay",
        "timeout": "250",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1030,
        "y": 680,
        "wires": [
            [
                "bb819bb9.678df8",
                "661c4f62.8ac28",
                "992229ca.2f4a18",
                "a2573f76.c6d4"
            ]
        ]
    },
    {
        "id": "824209e0.28ad48",
        "type": "function",
        "z": "d06ad5d7.7d1a38",
        "g": "bbd34e0c.99f3c",
        "name": "On Status",
        "func": "// initialise the counter to 0 if it doesn't exist already\nvar myKT_Light = flow.get('KT_Light',\"memoryOnly\")||0;\nmyKT_Light = true\n// store the value back\nflow.set('KT_Light',myKT_Light,\"memoryOnly\");",
        "outputs": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1500,
        "y": 240,
        "wires": []
    },
    {
        "id": "89490a2d.afc628",
        "type": "function",
        "z": "d06ad5d7.7d1a38",
        "g": "7b4c2b56.74bb34",
        "name": "Off Status",
        "func": "// initialise the counter to 0 if it doesn't exist already\nvar myKT_Light = flow.get('KT_Light',\"memoryOnly\")||0;\nmyKT_Light = false\n// store the value back\nflow.set('KT_Light',myKT_Light,\"memoryOnly\");",
        "outputs": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1500,
        "y": 700,
        "wires": []
    },
    {
        "id": "3169f08b.3f8f9",
        "type": "change",
        "z": "d06ad5d7.7d1a38",
        "name": "",
        "rules": [
            {
                "t": "delete",
                "p": "arguments",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1280,
        "y": 540,
        "wires": [
            [
                "6baf946f.b2803c",
                "c9f7daf5.c10e58"
            ]
        ]
    },
    {
        "id": "ab45d00b.e3243",
        "type": "hubitat command",
        "z": "836b4374.e4af2",
        "deviceLabel": "Kitchen - Undercabinet Light LM",
        "name": "KT - RedH LM",
        "server": "b130c189.ea4d2",
        "deviceId": "1090",
        "command": "setHue",
        "commandArgs": "100",
        "x": 200,
        "y": 160,
        "wires": [
            [
                "54ca3400.3e792c"
            ]
        ]
    },
    {
        "id": "f8c31b09.b1ec58",
        "type": "hubitat command",
        "z": "836b4374.e4af2",
        "deviceLabel": "Kitchen - Undercabinet Light LM",
        "name": "KT - GreenH LM",
        "server": "b130c189.ea4d2",
        "deviceId": "1090",
        "command": "setHue",
        "commandArgs": "33",
        "x": 760,
        "y": 160,
        "wires": [
            [
                "3e399e6b.8035e2"
            ]
        ]
    },
    {
        "id": "2c231d00.1fd8e4",
        "type": "hubitat command",
        "z": "836b4374.e4af2",
        "deviceLabel": "Kitchen - Undercabinet Light LM",
        "name": "KT - GreenH LS",
        "server": "b130c189.ea4d2",
        "deviceId": "1092",
        "command": "setHue",
        "commandArgs": "70",
        "x": 200,
        "y": 240,
        "wires": [
            [
                "386168dc.7e7698"
            ]
        ]
    },
    {
        "id": "ba4b84dd.9d8718",
        "type": "hubitat command",
        "z": "836b4374.e4af2",
        "deviceLabel": "Kitchen - Undercabinet Light LM",
        "name": "KT - RedH LS",
        "server": "b130c189.ea4d2",
        "deviceId": "1092",
        "command": "setHue",
        "commandArgs": "100",
        "x": 760,
        "y": 240,
        "wires": [
            [
                "4f0c61a8.3a6c"
            ]
        ]
    },
    {
        "id": "f3777aca.4bdc68",
        "type": "hubitat command",
        "z": "836b4374.e4af2",
        "deviceLabel": "Kitchen - Undercabinet Light LM",
        "name": "KT - RedH LR",
        "server": "b130c189.ea4d2",
        "deviceId": "1093",
        "command": "setHue",
        "commandArgs": "100",
        "x": 200,
        "y": 320,
        "wires": [
            [
                "3c8e19ff.4a05c6"
            ]
        ]
    },
    {
        "id": "555bd839.78a938",
        "type": "hubitat command",
        "z": "836b4374.e4af2",
        "deviceLabel": "Kitchen - Undercabinet Light LM",
        "name": "KT - GreenH LR",
        "server": "b130c189.ea4d2",
        "deviceId": "1093",
        "command": "setHue",
        "commandArgs": "33",
        "x": 760,
        "y": 320,
        "wires": [
            [
                "a997a1a4.adac4"
            ]
        ]
    },
    {
        "id": "59439dff.859474",
        "type": "switch",
        "z": "836b4374.e4af2",
        "name": "STOP",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "stop",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 150,
        "y": 60,
        "wires": [
            [
                "87cd9a5a.873738",
                "722f9bca.dbc9a4",
                "dbbb9989.d3edb8",
                "6c0e6956.f086e8",
                "aa4072d9.9fc7f",
                "6d60329e.961f2c"
            ],
            [
                "ab45d00b.e3243",
                "2c231d00.1fd8e4",
                "f3777aca.4bdc68"
            ]
        ]
    },
    {
        "id": "2cf6acef.7ff3b4",
        "type": "hubitat device",
        "z": "d06ad5d7.7d1a38",
        "g": "da906c01.3168e",
        "deviceLabel": "",
        "name": "KT - Motion Detection",
        "server": "b130c189.ea4d2",
        "deviceId": "1351",
        "attribute": "switch",
        "sendEvent": true,
        "x": 360,
        "y": 540,
        "wires": [
            [
                "e168c7e9.7c0a58"
            ]
        ]
    },
    {
        "id": "e168c7e9.7c0a58",
        "type": "switch",
        "z": "d06ad5d7.7d1a38",
        "g": "da906c01.3168e",
        "name": "State",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 530,
        "y": 540,
        "wires": [
            [
                "ef0455d7.c394b8",
                "7c3fac3c.7c1184"
            ],
            [
                "ba96a7be.88a808"
            ]
        ]
    },
    {
        "id": "ef0455d7.c394b8",
        "type": "function",
        "z": "d06ad5d7.7d1a38",
        "g": "da906c01.3168e",
        "name": "Disabled Status",
        "func": "// initialise the counter to 0 if it doesn't exist already\nvar myKT_Motion = flow.get('KT_Motion',\"memoryOnly\")||0;\nmyKT_Motion = false\n// store the value back\nflow.set('KT_Motion',myKT_Motion,\"memoryOnly\");\nreturn msg",
        "outputs": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 380,
        "y": 480,
        "wires": []
    },
    {
        "id": "7c3fac3c.7c1184",
        "type": "change",
        "z": "d06ad5d7.7d1a38",
        "g": "b3ea31b2.17afa",
        "name": "Stop Motion Timer",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "stop",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 730,
        "y": 540,
        "wires": [
            [
                "6b7dc0d3.cd05c",
                "55aedb59.eb56e4",
                "b132c448.4c40c8",
                "109491e9.01648e"
            ]
        ]
    },
    {
        "id": "ba96a7be.88a808",
        "type": "function",
        "z": "d06ad5d7.7d1a38",
        "g": "da906c01.3168e",
        "name": "Enabled Status",
        "func": "// initialise the counter to 0 if it doesn't exist already\nvar myKT_Motion = flow.get('KT_Motion',\"memoryOnly\")||0;\nmyKT_Motion = true\n// store the value back\nflow.set('KT_Motion',myKT_Motion,\"memoryOnly\");\nreturn msg",
        "outputs": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 380,
        "y": 600,
        "wires": []
    },
    {
        "id": "bf9bfc4d.29cbc",
        "type": "hubitat device",
        "z": "d06ad5d7.7d1a38",
        "g": "313d11f.0a7dfee",
        "deviceLabel": "",
        "name": "KT - Overhead Lights",
        "server": "b130c189.ea4d2",
        "deviceId": "68",
        "attribute": "switch",
        "sendEvent": true,
        "x": 160,
        "y": 160,
        "wires": [
            [
                "346e72ef.2a49be"
            ]
        ]
    },
    {
        "id": "da0c9656.4c85a8",
        "type": "switch",
        "z": "d06ad5d7.7d1a38",
        "g": "d79efd7b.7886b",
        "name": "override?",
        "property": "KT_Override",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1000,
        "y": 260,
        "wires": [
            [
                "6baf946f.b2803c",
                "e23f207d.05956"
            ]
        ]
    },
    {
        "id": "346e72ef.2a49be",
        "type": "switch",
        "z": "d06ad5d7.7d1a38",
        "g": "313d11f.0a7dfee",
        "name": "State",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 490,
        "y": 160,
        "wires": [
            [
                "7c4a0dd4.f78404"
            ],
            [
                "7293a6a3.1913e8"
            ]
        ]
    },
    {
        "id": "f8ce7b3f.ff69a8",
        "type": "switch",
        "z": "d06ad5d7.7d1a38",
        "g": "7a22a12f.dcfd3",
        "name": "disabled?",
        "property": "KT_Motion",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 360,
        "y": 380,
        "wires": [
            [
                "73992bfd.8673e4"
            ]
        ]
    },
    {
        "id": "e0fde455.a63148",
        "type": "switch",
        "z": "d06ad5d7.7d1a38",
        "g": "568533ed.18d81c",
        "name": "light",
        "property": "KT_Light",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 330,
        "y": 80,
        "wires": [
            [
                "10f207f.699f0f8"
            ]
        ]
    },
    {
        "id": "10f207f.699f0f8",
        "type": "function",
        "z": "d06ad5d7.7d1a38",
        "g": "568533ed.18d81c",
        "name": "Override On",
        "func": "// initialise the counter to 0 if it doesn't exist already\nvar myKT_Override = flow.get('KT_Override',\"memoryOnly\")||0;\nmyKT_Override = true\n// store the value back\nflow.set('KT_Override',myKT_Override,\"memoryOnly\");\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 470,
        "y": 80,
        "wires": [
            [
                "7c4a0dd4.f78404"
            ]
        ]
    },
    {
        "id": "30c4f419.ef0bbc",
        "type": "function",
        "z": "d06ad5d7.7d1a38",
        "name": "Override Off",
        "func": "// initialise the counter to 0 if it doesn't exist already\nvar myKT_Override = flow.get('KT_Override',\"memoryOnly\")||0;\nmyKT_Override = false\n// store the value back\nflow.set('KT_Override',myKT_Override,\"memoryOnly\");",
        "outputs": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1510,
        "y": 420,
        "wires": []
    },
    {
        "id": "e23f207d.05956",
        "type": "change",
        "z": "d06ad5d7.7d1a38",
        "name": "",
        "rules": [
            {
                "t": "delete",
                "p": "arguments",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1280,
        "y": 420,
        "wires": [
            [
                "6baf946f.b2803c",
                "824209e0.28ad48",
                "30c4f419.ef0bbc",
                "c9f7daf5.c10e58"
            ]
        ]
    },
    {
        "id": "2bf29b86.33b394",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "6a56d8cc.28eeb8",
        "deviceLabel": "",
        "name": "MB - Thermostat",
        "server": "b130c189.ea4d2",
        "deviceId": "2060",
        "command": "off",
        "commandArgs": "",
        "x": 610,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "4011fa87.a3ff34",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "6a56d8cc.28eeb8",
        "deviceLabel": "",
        "name": "GR - Thermostat",
        "server": "b130c189.ea4d2",
        "deviceId": "2059",
        "command": "off",
        "commandArgs": "",
        "x": 610,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "2f5eb111.62008e",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "6a56d8cc.28eeb8",
        "deviceLabel": "",
        "name": "MB - Thermostat",
        "server": "b130c189.ea4d2",
        "deviceId": "2060",
        "command": "heat",
        "commandArgs": "",
        "x": 610,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "175246ab.d98c29",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "6a56d8cc.28eeb8",
        "deviceLabel": "",
        "name": "GR - Thermostat",
        "server": "b130c189.ea4d2",
        "deviceId": "2059",
        "command": "heat",
        "commandArgs": "",
        "x": 610,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "eea4bbeb.999658",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "6a56d8cc.28eeb8",
        "deviceLabel": "",
        "name": "MB - Thermostat",
        "server": "b130c189.ea4d2",
        "deviceId": "2060",
        "command": "off",
        "commandArgs": "",
        "x": 610,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "9fd1e83a.485598",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "6a56d8cc.28eeb8",
        "deviceLabel": "",
        "name": "MB - Thermostat",
        "server": "b130c189.ea4d2",
        "deviceId": "2060",
        "command": "cool",
        "commandArgs": "",
        "x": 610,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "54ca3400.3e792c",
        "type": "hubitat command",
        "z": "836b4374.e4af2",
        "deviceLabel": "Kitchen - Undercabinet Light LM",
        "name": "KT - RedS LM",
        "server": "b130c189.ea4d2",
        "deviceId": "1090",
        "command": "setSaturation",
        "commandArgs": "100",
        "x": 380,
        "y": 160,
        "wires": [
            [
                "87cd9a5a.873738"
            ]
        ]
    },
    {
        "id": "386168dc.7e7698",
        "type": "hubitat command",
        "z": "836b4374.e4af2",
        "deviceLabel": "Kitchen - Undercabinet Light LM",
        "name": "KT - GreenS LS",
        "server": "b130c189.ea4d2",
        "deviceId": "1092",
        "command": "setSaturation",
        "commandArgs": "100",
        "x": 380,
        "y": 240,
        "wires": [
            [
                "722f9bca.dbc9a4"
            ]
        ]
    },
    {
        "id": "3c8e19ff.4a05c6",
        "type": "hubitat command",
        "z": "836b4374.e4af2",
        "deviceLabel": "Kitchen - Undercabinet Light LM",
        "name": "KT - RedS LR",
        "server": "b130c189.ea4d2",
        "deviceId": "1093",
        "command": "setSaturation",
        "commandArgs": "100",
        "x": 380,
        "y": 320,
        "wires": [
            [
                "dbbb9989.d3edb8"
            ]
        ]
    },
    {
        "id": "a997a1a4.adac4",
        "type": "hubitat command",
        "z": "836b4374.e4af2",
        "deviceLabel": "Kitchen - Undercabinet Light LM",
        "name": "KT - GreenS LR",
        "server": "b130c189.ea4d2",
        "deviceId": "1093",
        "command": "setSaturation",
        "commandArgs": "100",
        "x": 940,
        "y": 320,
        "wires": [
            [
                "6d60329e.961f2c"
            ]
        ]
    },
    {
        "id": "3e399e6b.8035e2",
        "type": "hubitat command",
        "z": "836b4374.e4af2",
        "deviceLabel": "Kitchen - Undercabinet Light LM",
        "name": "KT - GreenS LM",
        "server": "b130c189.ea4d2",
        "deviceId": "1090",
        "command": "setSaturation",
        "commandArgs": "100",
        "x": 940,
        "y": 160,
        "wires": [
            [
                "6c0e6956.f086e8"
            ]
        ]
    },
    {
        "id": "4f0c61a8.3a6c",
        "type": "hubitat command",
        "z": "836b4374.e4af2",
        "deviceLabel": "Kitchen - Undercabinet Light LM",
        "name": "KT - RedS LM",
        "server": "b130c189.ea4d2",
        "deviceId": "1092",
        "command": "setSaturation",
        "commandArgs": "100",
        "x": 940,
        "y": 240,
        "wires": [
            [
                "aa4072d9.9fc7f"
            ]
        ]
    },
    {
        "id": "87cd9a5a.873738",
        "type": "stoptimer-varidelay",
        "z": "836b4374.e4af2",
        "duration": "15",
        "durationType": "num",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "reporting": "none",
        "persist": true,
        "x": 570,
        "y": 180,
        "wires": [
            [
                "f8c31b09.b1ec58"
            ],
            [],
            []
        ]
    },
    {
        "id": "722f9bca.dbc9a4",
        "type": "stoptimer-varidelay",
        "z": "836b4374.e4af2",
        "duration": "15",
        "durationType": "num",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "reporting": "none",
        "persist": true,
        "x": 570,
        "y": 260,
        "wires": [
            [
                "ba4b84dd.9d8718"
            ],
            [],
            []
        ]
    },
    {
        "id": "dbbb9989.d3edb8",
        "type": "stoptimer-varidelay",
        "z": "836b4374.e4af2",
        "duration": "15",
        "durationType": "num",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "reporting": "last_minute_seconds",
        "persist": true,
        "x": 570,
        "y": 340,
        "wires": [
            [
                "555bd839.78a938"
            ],
            [],
            []
        ]
    },
    {
        "id": "6d60329e.961f2c",
        "type": "stoptimer-varidelay",
        "z": "836b4374.e4af2",
        "duration": "15",
        "durationType": "num",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "reporting": "last_minute_seconds",
        "persist": true,
        "x": 1130,
        "y": 300,
        "wires": [
            [
                "f3777aca.4bdc68"
            ],
            [],
            []
        ]
    },
    {
        "id": "aa4072d9.9fc7f",
        "type": "stoptimer-varidelay",
        "z": "836b4374.e4af2",
        "duration": "15",
        "durationType": "num",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "reporting": "none",
        "persist": true,
        "x": 1130,
        "y": 220,
        "wires": [
            [
                "2c231d00.1fd8e4"
            ],
            [],
            []
        ]
    },
    {
        "id": "6c0e6956.f086e8",
        "type": "stoptimer-varidelay",
        "z": "836b4374.e4af2",
        "duration": "15",
        "durationType": "num",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "reporting": "none",
        "persist": true,
        "x": 1130,
        "y": 140,
        "wires": [
            [
                "ab45d00b.e3243"
            ],
            [],
            []
        ]
    },
    {
        "id": "38cdc5a2.b7bf5a",
        "type": "hubitat command",
        "z": "d06ad5d7.7d1a38",
        "g": "911821c6.02bdd",
        "deviceLabel": "Kitchen - Undercabinet Light LM",
        "name": "KT - RedH LM",
        "server": "b130c189.ea4d2",
        "deviceId": "1090",
        "command": "setHue",
        "commandArgs": "98",
        "x": 1880,
        "y": 560,
        "wires": [
            [
                "b6bec706.3933c8"
            ]
        ]
    },
    {
        "id": "185b0eb0.8c87e1",
        "type": "hubitat command",
        "z": "d06ad5d7.7d1a38",
        "g": "911821c6.02bdd",
        "deviceLabel": "Kitchen - Undercabinet Light LM",
        "name": "KT - GreenH LM",
        "server": "b130c189.ea4d2",
        "deviceId": "1090",
        "command": "setHue",
        "commandArgs": "31",
        "x": 2200,
        "y": 560,
        "wires": [
            [
                "fe04002.96a03"
            ]
        ]
    },
    {
        "id": "faba5db4.5e538",
        "type": "hubitat command",
        "z": "d06ad5d7.7d1a38",
        "g": "911821c6.02bdd",
        "deviceLabel": "Kitchen - Undercabinet Light LM",
        "name": "KT - GreenH LS",
        "server": "b130c189.ea4d2",
        "deviceId": "1092",
        "command": "setHue",
        "commandArgs": "31",
        "x": 1880,
        "y": 640,
        "wires": [
            [
                "f96a84.add1058"
            ]
        ]
    },
    {
        "id": "6f58cb1c.0479c4",
        "type": "hubitat command",
        "z": "d06ad5d7.7d1a38",
        "g": "911821c6.02bdd",
        "deviceLabel": "Kitchen - Undercabinet Light LM",
        "name": "KT - RedH LS",
        "server": "b130c189.ea4d2",
        "deviceId": "1092",
        "command": "setHue",
        "commandArgs": "98",
        "x": 2200,
        "y": 640,
        "wires": [
            [
                "504ce0b.58c1a2"
            ]
        ]
    },
    {
        "id": "6826bbfc.20a8b4",
        "type": "hubitat command",
        "z": "d06ad5d7.7d1a38",
        "g": "911821c6.02bdd",
        "deviceLabel": "Kitchen - Undercabinet Light LM",
        "name": "KT - RedH LR",
        "server": "b130c189.ea4d2",
        "deviceId": "1093",
        "command": "setHue",
        "commandArgs": "98",
        "x": 1880,
        "y": 720,
        "wires": [
            [
                "fca6d23.ec8263"
            ]
        ]
    },
    {
        "id": "db14bbb8.fa7d38",
        "type": "hubitat command",
        "z": "d06ad5d7.7d1a38",
        "g": "911821c6.02bdd",
        "deviceLabel": "Kitchen - Undercabinet Light LM",
        "name": "KT - GreenH LR",
        "server": "b130c189.ea4d2",
        "deviceId": "1093",
        "command": "setHue",
        "commandArgs": "31",
        "x": 2200,
        "y": 720,
        "wires": [
            [
                "cb702f83.5dd9c"
            ]
        ]
    },
    {
        "id": "c9f7daf5.c10e58",
        "type": "switch",
        "z": "d06ad5d7.7d1a38",
        "g": "911821c6.02bdd",
        "name": "STOP",
        "property": "reset",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "stop",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1690,
        "y": 480,
        "wires": [
            [
                "b6bec706.3933c8",
                "f96a84.add1058",
                "fca6d23.ec8263",
                "fe04002.96a03",
                "504ce0b.58c1a2",
                "cb702f83.5dd9c"
            ],
            [
                "38cdc5a2.b7bf5a",
                "faba5db4.5e538",
                "6826bbfc.20a8b4"
            ]
        ]
    },
    {
        "id": "b6bec706.3933c8",
        "type": "delay",
        "z": "d06ad5d7.7d1a38",
        "g": "911821c6.02bdd",
        "name": "",
        "pauseType": "delay",
        "timeout": "15",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 2040,
        "y": 540,
        "wires": [
            [
                "185b0eb0.8c87e1"
            ]
        ]
    },
    {
        "id": "f96a84.add1058",
        "type": "delay",
        "z": "d06ad5d7.7d1a38",
        "g": "911821c6.02bdd",
        "name": "",
        "pauseType": "delay",
        "timeout": "15",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 2040,
        "y": 620,
        "wires": [
            [
                "6f58cb1c.0479c4"
            ]
        ]
    },
    {
        "id": "fca6d23.ec8263",
        "type": "delay",
        "z": "d06ad5d7.7d1a38",
        "g": "911821c6.02bdd",
        "name": "",
        "pauseType": "delay",
        "timeout": "15",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 2040,
        "y": 700,
        "wires": [
            [
                "db14bbb8.fa7d38"
            ]
        ]
    },
    {
        "id": "fe04002.96a03",
        "type": "delay",
        "z": "d06ad5d7.7d1a38",
        "g": "911821c6.02bdd",
        "name": "",
        "pauseType": "delay",
        "timeout": "15",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 2380,
        "y": 560,
        "wires": [
            [
                "38cdc5a2.b7bf5a"
            ]
        ]
    },
    {
        "id": "504ce0b.58c1a2",
        "type": "delay",
        "z": "d06ad5d7.7d1a38",
        "g": "911821c6.02bdd",
        "name": "",
        "pauseType": "delay",
        "timeout": "15",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 2380,
        "y": 640,
        "wires": [
            [
                "faba5db4.5e538"
            ]
        ]
    },
    {
        "id": "cb702f83.5dd9c",
        "type": "delay",
        "z": "d06ad5d7.7d1a38",
        "g": "911821c6.02bdd",
        "name": "",
        "pauseType": "delay",
        "timeout": "15",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 2380,
        "y": 720,
        "wires": [
            [
                "6826bbfc.20a8b4"
            ]
        ]
    },
    {
        "id": "7dfd7833.207ba8",
        "type": "function",
        "z": "d06ad5d7.7d1a38",
        "g": "7b4c2b56.74bb34",
        "name": "Override On",
        "func": "// initialise the counter to 0 if it doesn't exist already\nvar myKT_Override = flow.get('KT_Override',\"memoryOnly\")||0;\nmyKT_Override = true\n// store the value back\nflow.set('KT_Override',myKT_Override,\"memoryOnly\");\nreturn msg",
        "outputs": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1510,
        "y": 780,
        "wires": []
    },
    {
        "id": "946f40b0.810bf",
        "type": "switch",
        "z": "d06ad5d7.7d1a38",
        "g": "d79efd7b.7886b",
        "name": "light",
        "property": "KT_Light",
        "propertyType": "flow",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 690,
        "y": 260,
        "wires": [
            [
                "7c4a0dd4.f78404"
            ]
        ]
    },
    {
        "id": "65a692c2.29e92c",
        "type": "function",
        "z": "d06ad5d7.7d1a38",
        "g": "da906c01.3168e",
        "name": "Initialize Variables",
        "func": "// initialise the counter to 0 if it doesn't exist already\nvar myKT_Override = flow.get('KT_Override',\"memoryOnly\")||0;\nmyKT_Override = true\n// store the value back\nflow.set('KT_Override',myKT_Override,\"memoryOnly\");\n\n// initialise the counter to 0 if it doesn't exist already\nvar myKT_Light = flow.get('KT_Light',\"memoryOnly\")||0;\nmyKT_Light = false\n// store the value back\nflow.set('KT_Light',myKT_Light,\"memoryOnly\");\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 150,
        "y": 540,
        "wires": [
            [
                "2cf6acef.7ff3b4"
            ]
        ]
    },
    {
        "id": "fcb2b3d7.ea53",
        "type": "link in",
        "z": "d06ad5d7.7d1a38",
        "g": "da906c01.3168e",
        "name": "HE Start",
        "links": [
            "d4bae9fc.dde7c8"
        ],
        "x": 160,
        "y": 500,
        "wires": [
            [
                "65a692c2.29e92c"
            ]
        ],
        "l": true
    },
    {
        "id": "ed3dacdc.e614d",
        "type": "hubitat location",
        "z": "4702b097.59f3b",
        "name": "location",
        "server": "b130c189.ea4d2",
        "x": 450,
        "y": 240,
        "wires": [
            [
                "ab00a87d.5575b8"
            ]
        ]
    },
    {
        "id": "ab00a87d.5575b8",
        "type": "switch",
        "z": "4702b097.59f3b",
        "name": "sysStart",
        "property": "payload.name",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "systemStart",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 240,
        "wires": [
            [
                "d4bae9fc.dde7c8"
            ]
        ]
    },
    {
        "id": "d4bae9fc.dde7c8",
        "type": "link out",
        "z": "4702b097.59f3b",
        "name": "Hubitat Start",
        "links": [
            "a1e0216.9d6ffe",
            "fcb2b3d7.ea53",
            "4c2797e8.326be8"
        ],
        "x": 730,
        "y": 240,
        "wires": [],
        "l": true
    },
    {
        "id": "a1e0216.9d6ffe",
        "type": "link in",
        "z": "345f283.d5796d8",
        "name": "HE Start",
        "links": [
            "d4bae9fc.dde7c8"
        ],
        "x": 180,
        "y": 60,
        "wires": [
            [
                "cbb3b899.a254a8"
            ]
        ],
        "l": true
    },
    {
        "id": "93c240cb.375db",
        "type": "link in",
        "z": "7e547b10.f1db64",
        "name": "Voice Trigger",
        "links": [
            "da6ac8d6.218fe8"
        ],
        "x": 190,
        "y": 80,
        "wires": [
            [
                "3269284b.9fbe58"
            ]
        ],
        "l": true
    },
    {
        "id": "da68c36b.0f2d9",
        "type": "inject",
        "z": "4702b097.59f3b",
        "name": "NR Start",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 560,
        "y": 300,
        "wires": [
            [
                "72d1fff3.4f9c7"
            ]
        ]
    },
    {
        "id": "72d1fff3.4f9c7",
        "type": "link out",
        "z": "4702b097.59f3b",
        "name": "Node-RED Start",
        "links": [
            "12822318.46878d"
        ],
        "x": 720,
        "y": 300,
        "wires": [],
        "l": true
    },
    {
        "id": "12822318.46878d",
        "type": "link in",
        "z": "d06ad5d7.7d1a38",
        "g": "da906c01.3168e",
        "name": "NR Start",
        "links": [
            "72d1fff3.4f9c7"
        ],
        "x": 160,
        "y": 580,
        "wires": [
            [
                "65a692c2.29e92c"
            ]
        ],
        "l": true
    },
    {
        "id": "1f5aedb2.e46902",
        "type": "function",
        "z": "f3e4e663.9ecbb8",
        "name": "Set Full File Path",
        "func": "msg.filename = msg.filePath+msg.backupDate+msg.fileSuffix;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 750,
        "y": 120,
        "wires": [
            [
                "aa46a62f.dadf58"
            ]
        ]
    },
    {
        "id": "b5ff0f1.7d0cef",
        "type": "http request",
        "z": "7fd4877d.2ab0a8",
        "name": "Get Cookie",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://192.168.2.240/login",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "8889d059.eecc2"
            ]
        ]
    },
    {
        "id": "df1841e2.1378d",
        "type": "change",
        "z": "f3e4e663.9ecbb8",
        "name": "Set File Path Parts",
        "rules": [
            {
                "t": "set",
                "p": "filePath",
                "pt": "msg",
                "to": "/mnt/dietpi_userdata/node-red/he_backups/",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "backupDate",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "fileSuffix",
                "pt": "msg",
                "to": " - HE_Backup.lzf",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 550,
        "y": 120,
        "wires": [
            [
                "1f5aedb2.e46902"
            ]
        ]
    },
    {
        "id": "87e7f2f8.fa594",
        "type": "file",
        "z": "f3e4e663.9ecbb8",
        "name": "Save Backup",
        "filename": "",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 370,
        "y": 180,
        "wires": [
            [
                "c3df676c.336198"
            ]
        ]
    },
    {
        "id": "368218dd.c48d18",
        "type": "moment",
        "z": "f3e4e663.9ecbb8",
        "name": "",
        "topic": "",
        "input": "",
        "inputType": "msg",
        "inTz": "America/Los_Angeles",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "YYYY-MM-DD",
        "locale": "en_US",
        "output": "",
        "outputType": "msg",
        "outTz": "America/Los_Angeles",
        "x": 340,
        "y": 120,
        "wires": [
            [
                "df1841e2.1378d"
            ]
        ]
    },
    {
        "id": "92b03048.18558",
        "type": "inject",
        "z": "f3e4e663.9ecbb8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 160,
        "y": 120,
        "wires": [
            [
                "368218dd.c48d18"
            ]
        ]
    },
    {
        "id": "8889d059.eecc2",
        "type": "function",
        "z": "7fd4877d.2ab0a8",
        "name": "Set Request Headers",
        "func": "var cookies = msg.responseCookies;\nmsg.headers = {\nCookie : \"HUBSESSION=\" + cookies.HUBSESSION.value,\n'content-type':'application/x-www-form-urlencoded'};\n\n//Hubitat login username and password for form data\nvar data = 'username='+msg.username+'&password='+msg.password+'&submit=Login';\nmsg.payload = data;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 580,
        "y": 80,
        "wires": [
            [
                "afa2f260.945c6"
            ]
        ]
    },
    {
        "id": "b48176a3.71a648",
        "type": "function",
        "z": "7fd4877d.2ab0a8",
        "name": "Set Cookies",
        "func": "var cookies = msg.responseCookies;\n//Set session cookies for the request header\nmsg.headers = {\nCookie : \"HUBSESSION=\" + cookies.HUBSESSION.value};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 890,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "afa2f260.945c6",
        "type": "http request",
        "z": "7fd4877d.2ab0a8",
        "name": "Login",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://192.168.2.240/login",
        "tls": "",
        "persist": true,
        "proxy": "",
        "authType": "",
        "x": 750,
        "y": 80,
        "wires": [
            [
                "b48176a3.71a648"
            ]
        ]
    },
    {
        "id": "4d90908c.98924",
        "type": "http request",
        "z": "f3e4e663.9ecbb8",
        "name": "Download Backup",
        "method": "GET",
        "ret": "bin",
        "paytoqs": "ignore",
        "url": "http://192.168.2.240/hub/backupDB?fileName=latest",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 190,
        "y": 180,
        "wires": [
            [
                "87e7f2f8.fa594"
            ]
        ]
    },
    {
        "id": "ebbab56c.e84458",
        "type": "change",
        "z": "7fd4877d.2ab0a8",
        "name": "Set Username/Password",
        "rules": [
            {
                "t": "set",
                "p": "username",
                "pt": "msg",
                "to": "Admin",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "password",
                "pt": "msg",
                "to": "Sx%5^8ZrqW4lr$REQkeD",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 190,
        "y": 80,
        "wires": [
            [
                "b5ff0f1.7d0cef"
            ]
        ]
    },
    {
        "id": "aa46a62f.dadf58",
        "type": "subflow:7fd4877d.2ab0a8",
        "z": "f3e4e663.9ecbb8",
        "name": "",
        "env": [],
        "x": 940,
        "y": 120,
        "wires": [
            [
                "4d90908c.98924"
            ]
        ]
    },
    {
        "id": "c3df676c.336198",
        "type": "exec",
        "z": "f3e4e663.9ecbb8",
        "command": "rclone copy /mnt/dietpi_userdata/node-red/he_backups BH_3B_Backup:HE_backups",
        "addpay": false,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "Upload to GDrive",
        "x": 650,
        "y": 220,
        "wires": [
            [
                "12b68123.0581bf"
            ],
            [
                "12b68123.0581bf"
            ],
            [
                "12b68123.0581bf"
            ]
        ]
    },
    {
        "id": "12b68123.0581bf",
        "type": "debug",
        "z": "f3e4e663.9ecbb8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 890,
        "y": 200,
        "wires": []
    },
    {
        "id": "e2ea9466.09a468",
        "type": "alexa-remote-init",
        "z": "4702b097.59f3b",
        "name": "",
        "account": "4553eef5.ffc05",
        "option": "initialise",
        "x": 280,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "d20d6541.617e58",
        "type": "inject",
        "z": "4702b097.59f3b",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 60,
        "wires": [
            [
                "e2ea9466.09a468"
            ]
        ]
    },
    {
        "id": "91cd1f42.c41f2",
        "type": "catch",
        "z": "4702b097.59f3b",
        "name": "catch: Alexa",
        "scope": [
            "cec6d88e.0d5658",
            "e2ea9466.09a468"
        ],
        "uncaught": false,
        "x": 130,
        "y": 100,
        "wires": [
            [
                "e2ea9466.09a468",
                "501f7a28.6e2444",
                "52b4db27.7b0894"
            ]
        ]
    },
    {
        "id": "501f7a28.6e2444",
        "type": "function",
        "z": "4702b097.59f3b",
        "name": "Error Count",
        "func": "// initialise the counter to 0 if it doesn't exist already\nvar myRemote2_error = global.get('BH_remote2_error',\"file\")||0;\nmyRemote2_error = myRemote2_error + 1\n// store the value back\nglobal.set('BH_remote2_error',myRemote2_error,\"file\");\n// make it part of the outgoing msg object\nmsg.payload.errorCount = myRemote2_error;\nreturn msg;",
        "outputs": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 350,
        "y": 100,
        "wires": []
    },
    {
        "id": "52b4db27.7b0894",
        "type": "debug",
        "z": "4702b097.59f3b",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 270,
        "y": 140,
        "wires": []
    },
    {
        "id": "43f1bb07.4c8404",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "641dcc83.ea3e04",
        "deviceLabel": "",
        "name": "DB - Lights",
        "server": "b130c189.ea4d2",
        "deviceId": "1574",
        "command": "off",
        "commandArgs": "",
        "x": 2990,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "934512e6.71049",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "c9e65dc5.3adf2",
        "name": "GR - Lights",
        "server": "b130c189.ea4d2",
        "deviceId": "1572",
        "command": "on",
        "commandArgs": "",
        "x": 2230,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "5545589a.449e08",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "c9e65dc5.3adf2",
        "name": "DB - Lights",
        "server": "b130c189.ea4d2",
        "deviceId": "1574",
        "command": "on",
        "commandArgs": "",
        "x": 2230,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "10274dad.3ea232",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "c9e65dc5.3adf2",
        "deviceLabel": "",
        "name": "KT - Lights",
        "server": "b130c189.ea4d2",
        "deviceId": "1573",
        "command": "on",
        "commandArgs": "",
        "x": 2230,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "4beb3347.e3821c",
        "type": "hubitat command",
        "z": "68ba5945.906288",
        "g": "c9e65dc5.3adf2",
        "name": "MB - Lights",
        "server": "b130c189.ea4d2",
        "deviceId": "1575",
        "command": "on",
        "commandArgs": "",
        "x": 2230,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "84eb190d.873ac8",
        "type": "hubitat device",
        "z": "16de2fad.7629a",
        "deviceLabel": "",
        "name": "KT - MS Pantry",
        "server": "b130c189.ea4d2",
        "deviceId": "1795",
        "attribute": "motion",
        "sendEvent": false,
        "x": 200,
        "y": 60,
        "wires": [
            [
                "eaf029a.0a9fcd8"
            ]
        ]
    },
    {
        "id": "c6c89dde.19eb6",
        "type": "hubitat device",
        "z": "16de2fad.7629a",
        "deviceLabel": "",
        "name": "KT - MS Microwave",
        "server": "b130c189.ea4d2",
        "deviceId": "1794",
        "attribute": "motion",
        "sendEvent": false,
        "x": 190,
        "y": 100,
        "wires": [
            [
                "eaf029a.0a9fcd8"
            ]
        ]
    },
    {
        "id": "eaf029a.0a9fcd8",
        "type": "switch",
        "z": "16de2fad.7629a",
        "name": "Motion",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "active",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "inactive",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 350,
        "y": 80,
        "wires": [
            [
                "7a203b65.155fe4"
            ],
            [
                "3fb08a97.3f61d6"
            ]
        ]
    },
    {
        "id": "7a203b65.155fe4",
        "type": "change",
        "z": "16de2fad.7629a",
        "name": "active",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 60,
        "wires": [
            [
                "4d988610.c291b8"
            ]
        ]
    },
    {
        "id": "3fb08a97.3f61d6",
        "type": "change",
        "z": "16de2fad.7629a",
        "name": "inactive",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 100,
        "wires": [
            [
                "4d988610.c291b8"
            ]
        ]
    },
    {
        "id": "7f4a5185.45e82",
        "type": "hubitat device",
        "z": "64781044.3bdae",
        "deviceLabel": "",
        "name": "MB - MS Bath",
        "server": "b130c189.ea4d2",
        "deviceId": "1418",
        "attribute": "motion",
        "sendEvent": false,
        "x": 200,
        "y": 60,
        "wires": [
            [
                "29fda0cf.4b634"
            ]
        ]
    },
    {
        "id": "318d6656.4cc6ba",
        "type": "hubitat device",
        "z": "64781044.3bdae",
        "deviceLabel": "",
        "name": "MB - MS Door",
        "server": "b130c189.ea4d2",
        "deviceId": "1354",
        "attribute": "motion",
        "sendEvent": false,
        "x": 200,
        "y": 100,
        "wires": [
            [
                "29fda0cf.4b634"
            ]
        ]
    },
    {
        "id": "29fda0cf.4b634",
        "type": "switch",
        "z": "64781044.3bdae",
        "name": "Motion",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "active",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "inactive",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 350,
        "y": 80,
        "wires": [
            [
                "505b4e91.06ad2"
            ],
            [
                "d3022955.76f568"
            ]
        ]
    },
    {
        "id": "505b4e91.06ad2",
        "type": "change",
        "z": "64781044.3bdae",
        "name": "active",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 60,
        "wires": [
            [
                "6ba94bd2.7531c4"
            ]
        ]
    },
    {
        "id": "d3022955.76f568",
        "type": "change",
        "z": "64781044.3bdae",
        "name": "inactive",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 100,
        "wires": [
            [
                "6ba94bd2.7531c4"
            ]
        ]
    },
    {
        "id": "6ba94bd2.7531c4",
        "type": "BooleanLogicUltimate",
        "z": "64781044.3bdae",
        "name": "",
        "filtertrue": "both",
        "persist": true,
        "sInitializeWith": "false",
        "triggertopic": "trigger",
        "outputtriggeredby": "all",
        "inputCount": "2",
        "topic": "Master Bedroom Motion",
        "x": 660,
        "y": 100,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "f67fb867.f5f0f8",
        "type": "hubitat device",
        "z": "d1d55504.1f3638",
        "deviceLabel": "",
        "name": "GR - MS Clock",
        "server": "b130c189.ea4d2",
        "deviceId": "1413",
        "attribute": "motion",
        "sendEvent": false,
        "x": 200,
        "y": 60,
        "wires": [
            [
                "207071f0.4cf69e"
            ]
        ]
    },
    {
        "id": "8f4f5624.ac2e98",
        "type": "hubitat device",
        "z": "d1d55504.1f3638",
        "deviceLabel": "",
        "name": "GR - MS Fireplace",
        "server": "b130c189.ea4d2",
        "deviceId": "162",
        "attribute": "motion",
        "sendEvent": false,
        "x": 190,
        "y": 100,
        "wires": [
            [
                "207071f0.4cf69e"
            ]
        ]
    },
    {
        "id": "207071f0.4cf69e",
        "type": "switch",
        "z": "d1d55504.1f3638",
        "name": "Motion",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "active",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "inactive",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 350,
        "y": 80,
        "wires": [
            [
                "baece42b.ec3bf8"
            ],
            [
                "f4f58adc.ddaf68"
            ]
        ]
    },
    {
        "id": "baece42b.ec3bf8",
        "type": "change",
        "z": "d1d55504.1f3638",
        "name": "active",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 60,
        "wires": [
            [
                "daee8f2a.149f4"
            ]
        ]
    },
    {
        "id": "f4f58adc.ddaf68",
        "type": "change",
        "z": "d1d55504.1f3638",
        "name": "inactive",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 100,
        "wires": [
            [
                "daee8f2a.149f4"
            ]
        ]
    },
    {
        "id": "af75de6f.2641",
        "type": "subflow:16de2fad.7629a",
        "z": "68ba5945.906288",
        "g": "c9e65dc5.3adf2",
        "name": "",
        "env": [],
        "x": 1840,
        "y": 500,
        "wires": [
            [],
            [
                "76a179c7.9945d8"
            ],
            []
        ]
    },
    {
        "id": "d16ecda4.01cc7",
        "type": "subflow:d1d55504.1f3638",
        "z": "68ba5945.906288",
        "g": "c9e65dc5.3adf2",
        "name": "",
        "x": 1850,
        "y": 380,
        "wires": [
            [],
            [
                "9c9ffdd5.f3dfe"
            ],
            []
        ]
    },
    {
        "id": "2d2dcea7.4096d2",
        "type": "subflow:64781044.3bdae",
        "z": "68ba5945.906288",
        "g": "c9e65dc5.3adf2",
        "name": "",
        "x": 1870,
        "y": 560,
        "wires": [
            [],
            [
                "c4fd27f6.48e488"
            ],
            []
        ]
    },
    {
        "id": "c4fd27f6.48e488",
        "type": "switch",
        "z": "68ba5945.906288",
        "g": "c9e65dc5.3adf2",
        "name": "if motion",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2080,
        "y": 560,
        "wires": [
            [
                "4beb3347.e3821c"
            ]
        ]
    },
    {
        "id": "76a179c7.9945d8",
        "type": "switch",
        "z": "68ba5945.906288",
        "g": "c9e65dc5.3adf2",
        "name": "if motion",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2080,
        "y": 500,
        "wires": [
            [
                "10274dad.3ea232"
            ]
        ]
    },
    {
        "id": "f680cc.0634df38",
        "type": "switch",
        "z": "68ba5945.906288",
        "g": "c9e65dc5.3adf2",
        "name": "if motion",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "active",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2080,
        "y": 440,
        "wires": [
            [
                "5545589a.449e08"
            ]
        ]
    },
    {
        "id": "9c9ffdd5.f3dfe",
        "type": "switch",
        "z": "68ba5945.906288",
        "g": "c9e65dc5.3adf2",
        "name": "if motion",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2080,
        "y": 380,
        "wires": [
            [
                "934512e6.71049"
            ]
        ]
    },
    {
        "id": "20c82f9f.76e01",
        "type": "hubitat device",
        "z": "68ba5945.906288",
        "g": "c9e65dc5.3adf2",
        "deviceLabel": "Downstairs Bedroom - Motion Sensor",
        "name": "DB - Motion Sensor",
        "server": "b130c189.ea4d2",
        "deviceId": "1347",
        "attribute": "motion",
        "sendEvent": false,
        "x": 1830,
        "y": 440,
        "wires": [
            [
                "f680cc.0634df38"
            ]
        ]
    },
    {
        "id": "daee8f2a.149f4",
        "type": "BooleanLogicUltimate",
        "z": "d1d55504.1f3638",
        "name": "",
        "filtertrue": "both",
        "persist": true,
        "sInitializeWith": "false",
        "triggertopic": "trigger",
        "outputtriggeredby": "all",
        "inputCount": "2",
        "topic": "Great Room Motion",
        "x": 660,
        "y": 100,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "4d988610.c291b8",
        "type": "BooleanLogicUltimate",
        "z": "16de2fad.7629a",
        "name": "",
        "filtertrue": "both",
        "persist": true,
        "sInitializeWith": "false",
        "triggertopic": "trigger",
        "outputtriggeredby": "all",
        "inputCount": "2",
        "topic": "Kitchen Motion",
        "x": 660,
        "y": 100,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "c93b0f9a.91d24",
        "type": "inject",
        "z": "a36e04ad.fc4098",
        "g": "8da5ebc3.3ce6e8",
        "name": "Every 10 min",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "600",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 160,
        "y": 80,
        "wires": [
            [
                "de9ac35b.69b59"
            ]
        ]
    },
    {
        "id": "943e96a3.21be98",
        "type": "http request",
        "z": "a36e04ad.fc4098",
        "g": "8da5ebc3.3ce6e8",
        "name": "",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 530,
        "y": 80,
        "wires": [
            [
                "f83a30a6.523d3"
            ]
        ]
    },
    {
        "id": "f83a30a6.523d3",
        "type": "change",
        "z": "a36e04ad.fc4098",
        "g": "8da5ebc3.3ce6e8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "weather",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 700,
        "y": 80,
        "wires": [
            [
                "592ab275.85b69c"
            ]
        ]
    },
    {
        "id": "de9ac35b.69b59",
        "type": "function",
        "z": "a36e04ad.fc4098",
        "g": "8da5ebc3.3ce6e8",
        "name": "Configure API URL",
        "func": "var lat = global.get('Latitude');\nvar lon = global.get('Longitude');\nvar API = global.get('weatherAPI');\n\n// get weather\nmsg.url= \"api.openweathermap.org/data/2.5/weather?lat=\"+lat+\"&lon=\"+lon+\"&appid=\"+API+\"&units=imperial\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "global.set('Latitude', \"33.423027\");\nglobal.set('Longitude', \"-117.614370\");\nglobal.set('weatherAPI', \"58133382d4ec4c6b00f30eeb6cf0c39a\");",
        "finalize": "",
        "x": 350,
        "y": 80,
        "wires": [
            [
                "943e96a3.21be98"
            ]
        ]
    },
    {
        "id": "23e5c36e.1bc65c",
        "type": "influxdb out",
        "z": "a36e04ad.fc4098",
        "influxdb": "3de4678f.7ce138",
        "name": "Hubitat DB",
        "measurement": "",
        "precision": "m",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 1090,
        "y": 100,
        "wires": []
    },
    {
        "id": "113fffb4.51278",
        "type": "debug",
        "z": "a36e04ad.fc4098",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1070,
        "y": 60,
        "wires": []
    },
    {
        "id": "592ab275.85b69c",
        "type": "function",
        "z": "a36e04ad.fc4098",
        "name": "Parse Weather",
        "func": "var temp = msg.payload\nmsg.payload = null\n\nmsg.measurement =  \"openWeatherMap\";           //measurement\nmsg.payload = [{\n            temp: temp.main.temp,                   //fields\n            humidity: temp.main.humidity,\n            pressure: temp.main.pressure,\n            windSpeed: temp.wind.speed,\n            windDir: temp.wind.deg\n            },\n            \n    {source: \"internet\"}               //tags\n];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 910,
        "y": 80,
        "wires": [
            [
                "23e5c36e.1bc65c",
                "113fffb4.51278"
            ]
        ]
    },
    {
        "id": "7a6f9da7.bc0054",
        "type": "websocket in",
        "z": "a36e04ad.fc4098",
        "name": "Hubitat Event Socket Prod",
        "server": "",
        "client": "2dc2e126.6a7bae",
        "x": 150,
        "y": 500,
        "wires": [
            [
                "5cb15e7b.24f5"
            ]
        ]
    },
    {
        "id": "78153983.2b4b58",
        "type": "function",
        "z": "a36e04ad.fc4098",
        "name": "Set Influx Data",
        "func": "\nconst ACTIVE = 'active';\nconst CLOSED = 'closed';\nconst DETECTED = 'detected';\nconst FOLLOW_SCHEDULE = 'follow schedule';\nconst GOOD = 'good';\nconst HEATING = 'heating';\nconst LOCKED = 'locked';\nconst MUTED = 'muted';\nconst OFF = 'off';\nconst ON = 'on';\nconst OPEN = 'open';\nconst PRESENT = 'present';\nconst PUSHED = 'pushed';\nconst SLEEPING = 'sleeping';\nconst TOUCHED = 'touched';\nconst WET = 'wet';\n\nvar v = {\n    'value' : null,\n    'isBinary' : null\n};\n\nif(msg.name == \"acceleration\") {\n    v.value = (msg.value == ACTIVE ? 1 : 0);\n    v.isBinary = true;\n}\n\nelse if(msg.name == \"alarm\") {\n    v.value = (msg.value != OFF ? 1 : 0);\n    v.isBinary = true;\n}\n\nelse if(msg.name == \"button\") {\n    v.value = (msg.value != PUSHED ? 1 : 0);\n    v.isBinary = true;\n}\n\nelse if(msg.name == \"carbonMonoxide\") {\n    v.value = (msg.value == DETECTED ? 1 : 0);\n    v.isBinary = true;\n}\n\nelse if(msg.name == \"consumableStatus\") {\n    v.value = (msg.value == GOOD ? 1 : 0);\n    v.isBinary = true;\n}\n\nelse if(msg.name == \"contact\") {\n    v.value = (msg.value == OPEN ? 1 : 0);\n    v.isBinary = true;\n}\n\nelse if(msg.name == \"door\") {\n    v.value = (msg.value != OPEN ? 1 : 0);\n    v.isBinary = true;\n}\n\nelse if(msg.name == \"lock\") {\n    v.value = (msg.value == LOCKED ? 1 : 0);\n    v.isBinary = true;\n}\n\nelse if(msg.name == \"lock\") {\n    v.value = (msg.value == LOCKED ? 1 : 0);\n    v.isBinary = true;\n}\n\nelse if(msg.name == \"motion\") {\n    v.value = (msg.value == ACTIVE ? 1 : 0);\n    v.isBinary = true;\n}\n\nelse if(msg.name == \"mute\") {\n    v.value = (msg.value == MUTED ? 1 : 0);\n    v.isBinary = true;\n}\n\nelse if(msg.name == \"presence\") {\n    v.value = (msg.value == PRESENT ? 1 : 0);\n    v.isBinary = true;\n}\n\nelse if(msg.name == \"shock\") {\n    v.value = (msg.value == DETECTED ? 1 : 0);\n    v.isBinary = true;\n}\n\nelse if(msg.name == \"sleeping\") {\n    v.value = (msg.value == SLEEPING ? 1 : 0);\n    v.isBinary = true;\n}\n\nelse if(msg.name == \"smoke\") {\n    v.value = (msg.value == DETECTED ? 1 : 0);\n    v.isBinary = true;\n}\n\nelse if(msg.name == \"sound\") {\n    v.value = (msg.value == DETECTED ? 1 : 0);\n    v.isBinary = true;\n}\n\nelse if(msg.name == \"switch\") {\n    v.value = (msg.value == ON ? 1 : 0);\n    v.isBinary = true;\n}\n\nelse if(msg.name == \"tamper\") {\n    v.value = (msg.value == DETECTED ? 1 : 0);\n    v.isBinary = true;\n}\n\nelse if(msg.name == \"thermostatMode\") {\n    v.value = (msg.value != OFF ? 1 : 0);\n    v.isBinary = true;\n}\n\nelse if(msg.name == \"thermostatFanMode\") {\n    v.value = (msg.value != OFF ? 1 : 0);\n    v.isBinary = true;\n}\n\nelse if(msg.name == \"thermostatOperatingState\") {\n    v.value = (msg.value == HEATING ? 1 : 0);\n    v.isBinary = true;\n}\n\nelse if(msg.name == \"thermostatSetpointMode\") {\n    v.value = (msg.value != FOLLOW_SCHEDULE ? 1 : 0);\n    v.isBinary = true;\n}\n\nelse if(msg.name == \"touch\") {\n    v.value = (msg.value != TOUCHED ? 1 : 0);\n    v.isBinary = true;\n}\n\nelse if(msg.name == \"optimisation\") {\n    v.value = (msg.value == ACTIVE ? 1 : 0);\n    v.isBinary = true;\n}\n\nelse if(msg.name == \"windowFunction\") {\n    v.value = (msg.value == ACTIVE ? 1 : 0);\n    v.isBinary = true;\n}\n\nelse if(msg.name == \"water\") {\n    v.value = (msg.value == WET ? 1 : 0);\n    v.isBinary = true;\n}\n\nelse if(msg.name == \"windowShade\") {\n    v.value = (msg.value == CLOSED ? 1 : 0);\n    v.isBinary = true;\n}\n\nelse if(msg.name == \"threeAxis\") {\n    var vz = msg.value.split(',');\n    var x = vz[0];\n    var y = vz[1];\n    var z = vz[2];\n    v.value = {\n        x: vz[0],\n        y: vz[1],\n        z: vz[2]\n    };\n    v.isBinary = false;\n}\nelse if (msg.value.match(/.*[^0-9\\.,-].*/)) { // match if any characters are not digits, period, comma, or hyphen.\n    v.value = '\"' + msg.value + '\"';\n    v.isBinary = false;\n}\n\n// Catch any other general numerical event (carbonDioxide, power, energy, humidity, level, temperature, ultravioletIndex, voltage, etc).\nelse {\n    v.value = Number(msg.value);\n    v.isBinary = false;\n}\nif (msg.name == \"threeAxis\"){\n    msg.payload = [\n        {\n            measurement: msg.name,\n            fields: {\n                valueX: v.value.x,\n                valueY: v.value.y,\n                valueZ: v.value.z\n            },\n            tags:{\n                hub: msg.hubId ? msg.hubId : \"HE1\",\n                deviceId: msg.deviceId,\n                displayName: msg.displayName,\n                unit: msg.unit\n            },\n            timestamp: new Date()\n        }\n    ]\n} else if (v.isBinary)\n{\n    msg.payload = [\n        {\n            measurement: msg.name,\n            fields: {\n                value: msg.value,\n                valueBinary: v.value\n            },\n            tags:{\n                hub: msg.hubId ? msg.hubId : \"HE1\",\n                deviceId: msg.deviceId,\n                displayName: msg.displayName,\n                unit: msg.unit\n            },\n            timestamp: new Date()\n        }\n    ]    \n}\nelse\n{\n    msg.payload = [\n        {\n            measurement: msg.name,\n            fields: {\n                value: (Array.isArray(v.value) ? v.value.join(',') : v.value),\n            },\n            tags:{\n                hub: msg.hubId ? msg.hubId : \"HE1\",\n                deviceId: msg.deviceId,\n                displayName: msg.displayName,\n                unit: msg.unit\n            },\n            timestamp: new Date()\n        }\n    ]\n}\n//console.log(util.inspect(msg, {showHidden: false, depth: null}))\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 540,
        "y": 500,
        "wires": [
            [
                "19e48438.225ddc"
            ]
        ]
    },
    {
        "id": "5cb15e7b.24f5",
        "type": "filter",
        "z": "a36e04ad.fc4098",
        "name": "Filter attributes",
        "property": "name",
        "propertyType": "msg",
        "asArray": false,
        "itemProperty": "",
        "itemPropertyType": "item",
        "rules": [
            {
                "t": "eq",
                "v": "acceleration",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "alarm",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "battery",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "presence",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "carbonMonoxide",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "carbonDioxide",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "contact",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "door",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "energy",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "humidity",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "illuminance",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "lock",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "motion",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "status",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "steps",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "goal",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "pH",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "power",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "voltage",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "current",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "powerFactor",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "presence",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "pressure",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "shock",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "lqi",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "rssi",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "sleeping",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "smoke",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "tamper",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "temperature",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "heatingSetpoint",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "thermostatSetpoint",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "thermostatMode",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "thermostatFanMode",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "thermostatOperatingState",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "thermostatSetpointMode",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "scheduledSetpoint",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "optimisation",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "windowFunction",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "threeAxis",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "touch",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "ultravioletIndex",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "contact",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "voltage",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "water",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "windowShade",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "battery_mV",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "medianD",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "lastDataPoint1",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "switch",
                "vt": "str",
                "output": 1
            },
            {
                "t": "eq",
                "v": "level",
                "vt": "str",
                "output": 1
            }
        ],
        "checkall": "false",
        "outputs": 1,
        "x": 360,
        "y": 500,
        "wires": [
            [
                "78153983.2b4b58"
            ]
        ]
    },
    {
        "id": "19e48438.225ddc",
        "type": "influxdb batch",
        "z": "a36e04ad.fc4098",
        "influxdb": "3de4678f.7ce138",
        "precision": "",
        "retentionPolicy": "",
        "name": "",
        "x": 730,
        "y": 500,
        "wires": []
    },
    {
        "id": "7d1427e2.d9ac28",
        "type": "hubitat command",
        "z": "a36e04ad.fc4098",
        "deviceLabel": "",
        "name": "DR - Motion Sensor",
        "server": "b130c189.ea4d2",
        "deviceId": "1348",
        "command": "refresh",
        "commandArgs": "",
        "x": 370,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "76f22507.b7a36c",
        "type": "inject",
        "z": "a36e04ad.fc4098",
        "name": "Every 30 min",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1800",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 300,
        "wires": [
            [
                "7d1427e2.d9ac28",
                "2d2b066e.00430a",
                "ade6b80a.8da618",
                "f4a4d2e8.ddb4b",
                "c2302937.22ae68",
                "abe68f3b.38f8a",
                "21acb091.d298",
                "c98d8087.c6668"
            ]
        ]
    },
    {
        "id": "2d2b066e.00430a",
        "type": "hubitat command",
        "z": "a36e04ad.fc4098",
        "deviceLabel": "",
        "name": "DB - Motion Sensor",
        "server": "b130c189.ea4d2",
        "deviceId": "1347",
        "command": "refresh",
        "commandArgs": "",
        "x": 370,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "ade6b80a.8da618",
        "type": "hubitat command",
        "z": "a36e04ad.fc4098",
        "deviceLabel": "",
        "name": "GR - Motion Sensor Clock",
        "server": "b130c189.ea4d2",
        "deviceId": "1413",
        "command": "refresh",
        "commandArgs": "",
        "x": 390,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "f4a4d2e8.ddb4b",
        "type": "hubitat command",
        "z": "a36e04ad.fc4098",
        "deviceLabel": "",
        "name": "GR - Motion Sensor Fireplace",
        "server": "b130c189.ea4d2",
        "deviceId": "162",
        "command": "refresh",
        "commandArgs": "",
        "x": 410,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "c2302937.22ae68",
        "type": "hubitat command",
        "z": "a36e04ad.fc4098",
        "deviceLabel": "",
        "name": "KT - Motion Sensor Microwave",
        "server": "b130c189.ea4d2",
        "deviceId": "1794",
        "command": "refresh",
        "commandArgs": "",
        "x": 410,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "abe68f3b.38f8a",
        "type": "hubitat command",
        "z": "a36e04ad.fc4098",
        "deviceLabel": "",
        "name": "KT - Motion Sensor Pantry",
        "server": "b130c189.ea4d2",
        "deviceId": "1795",
        "command": "refresh",
        "commandArgs": "",
        "x": 400,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "21acb091.d298",
        "type": "hubitat command",
        "z": "a36e04ad.fc4098",
        "deviceLabel": "",
        "name": "MB - Motion Sensor Bath",
        "server": "b130c189.ea4d2",
        "deviceId": "1418",
        "command": "refresh",
        "commandArgs": "",
        "x": 390,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "c98d8087.c6668",
        "type": "hubitat command",
        "z": "a36e04ad.fc4098",
        "deviceLabel": "",
        "name": "MB - Motion Sensor Door",
        "server": "b130c189.ea4d2",
        "deviceId": "1354",
        "command": "refresh",
        "commandArgs": "",
        "x": 390,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "94c8bb0c.7defd8",
        "type": "inject",
        "z": "f3e4e663.9ecbb8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 310,
        "y": 380,
        "wires": [
            [
                "a1f3edce.990c1"
            ]
        ]
    },
    {
        "id": "a1f3edce.990c1",
        "type": "exec",
        "z": "f3e4e663.9ecbb8",
        "command": "rclone config file",
        "addpay": false,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "",
        "x": 550,
        "y": 400,
        "wires": [
            [
                "7f28b44f.c55d4c"
            ],
            [
                "7f28b44f.c55d4c"
            ],
            [
                "7f28b44f.c55d4c"
            ]
        ]
    },
    {
        "id": "7f28b44f.c55d4c",
        "type": "debug",
        "z": "f3e4e663.9ecbb8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 880,
        "y": 400,
        "wires": []
    },
    {
        "id": "66e3a5b.1c3e25c",
        "type": "vsh-virtual-device",
        "z": "e1557285.e3f86",
        "name": "NR - Virtual Motion",
        "topic": "Virtual Motion",
        "connection": "b4d8ec3.84a421",
        "template": "SWITCH",
        "passthrough": true,
        "diff": false,
        "filter": false,
        "x": 130,
        "y": 100,
        "wires": [
            [
                "53101c6a.f83a74"
            ]
        ]
    },
    {
        "id": "a9d544fe.3e5728",
        "type": "vsh-virtual-device",
        "z": "e1557285.e3f86",
        "name": "Motion Sensor",
        "topic": "Motion Sensor Mask",
        "connection": "b4d8ec3.84a421",
        "template": "SWITCH",
        "passthrough": true,
        "diff": false,
        "filter": false,
        "x": 140,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "29e9a3ce.1fc30c",
        "type": "vsh-virtual-device",
        "z": "e1557285.e3f86",
        "name": "Motion Sensing",
        "topic": "Motion Sensing Mask",
        "connection": "b4d8ec3.84a421",
        "template": "SWITCH",
        "passthrough": true,
        "diff": false,
        "filter": false,
        "x": 140,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "ce986122.c5b6a",
        "type": "delay",
        "z": "f2fbef66.3730f",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "10",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 820,
        "y": 1020,
        "wires": [
            [
                "ad04b16e.4ea1e",
                "6bd81d47.b57244"
            ]
        ]
    },
    {
        "id": "edb7a7ed.2eb3e8",
        "type": "status",
        "z": "836b4374.e4af2",
        "name": "",
        "scope": [
            "dbbb9989.d3edb8",
            "6c0e6956.f086e8"
        ],
        "x": 940,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "778523f2.7c7a2c",
        "type": "status",
        "z": "d1d55504.1f3638",
        "name": "",
        "scope": [
            "daee8f2a.149f4"
        ],
        "x": 680,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "f1d071a9.ef536",
        "type": "status",
        "z": "16de2fad.7629a",
        "name": "",
        "scope": [
            "4d988610.c291b8"
        ],
        "x": 680,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "75f6710b.34cce",
        "type": "status",
        "z": "64781044.3bdae",
        "name": "",
        "scope": [
            "6ba94bd2.7531c4"
        ],
        "x": 680,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "cc3191b7.fe9bd",
        "type": "rbe",
        "z": "d06ad5d7.7d1a38",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 440,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "5c6eb93e.832348",
        "type": "inject",
        "z": "e1557285.e3f86",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 60,
        "wires": [
            [
                "66e3a5b.1c3e25c"
            ]
        ]
    },
    {
        "id": "76405eee.612c6",
        "type": "comment",
        "z": "5618f29.6116b0c",
        "name": "Modify the `Get Echo Devices` node to your configuration!",
        "info": "",
        "x": 290,
        "y": 260,
        "wires": []
    },
    {
        "id": "5033ca0e.da4f04",
        "type": "inject",
        "z": "e1557285.e3f86",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 290,
        "y": 660,
        "wires": [
            [
                "448cb9a6.32ef68"
            ]
        ]
    },
    {
        "id": "2cb2a0cf.6c3d2",
        "type": "alexa-remote-echo",
        "z": "5618f29.6116b0c",
        "name": "",
        "account": "d452a9d3.7a4488",
        "config": {
            "option": "get",
            "value": {
                "what": "device",
                "device": {
                    "type": "str",
                    "value": "ALEXA_ALL_DSN"
                }
            }
        },
        "x": 390,
        "y": 320,
        "wires": [
            [
                "a007ddb2.26f0d"
            ]
        ]
    },
    {
        "id": "a007ddb2.26f0d",
        "type": "split",
        "z": "5618f29.6116b0c",
        "name": "Split Devices",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 570,
        "y": 320,
        "wires": [
            [
                "b4928870.9ad468"
            ]
        ]
    },
    {
        "id": "b4928870.9ad468",
        "type": "switch",
        "z": "5618f29.6116b0c",
        "name": "Filter Echos",
        "property": "payload.deviceFamily",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "ECHO",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 730,
        "y": 320,
        "wires": [
            [
                "13cd680f.9ca1e8"
            ]
        ]
    },
    {
        "id": "13cd680f.9ca1e8",
        "type": "change",
        "z": "5618f29.6116b0c",
        "name": "Copy Relevant Data",
        "rules": [
            {
                "t": "set",
                "p": "device.serialNumber",
                "pt": "msg",
                "to": "payload.serialNumber",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "device.accountName",
                "pt": "msg",
                "to": "payload.accountName",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 920,
        "y": 320,
        "wires": [
            [
                "a871edc0.cec5b"
            ]
        ]
    },
    {
        "id": "a871edc0.cec5b",
        "type": "switch",
        "z": "5618f29.6116b0c",
        "name": "Filter?",
        "property": "filter",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1090,
        "y": 320,
        "wires": [
            [
                "fb62e779.e34888"
            ],
            [
                "4b282892.370b98"
            ]
        ]
    },
    {
        "id": "d6bd2709.bb14a8",
        "type": "change",
        "z": "5618f29.6116b0c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "filter",
                "pt": "msg",
                "to": "payload and true",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 210,
        "y": 320,
        "wires": [
            [
                "2cb2a0cf.6c3d2"
            ]
        ]
    },
    {
        "id": "116ebb3d.9b3195",
        "type": "inject",
        "z": "e1557285.e3f86",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 290,
        "y": 700,
        "wires": [
            [
                "448cb9a6.32ef68"
            ]
        ]
    },
    {
        "id": "daf7ed1c.d9b53",
        "type": "inject",
        "z": "e1557285.e3f86",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 280,
        "y": 780,
        "wires": [
            [
                "448cb9a6.32ef68"
            ]
        ]
    },
    {
        "id": "448cb9a6.32ef68",
        "type": "subflow:5618f29.6116b0c",
        "z": "e1557285.e3f86",
        "name": "",
        "env": [],
        "x": 470,
        "y": 720,
        "wires": []
    },
    {
        "id": "4b282892.370b98",
        "type": "debug",
        "z": "5618f29.6116b0c",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1230,
        "y": 340,
        "wires": []
    },
    {
        "id": "fb62e779.e34888",
        "type": "debug",
        "z": "5618f29.6116b0c",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "device",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1230,
        "y": 300,
        "wires": []
    },
    {
        "id": "594a97ef.bc7a48",
        "type": "inject",
        "z": "e1557285.e3f86",
        "name": "",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 290,
        "y": 740,
        "wires": [
            [
                "448cb9a6.32ef68"
            ]
        ]
    }
]